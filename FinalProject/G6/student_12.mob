{"name": "FinalProject_G6_student_12", "author": "new_user", "flowchart": {"id": "70b80d97-658b-5647-bdbf-1d5aa03e7fea", "name": "FinalProject_G6_student_12", "description": "This parametric model aims to recreate the overall building massing of The Hive @NTU.\nThe model includes additional customisable parameters which allows the modification of forms and compositions of the building while still maintaining its overall architectural and structural logic.\nThis allows for quick visualisation of the possibilities in change in geometric entities by simply moving sliders to the desired amount of input value.", "language": "js", "meta": {"selected_nodes": [0]}, "nodes": [{"name": "Start", "id": "node_wffjagbk2u", "position": {"x": 5460, "y": 4820}, "enabled": true, "type": "start", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 10, "ID": "prod-2c6eqt1wrhs", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "1. NUMBER OF FLOORS (NF)\nThis parameter changes the FLOOR NUMBER of the OVERALL MODEL.\nThe greater the value of this parameter, the more number of floors of the OVERALL MODEL will be produced."}, "args": [{"name": "const_name", "value": "FLOOR_NUM", "jsValue": "FLOOR_NUM_"}, {"name": "__input__", "value": 8, "min": "2", "max": "8", "step": "2"}]}, {"type": 10, "ID": "prod-0qtz2vmqmgpn", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "2. HEIGHT OF FLOORS (HF)\nThis parameter changes each FLOOR HEIGHT of the OVERALL MODEL.\nThe greater the value of this parameter, the larger the height each floors of the OVERALL MODEL will be produced."}, "args": [{"name": "const_name", "value": "FLOOR_SEP", "jsValue": "FLOOR_SEP_"}, {"name": "__input__", "value": 25, "step": "5", "min": "25", "max": "40"}], "selectGeom": false}, {"type": 10, "ID": "prod-iuuvi3zv0n", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "3. TAPERING OF MODEL (TM)\nThis parameter changes the TAPERING of the OVERALL MODEL.\nThe greater the value of this parameter, the larger the degree of taper the MODEL becomes.\nWhen taper value is more than 0, MODEL will taper outwards.\nWhen taper value is less than 0, MODEL will taper inwards."}, "args": [{"name": "const_name", "value": "BUILDING_TAPER", "jsValue": "BUILDING_TAPER_"}, {"name": "__input__", "value": 0.02, "step": "0.01", "min": "-0.04", "max": "0.06"}]}, {"type": 10, "ID": "prod-6xbrqpp5ukk", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "4. ROTATION OF MODEL (RM)\nThis parameter changes the ROTATION of the OVERALL MODEL.\nThe greater the value of this parameter, the larger the degree of rotation of the OVERALL MODEL becomes."}, "args": [{"name": "const_name", "value": "BUILDING_ROT", "jsValue": "BUILDING_ROT_"}, {"name": "__input__", "value": 0, "step": "2", "min": "0", "max": "10"}], "selectGeom": false}, {"type": 10, "ID": "prod-yhe0mbmtxn", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "5. SIZE OF BUILDING (SB)\nThis parameter changes the SIZE of the BUILDING.\nThe greater the value of this parameter, the larger the BUILDING will be."}, "args": [{"name": "const_name", "value": "BUILDING_SIZE", "jsValue": "BUILDING_SIZE_"}, {"name": "__input__", "value": 1, "max": "1.50", "step": "0.25", "min": "0.50"}], "selectGeom": false}, {"type": 10, "ID": "prod-yegqnz7s63", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 6, "description": "6. SEPARATION OF FLOORS (SF)\nThis parameter changes the SEPARATION of each floor of the BUILDING.\nWhen \"EVERY FLOORS\" is selected, the building floors will seperate on every steps.\nWhen \"ALTERNATE FLOORS\" is selected, the building floors will seperate on every alternate steps."}, "args": [{"name": "const_name", "value": "FLOOR_SEP_VAR", "jsValue": "FLOOR_SEP_VAR_"}, {"name": "__input__", "value": "\"EVERY FLOORS\"", "max": "\"EVERY FLOORS\",\"ALTERNATE FLOORS\"", "min": ["\"EVERY FLOORS\"", "\"ALTERNATE FLOORS\""]}], "selectGeom": false}, {"type": 10, "ID": "prod-4v8epcklece", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "7. NUMBER OF POINTS IN BUILDING PERIMETER (NPBP)\nThis parameter changes the number of POINTS on the PERIMETER OF BUILDING.\nThe greater the value of this parameter, the more points on the PERIMETER OF BUILDING will be produced."}, "args": [{"name": "const_name", "value": "NUM_POS", "jsValue": "NUM_POS_"}, {"name": "__input__", "value": 16, "step": "1", "min": "4", "max": "16"}], "selectGeom": false}, {"type": 10, "ID": "prod-hkqitpjhcwp", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 6, "description": "8. CENTRE HOLE IN BUILDING (CHB)\nThis parameter creates a HOLE in the middle of the BUILDING.\nWhen \"NO HOLE\" is selected, the building doesn't create a hole.\nWhen \"HOLE\" is selected, the building creates a hole."}, "args": [{"name": "const_name", "value": "BUILDING_HOLE", "jsValue": "BUILDING_HOLE_"}, {"name": "__input__", "value": "\"NO HOLE\"", "max": "\"NO HOLE\",\"HOLE\"", "min": ["\"NO HOLE\"", "\"HOLE\""]}]}, {"type": 10, "ID": "prod-wrilzcimjs9", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "9a. WAVE PATTERNS IN BUILDING PERIMETER/HOLE (WPBP/H)\nThis parameter changes the NUMBER OF UNDULATIONS in BUILDING EDGES.\nThe greater the value of this parameter, the more number of undulations on the BUILDING EDGES will be produced.\n\nNOTE: To visualise effect, 8a, 9b, 8c have to be assigned a value greater than 0.\n*WARNING SLOW*"}, "args": [{"name": "const_name", "value": "NUM_UND", "jsValue": "NUM_UND_"}, {"name": "__input__", "value": 0, "step": "0.5", "min": "0", "max": "2"}], "selectGeom": false}, {"type": 10, "ID": "prod-qsc7u9eux1q", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "9b. WAVE PATTERNS IN BUILDING PERIMETER/HOLE (WPBP/H)\nThis parameter changes the DEPTH OF UNDULATIONS in BUILDING EDGES.\nThe greater the value of this parameter, the more depth of undulations on the BUILDING EDGES will be produced.\n\nNOTE: To visualise effect, 8a, 9b, 8c have to be assigned a value greater than 0.\n*WARNING SLOW* "}, "args": [{"name": "const_name", "value": "UND_DEPTH", "jsValue": "UND_DEPTH_"}, {"name": "__input__", "value": 0, "step": "10", "min": "0", "max": "30"}], "selectGeom": false}, {"type": 10, "ID": "prod-zx8kamq5xyd", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "9c. WAVE PATTERNS IN BUILDING PERIMETER/HOLE (WPBP/H)\nThis parameter changes the HEIGHT OF UNDULATIONS in BUILDING EDGES.\n[Building Edges will fall when value = negative]\n[Building Edges will stay neutral when value = 0]\n[Building Edges will raise when value = positive]\n\nNOTE: To visualise effect, 8a, 9b, 8c have to be assigned a value greater than 0.\n*WARNING SLOW* "}, "args": [{"name": "const_name", "value": "UND_HEIGHT", "jsValue": "UND_HEIGHT_"}, {"name": "__input__", "value": 0, "step": "5", "min": "-5", "max": "5"}], "selectGeom": false}, {"type": 10, "ID": "prod-uoj602lqv9b", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "10. SIZE OF SHORT TOWERS (SST)\nThis parameter changes the SIZE of SHORT TOWERS.\nThe greater the value of this parameter, the larger the SHORT TOWERS will be."}, "args": [{"name": "const_name", "value": "SHORT_TOWER_SIZE", "jsValue": "SHORT_TOWER_SIZE_"}, {"name": "__input__", "value": 1.25, "max": "2", "min": "1", "step": "0.25"}], "selectGeom": false}, {"type": 10, "ID": "prod-96traartgoa", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "11a. SIZE OF FLAPS (SF)\nThis parameter changes the SIZE of FLAPS.\nThe greater the value of this parameter, the larger the FLAPS will be."}, "args": [{"name": "const_name", "value": "FLAP_SIZE", "jsValue": "FLAP_SIZE_"}, {"name": "__input__", "value": 1.25, "max": "2", "min": "1", "step": "0.25"}], "selectGeom": false}, {"type": 10, "ID": "prod-zecdlulj5p", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "11b. ROTATION IN FLAPS-SHORT TOWER RELATIONSHIP (RF-STR)\nThis parameter changes the ROTATION of FLAPS along the axis of the edges of building.\n[Flaps will rotate towards the left when value = negative]\n[Flaps will stay neutral when value = 0]\n[Flaps will rotate towards the right when value = positive]\n\nWhen rotation is -80 degrees, left towers disappears\nWhen rotation is 0 degrees, nothing happens\nWhen rotation is 80 degrees, right towers disappears"}, "args": [{"name": "const_name", "value": "FLAP_ROT", "jsValue": "FLAP_ROT_"}, {"name": "__input__", "value": 0, "max": "80", "min": "-80", "step": "40"}], "selectGeom": false}, {"type": 10, "ID": "prod-gczje9k0n6h", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "12. SIZE OF TALL TOWERS (STT)\nThis parameter changes the SIZE of TALL TOWERS.\nThe greater the value of this parameter, the larger the TALL TOWERS will be."}, "args": [{"name": "const_name", "value": "TALL_TOWER_SIZE", "jsValue": "TALL_TOWER_SIZE_"}, {"name": "__input__", "value": 1.25, "max": "2", "min": "1", "step": "0.25"}], "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": false, "show_func": false}, "input": {"name": "input", "type": 0, "edges": [], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0"}, "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Building", "id": "node_smouzi78v0p", "position": {"x": 5460, "y": 4920}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "ID": "prod-8j5spn2o7l5", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "seperation_var", "jsValue": "seperation_var_"}, {"name": "value", "value": "FLOOR_SEP_VAR", "usedVars": ["FLOOR_SEP_VAR"], "jsValue": "FLOOR_SEP_VAR_"}], "variable": "seperation_var"}, {"type": 0, "ID": "prod-69pncsw96a", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "taper", "jsValue": "taper_"}, {"name": "value", "value": "BUILDING_TAPER", "usedVars": ["BUILDING_TAPER"], "jsValue": "BUILDING_TAPER_"}], "variable": "taper", "selectGeom": false}, {"type": 0, "ID": "prod-hoz3xn409j6", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "colour", "jsValue": "colour_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "colour"}, {"type": 14, "ID": "prod-l970gm1zmb", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "create positions for building base"}], "selectGeom": false}, {"type": 8, "ID": "prod-8dofruvoj2", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "building_pos", "jsValue": "building_pos_"}, {"name": "__model__"}, {"name": "origin", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "radius", "value": "100", "usedVars": [], "jsValue": "100"}, {"name": "num_positions", "value": "NUM_POS + 1", "usedVars": ["NUM_POS"], "jsValue": "NUM_POS_ + 1"}, {"name": "arc_angle", "value": "PI * 2", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(PI)) * 2"}], "variable": "building_pos", "selectGeom": false, "terminate": false}, {"type": 14, "ID": "prod-z76nppi179e", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "make floors"}], "selectGeom": false}, {"type": 18, "ID": "prod-sryzcdvk9i9", "enabled": true, "print": false, "argCount": 5, "meta": {"module": "localFunc", "name": "make_floors", "otherInfo": {"deletedArgs": []}}, "args": [{"name": "__none__"}, {"name": "building_pos", "value": "building_pos", "usedVars": ["building_pos"], "jsValue": "building_pos_"}, {"name": "colour", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "taper", "value": "taper", "jsValue": "taper_", "usedVars": ["taper"]}, {"name": "seperation_var", "value": "seperation_var", "jsValue": "seperation_var_", "usedVars": ["seperation_var"]}], "selectGeom": false, "terminate": false}, {"type": 14, "ID": "prod-s370fwsg1ob", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "make columns"}], "selectGeom": false}, {"type": 18, "ID": "prod-tzgpwtra5ad", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "localFunc", "name": "make_columns"}, "args": [{"name": "__none__"}, {"name": "building_pos", "value": "building_pos", "usedVars": ["building_pos"], "jsValue": "building_pos_"}], "selectGeom": false}, {"type": 14, "ID": "prod-lc5drd852bq", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "visualise colour"}], "selectGeom": false}, {"type": 8, "ID": "prod-pzmp063zzwp", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "colour", "usedVars": ["colour"], "jsValue": "colour_"}, {"name": "color", "value": "[1.00, 0.98, 0.94]", "usedVars": [], "jsValue": "[1.00, 0.98, 0.94]"}], "selectGeom": false}, {"type": 14, "ID": "prod-i2sox4z953", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "======================= create attribute for all downstream nodes ======================="}]}, {"type": 14, "ID": "prod-y7qe285m67e", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "create building base attibute for downstream nodes"}], "selectGeom": false}, {"type": 8, "ID": "prod-7uj7mxecill", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "base_pos", "jsValue": "base_pos_"}, {"name": "__model__"}, {"name": "entities", "value": "building_pos", "usedVars": ["building_pos"], "jsValue": "building_pos_"}, {"name": "vector", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}], "variable": "base_pos", "selectGeom": false}, {"type": 0, "ID": "prod-ad23gaqi60q", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "base_pos@type", "jsValue": "base_pos_@type", "usedVars": ["base_pos"]}, {"name": "value", "value": "\"base\"", "jsValue": "\"base\"", "usedVars": []}], "variable": null, "selectGeom": false, "terminate": false}, {"type": 14, "ID": "prod-x79vxb6n3vs", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "create flap attibute for downstream nodes"}], "selectGeom": false}, {"type": 8, "ID": "prod-1ijizw3v5di", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "flap_pos", "jsValue": "flap_pos_"}, {"name": "__model__"}, {"name": "entities", "value": "building_pos", "usedVars": ["building_pos"], "jsValue": "building_pos_"}, {"name": "vector", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}], "variable": "flap_pos"}, {"type": 0, "ID": "prod-3wqkp87pl12", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "flap_pos@type", "jsValue": "flap_pos_@type", "usedVars": ["flap_pos"]}, {"name": "value", "value": "\"flap_base\"", "jsValue": "\"flap_base\"", "usedVars": []}], "variable": null, "selectGeom": false, "terminate": false}, {"type": 14, "ID": "prod-wtc2t9s5nwe", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "create tall tower attibute for downstream nodes"}], "selectGeom": false}, {"type": 8, "ID": "prod-b6otny5e2h8", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "tall_tower_pos", "jsValue": "tall_tower_pos_"}, {"name": "__model__"}, {"name": "entities", "value": "building_pos", "usedVars": ["building_pos"], "jsValue": "building_pos_"}, {"name": "vector", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}], "variable": "tall_tower_pos", "selectGeom": false}, {"type": 0, "ID": "prod-d1m9um2xjgw", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "tall_tower_pos@type", "jsValue": "tall_tower_pos_@type", "usedVars": ["tall_tower_pos"]}, {"name": "value", "value": "\"tall_tower_base\"", "jsValue": "\"tall_tower_base\"", "usedVars": []}], "variable": null, "selectGeom": false, "terminate": false}, {"type": 14, "ID": "prod-erjwbt1it19", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "create short tower attibute for downstream nodes"}], "selectGeom": false}, {"type": 8, "ID": "prod-8mine9usxlk", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "short_tower_pos", "jsValue": "short_tower_pos_"}, {"name": "__model__"}, {"name": "entities", "value": "building_pos", "usedVars": ["building_pos"], "jsValue": "building_pos_"}, {"name": "vector", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}], "variable": "short_tower_pos", "selectGeom": false}, {"type": 0, "ID": "prod-xphlxq9s2xp", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "short_tower_pos@type", "jsValue": "short_tower_pos_@type", "usedVars": ["short_tower_pos"]}, {"name": "value", "value": "\"short_tower_base\"", "jsValue": "\"short_tower_base\"", "usedVars": []}], "variable": null, "selectGeom": false, "terminate": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 16, "ID": "prod-ffco4b52d8m", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "law_curve", "num_returns": 1, "collapsed": true}}, "args": [{"name": "func_name", "value": "law_curve", "jsValue": "law_curve_"}, {"name": "arg_1", "value": "t", "jsValue": "t_", "usedVars": ["t"]}], "children": [{"type": 13, "ID": "prod-wma6zmj75ak", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-aab0rxkjjwv", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "rt", "jsValue": "rt_"}, {"name": "value", "value": "sin(t)", "usedVars": ["t"], "jsValue": "sin(__debug__, t_)"}], "variable": "rt", "selectGeom": false}, {"type": 17, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-ma7yo13656a", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "Value", "value": "rt", "usedVars": ["rt"], "jsValue": "rt_"}], "selectGeom": false}], "variable": null, "selectGeom": false}, {"type": 16, "ID": "prod-vuvhps8um6", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "add_normals", "num_returns": 0, "collapsed": true}}, "args": [{"name": "func_name", "value": "add_normals", "jsValue": "add_normals_"}, {"name": "arg_1", "value": "pline", "jsValue": "pline_", "usedVars": ["pline"]}], "children": [{"type": 13, "ID": "prod-2pwk4yclpps", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 4, "ID": "prod-r0rnuhnjtyj", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "edge", "jsValue": "edge_"}, {"name": "list", "value": "pline#_e", "usedVars": ["pline"], "jsValue": "__modules__.query.Get(__params__.model, '_e', pline_)"}], "children": [{"type": 13, "ID": "prod-f2tdl6469og", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2~children~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2~children~1", "ID": "prod-skx3xvus0m", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Vector"}, "argCount": 3, "args": [{"name": "var_name", "value": "vec", "jsValue": "vec_"}, {"name": "__model__"}, {"name": "entities", "value": "edge", "usedVars": ["edge"], "jsValue": "edge_"}], "variable": "vec", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2~children~1", "ID": "prod-l0kk55m4d2", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "edge@nor", "jsValue": "edge_@nor", "usedVars": ["edge"]}, {"name": "value", "usedVars": ["UND_HEIGHT", "vec"], "value": "vecNorm([vec[1], -vec[0], UND_HEIGHT])", "jsValue": "vecNorm(__debug__, [vec_[pythonList(1, vec_.length)], -vec_[pythonList(0, vec_.length)], UND_HEIGHT_])"}], "variable": null, "selectGeom": false}], "variable": "edge", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2"}, {"type": 8, "ID": "prod-8hcdt8dw2i", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Push"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "pline#_e", "usedVars": ["pline"], "jsValue": "__modules__.query.Get(__params__.model, '_e', pline_)"}, {"name": "attrib", "value": "\"nor\"", "usedVars": [], "jsValue": "\"nor\""}, {"name": "ent_type_sel", "value": "'ps'", "jsValue": "'ps'", "usedVars": []}, {"name": "method_sel", "value": "'average'", "jsValue": "'average'", "usedVars": []}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2", "ID": "prod-xrv69wzemq", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "cens", "jsValue": "cens_"}, {"name": "value", "value": "pline#ps @xyz", "usedVars": ["pline"], "jsValue": "__modules__.attrib.Get(__params__.model,  __modules__.query.Get(__params__.model, 'ps', pline_), 'xyz')"}], "variable": "cens", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2", "ID": "prod-0as1x15n1uo", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "vecs", "jsValue": "vecs_"}, {"name": "value", "value": "pline#ps @nor", "usedVars": ["pline"], "jsValue": "__modules__.attrib.Get(__params__.model,  __modules__.query.Get(__params__.model, 'ps', pline_), 'nor')"}], "variable": "vecs", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2", "ID": "prod-67qb4pjsnxc", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "visualise vector"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2", "ID": "prod-lu0l8387uj", "enabled": false, "print": false, "meta": {"module": "visualize", "name": "Ray"}, "argCount": 4, "args": [{"name": "var_name", "value": "vis", "jsValue": "vis_"}, {"name": "__model__"}, {"name": "rays", "value": "rayMake(cens, vecs)", "usedVars": ["cens", "vecs"], "jsValue": "rayMake(__debug__, cens_, vecs_)"}, {"name": "scale", "value": "0.2", "usedVars": [], "jsValue": "0.2"}], "variable": "vis", "selectGeom": false}], "variable": null, "selectGeom": false}, {"type": 16, "ID": "prod-l6vo1p03sf", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "offset", "num_returns": 1, "collapsed": true}}, "args": [{"name": "func_name", "value": "offset", "jsValue": "offset_"}, {"name": "arg_1", "value": "index", "jsValue": "index_", "usedVars": ["index"]}, {"name": "arg_2", "value": "num_posis", "jsValue": "num_posis_", "usedVars": ["num_posis"]}], "children": [{"type": 13, "ID": "prod-b0cs67s9wd8", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-3nuridqdgni", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "domain and range of the Law Curve"}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-k0w7x8dfekc", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "do_t", "jsValue": "do_t_"}, {"name": "value", "value": "[PI, PI + (NUM_UND * PI * 2)]", "usedVars": ["NUM_UND"], "jsValue": "[JSON.parse(JSON.stringify(PI)), JSON.parse(JSON.stringify(PI)) + (NUM_UND_ * JSON.parse(JSON.stringify(PI)) * 2)]"}], "variable": "do_t", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-7bzcsmrpe0n", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "ra_rt", "jsValue": "ra_rt_"}, {"name": "value", "value": "[-1, 1]", "usedVars": [], "jsValue": "[-1, 1]"}], "variable": "ra_rt", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-qmbrthuxk3", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "domain and range of the variables"}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-v8llq7md45j", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "do_index", "jsValue": "do_index_"}, {"name": "value", "value": "[0, num_posis]", "usedVars": ["num_posis"], "jsValue": "[0, num_posis_]"}], "variable": "do_index", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-fpn913p4r6v", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "ra_offset", "jsValue": "ra_offset_"}, {"name": "value", "value": "[0, UND_DEPTH]", "usedVars": ["UND_DEPTH"], "jsValue": "[0, UND_DEPTH_]"}], "variable": "ra_offset", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-o77ba9yidqj", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "remap from arcs to t"}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-udkmq83gc9", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "t", "jsValue": "t_"}, {"name": "value", "value": "remap(index, do_index, do_t)", "usedVars": ["do_t", "do_index", "index"], "jsValue": "remap(__debug__, index_, do_index_, do_t_)"}], "variable": "t", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-j8yp4eso0an", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "apply Law Curve"}], "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-mvb6n91sf1", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "localFunc", "name": "law_curve"}, "args": [{"name": "var_name", "value": "rt", "jsValue": "rt_"}, {"name": "t", "value": "t", "usedVars": ["t"], "jsValue": "t_"}], "variable": "rt", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-piveo02xqhs", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "remap from rt to offset"}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-gc98cjppjjw", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "offset", "jsValue": "offset_"}, {"name": "value", "value": "remap(rt, ra_rt, ra_offset)", "usedVars": ["ra_rt", "ra_offset", "rt"], "jsValue": "remap(__debug__, rt_, ra_rt_, ra_offset_)"}], "variable": "offset", "selectGeom": false}, {"type": 17, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-hi5yogd33qv", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "Value", "value": "offset", "usedVars": ["offset"], "jsValue": "offset_"}], "selectGeom": false}], "variable": null, "selectGeom": false}, {"type": 16, "ID": "prod-cbmi0vi4t57", "enabled": true, "print": false, "argCount": 4, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "make_waves", "num_returns": 0, "collapsed": true}}, "args": [{"name": "func_name", "value": "make_waves", "jsValue": "make_waves_"}, {"name": "arg_1", "value": "pos", "jsValue": "pos_", "usedVars": ["pos"]}, {"name": "arg_2", "value": "num_posis", "jsValue": "num_posis_", "usedVars": ["num_posis"]}, {"name": "arg_3", "value": "line_div", "jsValue": "line_div_", "usedVars": ["line_div"]}], "children": [{"type": 13, "ID": "prod-cbmi0vi4t57-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4", "ID": "prod-5c42sfu771e", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "calculate the normal for each positions in line"}], "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4", "ID": "prod-jd0m9dtmkn", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "localFunc", "name": "add_normals"}, "args": [{"name": "__none__"}, {"name": "pline", "value": "line_div", "usedVars": ["line_div"], "jsValue": "line_div_"}]}, {"type": 4, "ID": "prod-fi2ybcs2qp", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(num_posis * NUM_POS)", "usedVars": ["NUM_POS", "num_posis"], "jsValue": "range(__debug__, num_posis_ * NUM_POS_)"}], "children": [{"type": 13, "ID": "prod-99d01arjgo5", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4~children~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4~children~3", "ID": "prod-xdm3116ywt", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "get the distance to offset the positions"}], "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4~children~3", "ID": "prod-i6faf9bgi9r", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "localFunc", "name": "offset"}, "args": [{"name": "var_name", "value": "offset", "jsValue": "offset_"}, {"name": "index", "value": "index", "usedVars": ["index"], "jsValue": "index_"}, {"name": "num_posis", "value": "num_posis", "usedVars": ["num_posis"], "jsValue": "num_posis_"}], "variable": "offset"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4~children~3", "ID": "prod-065mzqcejl4t", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "get the positions out of the list using the index"}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4~children~3", "ID": "prod-mvposfmqup", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "posi", "jsValue": "posi_"}, {"name": "value", "value": "pos[index]", "usedVars": ["index", "pos"], "jsValue": "pos_[pythonList(index_, pos_.length)]"}], "variable": "posi", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4~children~3", "ID": "prod-zldlp7m1ilr", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "create an offset vector by getting the normal from the posi and setting the length"}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4~children~3", "ID": "prod-9nid6pv4c4p", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "vec_offset", "jsValue": "vec_offset_"}, {"name": "value", "value": "vecSetLen(posi@nor , offset)", "usedVars": ["offset", "posi"], "jsValue": "vecSetLen(__debug__,  __modules__.attrib.Get(__params__.model, posi_, 'nor'), offset_)"}], "variable": "vec_offset", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4~children~3", "ID": "prod-gc0cvdejfnn", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "offset the posi using the vector"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4~children~3", "ID": "prod-ugn5kq9uja", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "posi", "usedVars": ["posi"], "jsValue": "posi_"}, {"name": "vectors", "value": "vec_offset", "usedVars": ["vec_offset"], "jsValue": "vec_offset_"}], "selectGeom": false}], "variable": "index", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4"}], "variable": null}, {"type": 16, "ID": "prod-21ledzyg10r", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "make_hole", "num_returns": 0, "collapsed": true}}, "args": [{"name": "func_name", "value": "make_hole", "jsValue": "make_hole_"}, {"name": "arg_1", "value": "floor_base", "jsValue": "floor_base_", "usedVars": ["floor_base"]}], "children": [{"type": 13, "ID": "prod-21ledzyg10r-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5", "ID": "prod-ftl4uuecvrm", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "inner_base", "jsValue": "inner_base_"}, {"name": "__model__"}, {"name": "entities", "value": "floor_base", "usedVars": ["floor_base"], "jsValue": "floor_base_"}, {"name": "vector", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}], "variable": "inner_base", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5", "ID": "prod-20c60xxsgeq", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Scale"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "inner_base", "usedVars": ["inner_base"], "jsValue": "inner_base_"}, {"name": "plane", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "scale", "value": "[0.4, 0.4, 0]", "usedVars": [], "jsValue": "[0.4, 0.4, 0]"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5", "ID": "prod-562fg7skszm", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Hole"}, "argCount": 4, "args": [{"name": "var_name", "value": "cut_base", "jsValue": "cut_base_"}, {"name": "__model__"}, {"name": "pgon", "value": "floor_base", "usedVars": ["floor_base"], "jsValue": "floor_base_"}, {"name": "entities", "value": "inner_base", "usedVars": ["inner_base"], "jsValue": "inner_base_"}], "variable": "cut_base", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5", "ID": "prod-9g91u5qw2r", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "inner_base", "usedVars": ["inner_base"], "jsValue": "inner_base_"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}], "selectGeom": false}], "variable": null}, {"type": 16, "ID": "prod-vj8uatjx4", "enabled": true, "print": false, "argCount": 5, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "make_floors", "num_returns": 0, "collapsed": true, "deletedArgs": []}}, "args": [{"name": "func_name", "value": "make_floors", "jsValue": "make_floors_"}, {"name": "arg_1", "value": "building_pos", "jsValue": "building_pos_", "usedVars": ["building_pos"]}, {"name": "arg_2", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "arg_3", "value": "taper", "jsValue": "taper_", "usedVars": ["taper"]}, {"name": "arg_4", "value": "seperation_var", "jsValue": "seperation_var_", "usedVars": ["seperation_var"]}], "children": [{"type": 13, "ID": "prod-shsop6swy0p", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6", "ID": "prod-64pcpz2pqf9", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise base size"}]}, {"type": 8, "ID": "prod-5u6cwm1tktx", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Scale"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "building_pos", "usedVars": ["building_pos"], "jsValue": "building_pos_"}, {"name": "plane", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "scale", "value": "[BUILDING_SIZE, BUILDING_SIZE, 1]", "usedVars": ["BUILDING_SIZE"], "jsValue": "[BUILDING_SIZE_, BUILDING_SIZE_, 1]"}], "selectGeom": false, "terminate": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6", "ID": "prod-ixt6drtpey", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "make more positions in base polyline and parameterise"}]}, {"type": 0, "ID": "prod-a1zdyv64f3b", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "num_posis", "jsValue": "num_posis_"}, {"name": "value", "value": "NUM_UND * 30", "usedVars": ["NUM_UND"], "jsValue": "NUM_UND_ * 30"}], "variable": "num_posis", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6", "ID": "prod-5eoypl9ox0a", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "line", "jsValue": "line_"}, {"name": "__model__"}, {"name": "entities", "value": "building_pos", "usedVars": ["building_pos"], "jsValue": "building_pos_"}, {"name": "close", "value": "'close'", "jsValue": "'close'", "usedVars": []}], "variable": "line", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6", "ID": "prod-7hyaddbdk3j", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Divide"}, "argCount": 5, "args": [{"name": "var_name", "value": "line_div", "jsValue": "line_div_"}, {"name": "__model__"}, {"name": "entities", "value": "line", "usedVars": ["line"], "jsValue": "line_"}, {"name": "divisor", "value": "num_posis", "usedVars": ["num_posis"], "jsValue": "num_posis_"}, {"name": "method", "value": "'by_number'", "jsValue": "'by_number'", "usedVars": []}], "variable": "line_div", "selectGeom": false}, {"type": 0, "ID": "prod-y76f0u6gezo", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "pos", "jsValue": "pos_"}, {"name": "value", "value": "line_div#ps", "usedVars": ["line_div"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', line_div_)"}], "variable": "pos", "selectGeom": false, "terminate": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6", "ID": "prod-gb5esnt8kag", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "make base edges wavy"}], "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6", "ID": "prod-nvwsl6hksiq", "enabled": true, "print": false, "argCount": 4, "meta": {"module": "localFunc", "name": "make_waves", "otherInfo": {}}, "args": [{"name": "__none__"}, {"name": "pos", "value": "pos", "jsValue": "pos_", "usedVars": ["pos"]}, {"name": "num_posis", "value": "num_posis", "jsValue": "num_posis_", "usedVars": ["num_posis"]}, {"name": "line_div", "value": "line_div", "jsValue": "line_div_", "usedVars": ["line_div"]}], "selectGeom": false}, {"type": 14, "ID": "prod-k5e3k1zi7nf", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "make base polygon"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6"}, {"type": 8, "ID": "prod-wvn3plmendb", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "floor_base", "jsValue": "floor_base_"}, {"name": "__model__"}, {"name": "entities", "value": "pos", "usedVars": ["pos"], "jsValue": "pos_"}], "variable": "floor_base", "selectGeom": false, "terminate": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6"}, {"type": 14, "ID": "prod-v29w3002g1q", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "make hole in the middle"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6"}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6", "ID": "prod-9hc9l0gwmdd", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "BUILDING_HOLE == \"HOLE\"", "usedVars": ["BUILDING_HOLE"], "jsValue": "BUILDING_HOLE_ == \"HOLE\""}], "children": [{"type": 13, "ID": "prod-9hc9l0gwmdd-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~13", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~13", "ID": "prod-prdhmhwzi7o", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "localFunc", "name": "make_hole"}, "args": [{"name": "__none__"}, {"name": "floor_base", "value": "floor_base", "usedVars": ["floor_base"], "jsValue": "floor_base_"}], "selectGeom": false}]}, {"type": 14, "ID": "prod-lp35bace50r", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "extrude building for all floors"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6"}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6", "ID": "prod-xnkq7df8te", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "seperation_var == \"EVERY FLOORS\"", "usedVars": ["seperation_var"], "jsValue": "seperation_var_ == \"EVERY FLOORS\""}], "children": [{"type": 13, "ID": "prod-xnkq7df8te-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~15", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 4, "ID": "prod-0uhrmf2iwyfb", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "i", "jsValue": "i_"}, {"name": "list", "value": "range(FLOOR_NUM + 1)", "usedVars": ["FLOOR_NUM"], "jsValue": "range(__debug__, FLOOR_NUM_ + 1)"}], "children": [{"type": 13, "ID": "prod-v4dgjcfog1", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~15~children~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~15~children~1", "ID": "prod-r0awi38cl6s", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise separation between each floors"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~15~children~1", "ID": "prod-lip5avmyplf", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "floors", "jsValue": "floors_"}, {"name": "__model__"}, {"name": "entities", "value": "floor_base", "usedVars": ["floor_base"], "jsValue": "floor_base_"}, {"name": "vector", "value": "[0, 0, FLOOR_SEP * i]", "usedVars": ["FLOOR_SEP", "i"], "jsValue": "[0, 0, FLOOR_SEP_ * i_]"}], "variable": "floors", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~15~children~1", "ID": "prod-y8qt2k4yss", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise tapering of building"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~15~children~1", "ID": "prod-oc1pp6mpvg", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Scale"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "plane", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "scale", "value": "[1 + taper * i, 1 + taper * i, 1]", "usedVars": ["i", "taper"], "jsValue": "[1 + taper_ * i_, 1 + taper_ * i_, 1]"}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~15~children~1", "ID": "prod-ci2fhbz7qxr", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise rotation around building"}], "selectGeom": false}, {"type": 8, "ID": "prod-5hxnhp9grt6", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "ray", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "angle", "value": "(degToRad(BUILDING_ROT * i))", "usedVars": ["BUILDING_ROT", "i"], "jsValue": "(degToRad(__debug__, BUILDING_ROT_ * i_))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~15~children~1", "terminate": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~15~children~1", "ID": "prod-c3840i77ad", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "building", "jsValue": "building_"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "dist", "value": "-1", "usedVars": [], "jsValue": "-1"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "building", "selectGeom": false}, {"type": 14, "ID": "prod-8xesh4wzib8", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "move down only highest floor to show flaps & towers"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~15~children~1"}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~15~children~1", "ID": "prod-zddl1ti09vb", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "i > FLOOR_NUM - 1", "usedVars": ["FLOOR_NUM", "i"], "jsValue": "i_ > FLOOR_NUM_ - 1"}], "children": [{"type": 13, "ID": "prod-sch6sdmiuc", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~15~children~1~children~9", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~15~children~1~children~9", "ID": "prod-nby1my049f", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "building", "usedVars": ["building"], "jsValue": "building_"}, {"name": "vectors", "value": "[0, 0, -(FLOOR_SEP / 5)]", "usedVars": ["FLOOR_SEP"], "jsValue": "[0, 0, -(FLOOR_SEP_ / 5)]"}], "selectGeom": false}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~15~children~1", "ID": "prod-z9atauddq1e", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "add colour"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~15~children~1", "ID": "prod-d7n3bx42lmc", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "item", "value": "floors", "jsValue": "floors_", "usedVars": ["floors"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~15~children~1", "ID": "prod-e5h7gz2vlug", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "item", "value": "building", "jsValue": "building_", "usedVars": ["building"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "i", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~15"}]}, {"type": 2, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6", "ID": "prod-pnrp2hmo5jb", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "seperation_var == \"ALTERNATE FLOORS\"", "usedVars": ["seperation_var"], "jsValue": "seperation_var_ == \"ALTERNATE FLOORS\""}], "children": [{"type": 13, "ID": "prod-pnrp2hmo5jb-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~16", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 4, "ID": "prod-d0e6tdls974", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "i", "jsValue": "i_"}, {"name": "list", "value": "range(0, FLOOR_NUM + 1, 2)", "usedVars": ["FLOOR_NUM"], "jsValue": "range(__debug__, 0, FLOOR_NUM_ + 1, 2)"}], "children": [{"type": 13, "ID": "prod-4cjkonal0i7", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~16~children~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~16~children~1", "ID": "prod-gfyud7nogy", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise separation between each floors"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~16~children~1", "ID": "prod-kc06zlj4g5e", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "floors", "jsValue": "floors_"}, {"name": "__model__"}, {"name": "entities", "value": "floor_base", "usedVars": ["floor_base"], "jsValue": "floor_base_"}, {"name": "vector", "value": "[0, 0, FLOOR_SEP * i]", "usedVars": ["FLOOR_SEP", "i"], "jsValue": "[0, 0, FLOOR_SEP_ * i_]"}], "variable": "floors", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~16~children~1", "ID": "prod-kg2l88g7q8h", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise tapering of building"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~16~children~1", "ID": "prod-usslxedkb", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Scale"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "plane", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "scale", "value": "[1 + taper * i, 1 + taper * i, 1]", "usedVars": ["i", "taper"], "jsValue": "[1 + taper_ * i_, 1 + taper_ * i_, 1]"}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~16~children~1", "ID": "prod-rqszg2fsyqm", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise rotation around building"}], "selectGeom": false}, {"type": 8, "ID": "prod-q31tw527phk", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "ray", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "angle", "value": "(degToRad(BUILDING_ROT * i))", "usedVars": ["BUILDING_ROT", "i"], "jsValue": "(degToRad(__debug__, BUILDING_ROT_ * i_))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~16~children~1", "terminate": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~16~children~1", "ID": "prod-xhk5ijlzrm", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "building", "jsValue": "building_"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "dist", "value": "-1", "usedVars": [], "jsValue": "-1"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "building", "selectGeom": false}, {"type": 14, "ID": "prod-vmx6xrtqd2i", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "move down only highest floor to show flaps & towers"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~16~children~1"}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~16~children~1", "ID": "prod-pkbz1g1scp", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "i > FLOOR_NUM - 1", "usedVars": ["FLOOR_NUM", "i"], "jsValue": "i_ > FLOOR_NUM_ - 1"}], "children": [{"type": 13, "ID": "prod-6f71df1pxcy", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~16~children~1~children~9", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~16~children~1~children~9", "ID": "prod-acszn6iw62f", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "building", "usedVars": ["building"], "jsValue": "building_"}, {"name": "vectors", "value": "[0, 0, -(FLOOR_SEP / 5)]", "usedVars": ["FLOOR_SEP"], "jsValue": "[0, 0, -(FLOOR_SEP_ / 5)]"}], "selectGeom": false}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~16~children~1", "ID": "prod-ffbxgh0skbd", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "add colour"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~16~children~1", "ID": "prod-wx2ti2mdcos", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "item", "value": "floors", "jsValue": "floors_", "usedVars": ["floors"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~16~children~1", "ID": "prod-guavmxgo7h8", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "item", "value": "building", "jsValue": "building_", "usedVars": ["building"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "i", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~16"}]}], "variable": null, "selectGeom": false}, {"type": 16, "ID": "prod-ai1i7onbi8f", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "make_columns", "num_returns": 0, "collapsed": true}}, "args": [{"name": "func_name", "value": "make_columns", "jsValue": "make_columns_"}, {"name": "arg_1", "value": "building_pos", "jsValue": "building_pos_", "usedVars": ["building_pos"]}], "children": [{"type": 13, "ID": "", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~7", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~7", "ID": "prod-6y3wjseyfl7", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "copy and modify new positions from building base"}]}, {"type": 8, "ID": "prod-egetykpm7gl", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "column_pos", "jsValue": "column_pos_"}, {"name": "__model__"}, {"name": "entities", "value": "building_pos", "usedVars": ["building_pos"], "jsValue": "building_pos_"}, {"name": "vector", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}], "variable": "column_pos", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~7"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~7", "ID": "prod-e7cakvhuikp", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise to size of building"}], "selectGeom": false}, {"type": 8, "ID": "prod-sauygipz4wn", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Scale"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "column_pos", "usedVars": ["column_pos"], "jsValue": "column_pos_"}, {"name": "plane", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "scale", "value": "[0.65, 0.65, 0]", "usedVars": [], "jsValue": "[0.65, 0.65, 0]"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~7"}, {"type": 8, "ID": "prod-t5pqo9dtx4m", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Get"}, "argCount": 4, "args": [{"name": "var_name", "value": "posi", "jsValue": "posi_"}, {"name": "__model__"}, {"name": "entities", "value": "column_pos", "usedVars": ["column_pos"], "jsValue": "column_pos_"}, {"name": "attrib", "value": "\"xyz\"", "usedVars": [], "jsValue": "\"xyz\""}], "variable": "posi", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~7"}, {"type": 4, "ID": "prod-c95owe85qvs", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "i", "jsValue": "i_"}, {"name": "list", "value": "range(NUM_POS)", "usedVars": ["NUM_POS"], "jsValue": "range(__debug__, NUM_POS_)"}], "children": [{"type": 13, "ID": "prod-n1x51qcoppr", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~7~children~6", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-hqa0jtmjstn", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Get"}, "argCount": 4, "args": [{"name": "var_name", "value": "posi", "jsValue": "posi_"}, {"name": "__model__"}, {"name": "entities", "value": "column_pos", "usedVars": ["column_pos"], "jsValue": "column_pos_"}, {"name": "attrib", "value": "\"xyz\"", "usedVars": [], "jsValue": "\"xyz\""}], "variable": "posi", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~7~children~6"}, {"type": 8, "ID": "prod-x05susiwhm9", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "column_base", "jsValue": "column_base_"}, {"name": "__model__"}, {"name": "origin", "value": "posi[i]", "usedVars": ["posi", "i"], "jsValue": "posi_[pythonList(i_, posi_.length)]"}, {"name": "radius", "value": "1 * BUILDING_SIZE", "usedVars": ["BUILDING_SIZE"], "jsValue": "1 * BUILDING_SIZE_"}, {"name": "num_positions", "value": "20", "usedVars": [], "jsValue": "20"}, {"name": "arc_angle", "value": "PI * 2", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(PI)) * 2"}], "variable": "column_base", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~7~children~6"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~7~children~6", "ID": "prod-cqicdlaa97", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "extrude columns"}], "selectGeom": false}, {"type": 8, "ID": "prod-ced9g81cvwm", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "column_base_posi", "jsValue": "column_base_posi_"}, {"name": "__model__"}, {"name": "entities", "value": "column_base", "usedVars": ["column_base"], "jsValue": "column_base_"}], "variable": "column_base_posi", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~7~children~6"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~7~children~6", "ID": "prod-vmlxbawzrz", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "columns", "jsValue": "columns_"}, {"name": "__model__"}, {"name": "entities", "value": "column_base_posi", "usedVars": ["column_base_posi"], "jsValue": "column_base_posi_"}, {"name": "dist", "value": "(FLOOR_NUM * FLOOR_SEP) - (FLOOR_SEP / 5) - 2.5", "usedVars": ["FLOOR_SEP", "FLOOR_NUM"], "jsValue": "(FLOOR_NUM_ * FLOOR_SEP_) - (FLOOR_SEP_ / 5) - 2.5"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "columns", "selectGeom": false}], "variable": "i", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~7"}], "variable": null}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Flaps", "id": "node_igsga1rad9", "position": {"x": 5460, "y": 5040}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "ID": "prod-0pn81jygmqim", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "taper", "jsValue": "taper_"}, {"name": "value", "value": "BUILDING_TAPER", "usedVars": ["BUILDING_TAPER"], "jsValue": "BUILDING_TAPER_"}], "variable": "taper", "selectGeom": false}, {"type": 0, "ID": "prod-jtm3zgp8htg", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "colour", "jsValue": "colour_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "colour", "selectGeom": false}, {"type": 14, "ID": "prod-k3sm183hd48", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "get attribute from Building Node"}], "selectGeom": false}, {"type": 0, "ID": "prod-vx6fyna0aso", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "pos", "jsValue": "pos_"}, {"name": "value", "value": "#ps ?@type==\"flap_base\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'ps', null), ['type', null], '==', \"flap_base\")"}], "variable": "pos", "selectGeom": false, "terminate": false}, {"type": 0, "ID": "prod-gwrzag57mai", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "base_pos", "jsValue": "base_pos_"}, {"name": "value", "value": "#ps ?@type==\"base\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'ps', null), ['type', null], '==', \"base\")"}], "variable": "base_pos", "selectGeom": false, "terminate": false}, {"type": 14, "ID": "prod-m2xfzhemfp", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "move flap positions to outer edge"}]}, {"type": 18, "ID": "prod-gdnuh9zkw5c", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "localFunc", "name": "move_pos"}, "args": [{"name": "__none__"}, {"name": "pos", "value": "pos", "usedVars": ["pos"], "jsValue": "pos_"}]}, {"type": 8, "ID": "prod-naj19bgsvk", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Get"}, "argCount": 4, "args": [{"name": "var_name", "value": "flap_posi", "jsValue": "flap_posi_"}, {"name": "__model__"}, {"name": "entities", "value": "pos", "usedVars": ["pos"], "jsValue": "pos_"}, {"name": "attrib", "value": "\"xyz\"", "usedVars": [], "jsValue": "\"xyz\""}], "variable": "flap_posi", "selectGeom": false, "terminate": false}, {"type": 14, "ID": "prod-u0o4epil0mk", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "make flaps"}], "selectGeom": false}, {"type": 18, "ID": "prod-5jyjn3lifng", "enabled": true, "print": false, "argCount": 5, "meta": {"module": "localFunc", "name": "make_flaps", "otherInfo": {"deletedArgs": []}}, "args": [{"name": "__none__"}, {"name": "flap_posi", "value": "flap_posi", "usedVars": ["flap_posi"], "jsValue": "flap_posi_"}, {"name": "base_pos", "value": "base_pos", "jsValue": "base_pos_", "usedVars": ["base_pos"]}, {"name": "colour", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "taper", "value": "taper", "jsValue": "taper_", "usedVars": ["taper"]}], "selectGeom": false}, {"type": 14, "ID": "prod-jgn03ls072", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "visualise colour"}]}, {"type": 8, "ID": "prod-je3ql6rh24", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "colour", "usedVars": ["colour"], "jsValue": "colour_"}, {"name": "color", "value": "[0.60, 0.52, 0.45]", "usedVars": [], "jsValue": "[0.60, 0.52, 0.45]"}]}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 16, "ID": "prod-etxl7y4n8ft", "enabled": true, "print": false, "argCount": 5, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "make_flaps", "num_returns": 0, "collapsed": true, "deletedArgs": []}}, "args": [{"name": "func_name", "value": "make_flaps", "jsValue": "make_flaps_"}, {"name": "arg_1", "value": "flap_posi", "jsValue": "flap_posi_", "usedVars": ["flap_posi"]}, {"name": "arg_2", "value": "base_pos", "jsValue": "base_pos_", "usedVars": ["base_pos"]}, {"name": "arg_3", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "arg_4", "value": "taper", "jsValue": "taper_", "usedVars": ["taper"]}], "children": [{"type": 13, "ID": "prod-bcq87p327h", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 4, "ID": "prod-7ffv5vzi9ix", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "a", "jsValue": "a_"}, {"name": "list", "value": "range(0, NUM_POS, 4)", "usedVars": ["NUM_POS"], "jsValue": "range(__debug__, 0, NUM_POS_, 4)"}], "children": [{"type": 13, "ID": "prod-6f8hq0me26o", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-y8tu67b4z4j", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "flap_pos", "jsValue": "flap_pos_"}, {"name": "__model__"}, {"name": "origin", "value": "flap_posi[a]", "usedVars": ["a", "flap_posi"], "jsValue": "flap_posi_[pythonList(a_, flap_posi_.length)]"}, {"name": "radius", "value": "25", "usedVars": [], "jsValue": "25"}, {"name": "num_positions", "value": "19", "usedVars": [], "jsValue": "19"}, {"name": "arc_angle", "value": "PI * 2", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(PI)) * 2"}], "variable": "flap_pos", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "terminate": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-j6uxkud5zfa", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "change flap base size and parameterise to size of building"}], "selectGeom": false}, {"type": 8, "ID": "prod-shfmbl9sor", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Scale"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "flap_pos", "usedVars": ["flap_pos"], "jsValue": "flap_pos_"}, {"name": "plane", "value": "flap_posi[a]", "usedVars": ["a", "flap_posi"], "jsValue": "flap_posi_[pythonList(a_, flap_posi_.length)]"}, {"name": "scale", "value": "[0.8 * FLAP_SIZE, 0.3 * FLAP_SIZE, 1]", "usedVars": ["FLAP_SIZE"], "jsValue": "[0.8 * FLAP_SIZE_, 0.3 * FLAP_SIZE_, 1]"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "terminate": false}, {"type": 8, "ID": "prod-61ab11o1mn", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "flap_line", "jsValue": "flap_line_"}, {"name": "__model__"}, {"name": "entities", "value": "flap_pos", "usedVars": ["flap_pos"], "jsValue": "flap_pos_"}, {"name": "close", "value": "'close'", "jsValue": "'close'", "usedVars": []}], "variable": "flap_line", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "terminate": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-4vxk7g3omzo", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Centroid"}, "argCount": 4, "args": [{"name": "var_name", "value": "flap_cent", "jsValue": "flap_cent_"}, {"name": "__model__"}, {"name": "entities", "value": "flap_line", "usedVars": ["flap_line"], "jsValue": "flap_line_"}, {"name": "method", "value": "'ps_average'", "usedVars": [], "jsValue": "'ps_average'"}], "variable": "flap_cent"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-7vvksccczv", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise rotation of flaps against building points"}], "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-0t6z0wjvbv9m", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "a < 3", "usedVars": ["a"], "jsValue": "a_ < 3"}], "children": [{"type": 13, "ID": "prod-17hgcf4q9n2", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~7", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-xr0ipqqxnv", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "flap_line", "usedVars": ["flap_line"], "jsValue": "flap_line_"}, {"name": "ray", "value": "base_pos[a]", "usedVars": ["a", "base_pos"], "jsValue": "base_pos_[pythonList(a_, base_pos_.length)]"}, {"name": "angle", "value": "(degToRad((0 / NUM_POS) * 16))", "usedVars": ["NUM_POS"], "jsValue": "(degToRad(__debug__, (0 / NUM_POS_) * 16))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~7", "terminate": false}, {"type": 8, "ID": "prod-epm04gzi4cp", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "flap_line", "usedVars": ["flap_line"], "jsValue": "flap_line_"}, {"name": "ray", "value": "base_pos[a]", "usedVars": ["a", "base_pos"], "jsValue": "base_pos_[pythonList(a_, base_pos_.length)]"}, {"name": "angle", "value": "(degToRad(FLAP_ROT))", "usedVars": ["FLAP_ROT"], "jsValue": "(degToRad(__debug__, FLAP_ROT_))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~7", "terminate": false}], "selectGeom": false}, {"type": 2, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-p082igoslif", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "a < 7", "usedVars": ["a"], "jsValue": "a_ < 7"}], "children": [{"type": 13, "ID": "prod-3a0xw8cmzmi", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~8", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-6dmj29oca9v", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "flap_line", "usedVars": ["flap_line"], "jsValue": "flap_line_"}, {"name": "ray", "value": "flap_cent", "usedVars": ["flap_cent"], "jsValue": "flap_cent_"}, {"name": "angle", "value": "(degToRad((90 / NUM_POS) * 16))", "usedVars": ["NUM_POS"], "jsValue": "(degToRad(__debug__, (90 / NUM_POS_) * 16))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~8", "terminate": false}, {"type": 8, "ID": "prod-44301e52pbz", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "flap_line", "usedVars": ["flap_line"], "jsValue": "flap_line_"}, {"name": "ray", "value": "base_pos[a]", "usedVars": ["a", "base_pos"], "jsValue": "base_pos_[pythonList(a_, base_pos_.length)]"}, {"name": "angle", "value": "(degToRad(FLAP_ROT))", "usedVars": ["FLAP_ROT"], "jsValue": "(degToRad(__debug__, FLAP_ROT_))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~8", "terminate": false}], "selectGeom": false}, {"type": 2, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-9guq1rbl50c", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "a < 11", "usedVars": ["a"], "jsValue": "a_ < 11"}], "children": [{"type": 13, "ID": "prod-ne3d8805air", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~9", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-187o72d9ecr", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "flap_line", "usedVars": ["flap_line"], "jsValue": "flap_line_"}, {"name": "ray", "value": "flap_cent", "usedVars": ["flap_cent"], "jsValue": "flap_cent_"}, {"name": "angle", "value": "(degToRad((180 / NUM_POS) * 16))", "usedVars": ["NUM_POS"], "jsValue": "(degToRad(__debug__, (180 / NUM_POS_) * 16))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~9", "terminate": false}, {"type": 8, "ID": "prod-ahvpc8xl9ld", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "flap_line", "usedVars": ["flap_line"], "jsValue": "flap_line_"}, {"name": "ray", "value": "base_pos[a]", "usedVars": ["a", "base_pos"], "jsValue": "base_pos_[pythonList(a_, base_pos_.length)]"}, {"name": "angle", "value": "(degToRad(FLAP_ROT))", "usedVars": ["FLAP_ROT"], "jsValue": "(degToRad(__debug__, FLAP_ROT_))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~9", "terminate": false}], "selectGeom": false}, {"type": 2, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-44k4aogw96i", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "a < 15", "usedVars": ["a"], "jsValue": "a_ < 15"}], "children": [{"type": 13, "ID": "prod-2i6w5y28v1", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~10", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-ztve7iwonn", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "flap_line", "usedVars": ["flap_line"], "jsValue": "flap_line_"}, {"name": "ray", "value": "flap_cent", "usedVars": ["flap_cent"], "jsValue": "flap_cent_"}, {"name": "angle", "value": "(degToRad((270 / NUM_POS) * 16))", "usedVars": ["NUM_POS"], "jsValue": "(degToRad(__debug__, (270 / NUM_POS_) * 16))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~10", "terminate": false}, {"type": 8, "ID": "prod-i97bp0o4rj", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "flap_line", "usedVars": ["flap_line"], "jsValue": "flap_line_"}, {"name": "ray", "value": "base_pos[a]", "usedVars": ["a", "base_pos"], "jsValue": "base_pos_[pythonList(a_, base_pos_.length)]"}, {"name": "angle", "value": "(degToRad(FLAP_ROT))", "usedVars": ["FLAP_ROT"], "jsValue": "(degToRad(__debug__, FLAP_ROT_))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~10", "terminate": false}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-ikw165li3po", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "make flaps base"}], "selectGeom": false}, {"type": 8, "ID": "prod-ij3zyf3o4bl", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "flap_base", "jsValue": "flap_base_"}, {"name": "__model__"}, {"name": "entities", "value": "flap_line", "usedVars": ["flap_line"], "jsValue": "flap_line_"}], "variable": "flap_base", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "terminate": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-6x2iprbg2n", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "change flaps base in size as it goes up"}], "selectGeom": false}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-lsbkiq58jma", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "b", "jsValue": "b_"}, {"name": "list", "value": "range(0, FLOOR_NUM)", "usedVars": ["FLOOR_NUM"], "jsValue": "range(__debug__, 0, FLOOR_NUM_)"}], "children": [{"type": 13, "ID": "prod-yk6vxba3hwh", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-l50rez1l1o8", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise separation between each floors"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-cqq9gmej3yk", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "floors", "jsValue": "floors_"}, {"name": "__model__"}, {"name": "entities", "value": "flap_base", "usedVars": ["flap_base"], "jsValue": "flap_base_"}, {"name": "vector", "value": "[0, 0, FLOOR_SEP * b]", "usedVars": ["FLOOR_SEP", "b"], "jsValue": "[0, 0, FLOOR_SEP_ * b_]"}], "variable": "floors", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-flz1009fmc", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise tapering of flaps"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-2rwujcls3y4", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Scale"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "plane", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "scale", "value": "[1 + taper * b, 1 + taper * b, 1]", "usedVars": ["b", "taper"], "jsValue": "[1 + taper_ * b_, 1 + taper_ * b_, 1]"}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-xrredkxpghi", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise rotation around building"}], "selectGeom": false}, {"type": 8, "ID": "prod-4l3d00x2kva", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "ray", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "angle", "value": "(degToRad(BUILDING_ROT * b))", "usedVars": ["BUILDING_ROT", "b"], "jsValue": "(degToRad(__debug__, BUILDING_ROT_ * b_))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "terminate": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-uub6itw7tp", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "flap", "jsValue": "flap_"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "dist", "value": "FLOOR_SEP - 1", "usedVars": ["FLOOR_SEP"], "jsValue": "FLOOR_SEP_ - 1"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "flap", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-966pwdch93e", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "add colour"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-x2qt0kuueqb", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "item", "value": "floors", "jsValue": "floors_", "usedVars": ["floors"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-fglfm9ps1o7", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "item", "value": "flap", "jsValue": "flap_", "usedVars": ["flap"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "b", "selectGeom": false}], "variable": "a", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1"}], "variable": null, "selectGeom": false}, {"type": 16, "ID": "prod-dcmd504nbb4", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "move_pos", "num_returns": 0, "collapsed": true}}, "args": [{"name": "func_name", "value": "move_pos", "jsValue": "move_pos_"}, {"name": "arg_1", "value": "pos", "jsValue": "pos_", "usedVars": ["pos"]}], "children": [{"type": 13, "ID": "prod-h5fqslkx52v", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-k8eo5wq1f8", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Scale"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "pos", "usedVars": ["pos"], "jsValue": "pos_"}, {"name": "plane", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "scale", "value": "[1.15, 1.15, 1]", "usedVars": [], "jsValue": "[1.15, 1.15, 1]"}], "selectGeom": false, "terminate": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2"}], "variable": null, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Tall Towers", "id": "node_99sw4w2l0z", "position": {"x": 5460, "y": 5160}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "ID": "prod-blozgnlxjfu", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "taper", "jsValue": "taper_"}, {"name": "value", "value": "BUILDING_TAPER", "usedVars": ["BUILDING_TAPER"], "jsValue": "BUILDING_TAPER_"}], "variable": "taper"}, {"type": 0, "ID": "prod-gbvrtllxe7g", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "colour", "jsValue": "colour_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "colour", "selectGeom": false}, {"type": 14, "ID": "prod-prkoj3t8p4", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "get attribute from Building Node"}], "selectGeom": false}, {"type": 0, "ID": "prod-0gsfct1kdmne", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "pos", "jsValue": "pos_"}, {"name": "value", "value": "#ps ?@type==\"tall_tower_base\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'ps', null), ['type', null], '==', \"tall_tower_base\")"}], "variable": "pos", "selectGeom": false, "terminate": false}, {"type": 14, "ID": "prod-0bpn5l6cgv2i", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "move tower positions to outer edge"}], "selectGeom": false}, {"type": 18, "ID": "prod-9tgvbsih52", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "localFunc", "name": "move_pos"}, "args": [{"name": "__none__"}, {"name": "pos", "value": "pos", "usedVars": ["pos"], "jsValue": "pos_"}]}, {"type": 8, "ID": "prod-jkts7n8pnib", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Get"}, "argCount": 4, "args": [{"name": "var_name", "value": "tower_pos", "jsValue": "tower_pos_"}, {"name": "__model__"}, {"name": "entities", "value": "pos", "usedVars": ["pos"], "jsValue": "pos_"}, {"name": "attrib", "value": "\"xyz\"", "usedVars": [], "jsValue": "\"xyz\""}], "variable": "tower_pos", "selectGeom": false}, {"type": 14, "ID": "prod-jeqpiugbtbl", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "make tall towers"}], "selectGeom": false}, {"type": 18, "ID": "prod-2ckue6ywdzq", "enabled": true, "print": false, "argCount": 4, "meta": {"module": "localFunc", "name": "make_tower", "otherInfo": {}}, "args": [{"name": "__none__"}, {"name": "pos", "value": "tower_pos", "usedVars": ["tower_pos"], "jsValue": "tower_pos_"}, {"name": "colour", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "taper", "value": "taper", "jsValue": "taper_", "usedVars": ["taper"]}]}, {"type": 14, "ID": "prod-1krtgb918m2", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "visualise colour"}]}, {"type": 8, "ID": "prod-s8ktqqfs4t", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "colour", "usedVars": ["colour"], "jsValue": "colour_"}, {"name": "color", "value": "[0.88, 0.83, 0.77]", "usedVars": [], "jsValue": "[0.88, 0.83, 0.77]"}], "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 16, "ID": "prod-3vvz8yf5lit", "enabled": true, "print": false, "argCount": 4, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "make_tower", "num_returns": 0, "collapsed": true}}, "args": [{"name": "func_name", "value": "make_tower", "jsValue": "make_tower_"}, {"name": "arg_1", "value": "pos", "jsValue": "pos_", "usedVars": ["pos"]}, {"name": "arg_2", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "arg_3", "value": "taper", "jsValue": "taper_", "usedVars": ["taper"]}], "children": [{"type": 13, "ID": "", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 4, "ID": "prod-4tkuv4p5qzy", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "a", "jsValue": "a_"}, {"name": "list", "value": "range(2, NUM_POS, 4)", "usedVars": ["NUM_POS"], "jsValue": "range(__debug__, 2, NUM_POS_, 4)"}], "children": [{"type": 13, "ID": "prod-i55b8mkc6m", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-9t3mwu1rycd", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "tower", "jsValue": "tower_"}, {"name": "__model__"}, {"name": "origin", "value": "pos[a]", "usedVars": ["a", "pos"], "jsValue": "pos_[pythonList(a_, pos_.length)]"}, {"name": "radius", "value": "17", "usedVars": [], "jsValue": "17"}, {"name": "num_positions", "value": "30", "usedVars": [], "jsValue": "30"}, {"name": "arc_angle", "value": "PI * 2", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(PI)) * 2"}], "variable": "tower", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "terminate": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-iwg024ybskc", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "change tower base size and parameterise to size of building"}], "selectGeom": false}, {"type": 8, "ID": "prod-339uexxgu0l", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Scale"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "tower", "usedVars": ["tower"], "jsValue": "tower_"}, {"name": "plane", "value": "pos[a]", "usedVars": ["a", "pos"], "jsValue": "pos_[pythonList(a_, pos_.length)]"}, {"name": "scale", "value": "[0.9 * TALL_TOWER_SIZE, 0.9 * TALL_TOWER_SIZE, 1]", "usedVars": ["TALL_TOWER_SIZE"], "jsValue": "[0.9 * TALL_TOWER_SIZE_, 0.9 * TALL_TOWER_SIZE_, 1]"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1"}, {"type": 8, "ID": "prod-fnif5eryf3", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "tower_base", "jsValue": "tower_base_"}, {"name": "__model__"}, {"name": "entities", "value": "tower", "usedVars": ["tower"], "jsValue": "tower_"}], "variable": "tower_base", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-vczqogus36g", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "make columns"}], "selectGeom": false}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-949us7f28r", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "i", "jsValue": "i_"}, {"name": "list", "value": "range(4)", "usedVars": [], "jsValue": "range(__debug__, 4)"}], "children": [{"type": 13, "ID": "prod-7p4kuztos7u", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~6", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-pblslc469w", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "column_pos", "jsValue": "column_pos_"}, {"name": "__model__"}, {"name": "origin", "value": "pos[a]", "usedVars": ["a", "pos"], "jsValue": "pos_[pythonList(a_, pos_.length)]"}, {"name": "radius", "value": "17 / 1.7 * TALL_TOWER_SIZE", "usedVars": ["TALL_TOWER_SIZE"], "jsValue": "17 / 1.7 * TALL_TOWER_SIZE_"}, {"name": "num_positions", "value": "5", "usedVars": [], "jsValue": "5"}, {"name": "arc_angle", "value": "PI * 2", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(PI)) * 2"}], "variable": "column_pos", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~6"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~6", "ID": "prod-xfg8q96cin9", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise rotation around building"}], "selectGeom": false}, {"type": 8, "ID": "prod-idym20f6fch", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "column_pos", "usedVars": ["column_pos"], "jsValue": "column_pos_"}, {"name": "ray", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "angle", "value": "(degToRad(BUILDING_ROT))", "usedVars": ["BUILDING_ROT"], "jsValue": "(degToRad(__debug__, BUILDING_ROT_))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~6", "terminate": false}, {"type": 8, "ID": "prod-k662verncr", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Get"}, "argCount": 4, "args": [{"name": "var_name", "value": "posi", "jsValue": "posi_"}, {"name": "__model__"}, {"name": "entities", "value": "column_pos", "usedVars": ["column_pos"], "jsValue": "column_pos_"}, {"name": "attrib", "value": "\"xyz\"", "usedVars": [], "jsValue": "\"xyz\""}], "variable": "posi", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~6"}, {"type": 8, "ID": "prod-k91n00knf6", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "column_base", "jsValue": "column_base_"}, {"name": "__model__"}, {"name": "origin", "value": "posi[i]", "usedVars": ["posi", "i"], "jsValue": "posi_[pythonList(i_, posi_.length)]"}, {"name": "radius", "value": "1 * TALL_TOWER_SIZE", "usedVars": ["TALL_TOWER_SIZE"], "jsValue": "1 * TALL_TOWER_SIZE_"}, {"name": "num_positions", "value": "25", "usedVars": [], "jsValue": "25"}, {"name": "arc_angle", "value": "PI * 2", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(PI)) * 2"}], "variable": "column_base", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~6"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~6", "ID": "prod-lpsgvb9lm4", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "extrude columns"}], "selectGeom": false}, {"type": 8, "ID": "prod-koqiblj4k2s", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "column_base_posi", "jsValue": "column_base_posi_"}, {"name": "__model__"}, {"name": "entities", "value": "column_base", "usedVars": ["column_base"], "jsValue": "column_base_"}], "variable": "column_base_posi", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~6"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~6", "ID": "prod-hmq5vzxaks", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "columns", "jsValue": "columns_"}, {"name": "__model__"}, {"name": "entities", "value": "column_base_posi", "usedVars": ["column_base_posi"], "jsValue": "column_base_posi_"}, {"name": "dist", "value": "FLOOR_SEP", "usedVars": ["FLOOR_SEP"], "jsValue": "FLOOR_SEP_"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "columns", "selectGeom": false}], "variable": "i", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-iwxup26121c", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "extrude towers: 1st floor only"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-un6rsau04z7", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "ground_floor", "jsValue": "ground_floor_"}, {"name": "__model__"}, {"name": "entities", "value": "tower_base", "usedVars": ["tower_base"], "jsValue": "tower_base_"}, {"name": "dist", "value": "6", "usedVars": [], "jsValue": "6"}, {"name": "divisions", "value": "3", "usedVars": [], "jsValue": "3"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "ground_floor", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-wifpkeaitbo", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise rotation around building"}], "selectGeom": false}, {"type": 8, "ID": "prod-q0g4szzfd2m", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "ground_floor", "usedVars": ["ground_floor"], "jsValue": "ground_floor_"}, {"name": "ray", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "angle", "value": "(degToRad(BUILDING_ROT))", "usedVars": ["BUILDING_ROT"], "jsValue": "(degToRad(__debug__, BUILDING_ROT_))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "terminate": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-ci8m4syehsu", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "extrude towers: 2nd floor onwards"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-3ap6to9kxsb", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "copy_tower_base", "jsValue": "copy_tower_base_"}, {"name": "__model__"}, {"name": "entities", "value": "tower_base", "usedVars": ["tower_base"], "jsValue": "tower_base_"}, {"name": "vector", "value": "[0, 0, FLOOR_SEP]", "usedVars": ["FLOOR_SEP"], "jsValue": "[0, 0, FLOOR_SEP_]"}], "variable": "copy_tower_base", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-zoklwemfn3", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "change tower base in size as it goes up"}], "selectGeom": false}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-a23102fyv9n", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "b", "jsValue": "b_"}, {"name": "list", "value": "range(FLOOR_NUM - 1)", "usedVars": ["FLOOR_NUM"], "jsValue": "range(__debug__, FLOOR_NUM_ - 1)"}], "children": [{"type": 13, "ID": "prod-u3u06uem3iq", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-db5hho6sfow", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise separation between each floors"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-ahz70crregf", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "floors", "jsValue": "floors_"}, {"name": "__model__"}, {"name": "entities", "value": "copy_tower_base", "usedVars": ["copy_tower_base"], "jsValue": "copy_tower_base_"}, {"name": "vector", "value": "[0, 0, FLOOR_SEP * b]", "usedVars": ["FLOOR_SEP", "b"], "jsValue": "[0, 0, FLOOR_SEP_ * b_]"}], "variable": "floors", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-n2gjq19ak7", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise tapering of towers"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-bni9l2qi80i", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Scale"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "plane", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "scale", "value": "[1 + taper * b, 1 + taper * b, 1]", "usedVars": ["b", "taper"], "jsValue": "[1 + taper_ * b_, 1 + taper_ * b_, 1]"}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-zrw3s7oe5fs", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise rotation around building"}], "selectGeom": false}, {"type": 8, "ID": "prod-cd87fdkaqfi", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "ray", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "angle", "value": "(degToRad(BUILDING_ROT * b))", "usedVars": ["BUILDING_ROT", "b"], "jsValue": "(degToRad(__debug__, BUILDING_ROT_ * b_))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "terminate": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-tvoxi1py2y", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "tower", "jsValue": "tower_"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "dist", "value": "FLOOR_SEP - 1", "usedVars": ["FLOOR_SEP"], "jsValue": "FLOOR_SEP_ - 1"}, {"name": "divisions", "value": "10", "usedVars": [], "jsValue": "10"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "tower", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-602vtey0zn", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "add colour"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-y5phqbwl1p", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "item", "value": "tower_base", "jsValue": "tower_base_", "usedVars": ["tower_base"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-up8jwal6dm", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "item", "value": "ground_floor", "jsValue": "ground_floor_", "usedVars": ["ground_floor"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-mr4u9jgenk", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "item", "value": "floors", "jsValue": "floors_", "usedVars": ["floors"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-xpgb5r47z3", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "item", "value": "tower", "jsValue": "tower_", "usedVars": ["tower"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "b", "selectGeom": false}], "variable": "a", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1"}], "variable": null}, {"type": 16, "ID": "prod-ellsivy2yrq", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "move_pos", "num_returns": 0, "collapsed": true}}, "args": [{"name": "func_name", "value": "move_pos", "jsValue": "move_pos_"}, {"name": "arg_1", "value": "pos", "jsValue": "pos_", "usedVars": ["pos"]}], "children": [{"type": 13, "ID": "prod-9fpl8jp9bv5", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-yc0g4iagrgk", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Scale"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "pos", "usedVars": ["pos"], "jsValue": "pos_"}, {"name": "plane", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "scale", "value": "[1.1, 1.1, 1]", "usedVars": [], "jsValue": "[1.1, 1.1, 1]"}], "selectGeom": false, "terminate": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2"}], "variable": null, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Short Towers", "id": "node_p4o39nkcwk", "position": {"x": 5460, "y": 5280}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "ID": "prod-xwxdhuv4ys9", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "taper", "jsValue": "taper_"}, {"name": "value", "value": "BUILDING_TAPER", "usedVars": ["BUILDING_TAPER"], "jsValue": "BUILDING_TAPER_"}], "variable": "taper", "selectGeom": false}, {"type": 0, "ID": "prod-1czcldw81zd", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "colour", "jsValue": "colour_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "colour"}, {"type": 0, "ID": "prod-qams8ol6ngp", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "colour_roof_garden", "jsValue": "colour_roof_garden_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "colour_roof_garden"}, {"type": 14, "ID": "prod-prkoj3t8p4", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "get attribute from Building Node"}], "selectGeom": false}, {"type": 0, "ID": "prod-0gsfct1kdmne", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "pos", "jsValue": "pos_"}, {"name": "value", "value": "#ps ?@type==\"short_tower_base\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'ps', null), ['type', null], '==', \"short_tower_base\")"}], "variable": "pos", "selectGeom": false, "terminate": false}, {"type": 14, "ID": "prod-0bpn5l6cgv2i", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "move tower positions to outer edge"}], "selectGeom": false}, {"type": 18, "ID": "prod-ckje7ket6zi", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "localFunc", "name": "move_pos"}, "args": [{"name": "__none__"}, {"name": "pos", "value": "pos", "usedVars": ["pos"], "jsValue": "pos_"}]}, {"type": 8, "ID": "prod-jkts7n8pnib", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Get"}, "argCount": 4, "args": [{"name": "var_name", "value": "tower_pos", "jsValue": "tower_pos_"}, {"name": "__model__"}, {"name": "entities", "value": "pos", "usedVars": ["pos"], "jsValue": "pos_"}, {"name": "attrib", "value": "\"xyz\"", "usedVars": [], "jsValue": "\"xyz\""}], "variable": "tower_pos", "selectGeom": false}, {"type": 14, "ID": "prod-jeqpiugbtbl", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "make short towers only when flaps not obstructing"}], "selectGeom": false}, {"type": 18, "ID": "prod-yjsgio7oghb", "enabled": true, "print": false, "argCount": 5, "meta": {"module": "localFunc", "name": "tower_flap_relationship", "otherInfo": {}}, "args": [{"name": "__none__"}, {"name": "pos", "value": "tower_pos", "usedVars": ["tower_pos"], "jsValue": "tower_pos_"}, {"name": "colour", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "colour_roof_garden", "value": "colour_roof_garden", "jsValue": "colour_roof_garden_", "usedVars": ["colour_roof_garden"]}, {"name": "taper", "value": "taper", "jsValue": "taper_", "usedVars": ["taper"]}], "selectGeom": false, "variable": null}, {"type": 14, "ID": "prod-ra6m8da77t", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "visualise colour"}], "selectGeom": false}, {"type": 8, "ID": "prod-23yc9g4ta9l", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "colour", "usedVars": ["colour"], "jsValue": "colour_"}, {"name": "color", "value": "[0.88, 0.83, 0.77]", "usedVars": [], "jsValue": "[0.88, 0.83, 0.77]"}], "selectGeom": false}, {"type": 8, "ID": "prod-ina9sgjsdgs", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "colour_roof_garden", "usedVars": ["colour_roof_garden"], "jsValue": "colour_roof_garden_"}, {"name": "color", "value": "[0.35, 0.45, 0.25]", "usedVars": [], "jsValue": "[0.35, 0.45, 0.25]"}], "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 16, "ID": "prod-fgwnvpomjzt", "enabled": true, "print": false, "argCount": 5, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "make_left_tower", "num_returns": 0, "collapsed": true, "deletedArgs": []}}, "args": [{"name": "func_name", "value": "make_left_tower", "jsValue": "make_left_tower_"}, {"name": "arg_1", "value": "pos", "jsValue": "pos_", "usedVars": ["pos"]}, {"name": "arg_2", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "arg_3", "value": "colour_roof_garden", "jsValue": "colour_roof_garden_", "usedVars": ["colour_roof_garden"]}, {"name": "arg_4", "value": "taper", "jsValue": "taper_", "usedVars": ["taper"]}], "children": [{"type": 13, "ID": "prod-x5fj2q7hgks", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 4, "ID": "prod-40lj8ju6u1a", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "a", "jsValue": "a_"}, {"name": "list", "value": "range(3, NUM_POS, 4)", "usedVars": ["NUM_POS"], "jsValue": "range(__debug__, 3, NUM_POS_, 4)"}], "children": [{"type": 13, "ID": "prod-aaqa2r2vccs", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-nvhtr9gvjzd", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "tower", "jsValue": "tower_"}, {"name": "__model__"}, {"name": "origin", "value": "pos[a]", "usedVars": ["a", "pos"], "jsValue": "pos_[pythonList(a_, pos_.length)]"}, {"name": "radius", "value": "17", "usedVars": [], "jsValue": "17"}, {"name": "num_positions", "value": "30", "usedVars": [], "jsValue": "30"}, {"name": "arc_angle", "value": "PI * 2", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(PI)) * 2"}], "variable": "tower", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "terminate": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-k5bkws4k5j", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "change tower base size and parameterise to size of building"}], "selectGeom": false}, {"type": 8, "ID": "prod-i4s84ffax1a", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Scale"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "tower", "usedVars": ["tower"], "jsValue": "tower_"}, {"name": "plane", "value": "pos[a]", "usedVars": ["a", "pos"], "jsValue": "pos_[pythonList(a_, pos_.length)]"}, {"name": "scale", "value": "[0.9 * SHORT_TOWER_SIZE, 0.9 * SHORT_TOWER_SIZE, 1]", "usedVars": ["SHORT_TOWER_SIZE"], "jsValue": "[0.9 * SHORT_TOWER_SIZE_, 0.9 * SHORT_TOWER_SIZE_, 1]"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1"}, {"type": 8, "ID": "prod-dh1z2xapo5n", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "tower_base", "jsValue": "tower_base_"}, {"name": "__model__"}, {"name": "entities", "value": "tower", "usedVars": ["tower"], "jsValue": "tower_"}], "variable": "tower_base", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-ub9s5dxspfg", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "make columns"}], "selectGeom": false}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-umllpugpi5j", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "i", "jsValue": "i_"}, {"name": "list", "value": "range(4)", "usedVars": [], "jsValue": "range(__debug__, 4)"}], "children": [{"type": 13, "ID": "prod-umena6z94td", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~6", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-v6hmjgj4rf", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "column_pos", "jsValue": "column_pos_"}, {"name": "__model__"}, {"name": "origin", "value": "pos[a]", "usedVars": ["a", "pos"], "jsValue": "pos_[pythonList(a_, pos_.length)]"}, {"name": "radius", "value": "17 / 1.7 * SHORT_TOWER_SIZE", "usedVars": ["SHORT_TOWER_SIZE"], "jsValue": "17 / 1.7 * SHORT_TOWER_SIZE_"}, {"name": "num_positions", "value": "5", "usedVars": [], "jsValue": "5"}, {"name": "arc_angle", "value": "PI * 2", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(PI)) * 2"}], "variable": "column_pos", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~6"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~6", "ID": "prod-ben0wrpkswd", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise rotation around building"}], "selectGeom": false}, {"type": 8, "ID": "prod-goa1fugtfpn", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "column_pos", "usedVars": ["column_pos"], "jsValue": "column_pos_"}, {"name": "ray", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "angle", "value": "(degToRad(BUILDING_ROT))", "usedVars": ["BUILDING_ROT"], "jsValue": "(degToRad(__debug__, BUILDING_ROT_))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~6", "terminate": false}, {"type": 8, "ID": "prod-1b3vp14z1bd", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Get"}, "argCount": 4, "args": [{"name": "var_name", "value": "posi", "jsValue": "posi_"}, {"name": "__model__"}, {"name": "entities", "value": "column_pos", "usedVars": ["column_pos"], "jsValue": "column_pos_"}, {"name": "attrib", "value": "\"xyz\"", "usedVars": [], "jsValue": "\"xyz\""}], "variable": "posi", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~6"}, {"type": 8, "ID": "prod-kc9cya70zfq", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "column_base", "jsValue": "column_base_"}, {"name": "__model__"}, {"name": "origin", "value": "posi[i]", "usedVars": ["posi", "i"], "jsValue": "posi_[pythonList(i_, posi_.length)]"}, {"name": "radius", "value": "1 * SHORT_TOWER_SIZE", "usedVars": ["SHORT_TOWER_SIZE"], "jsValue": "1 * SHORT_TOWER_SIZE_"}, {"name": "num_positions", "value": "25", "usedVars": [], "jsValue": "25"}, {"name": "arc_angle", "value": "PI * 2", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(PI)) * 2"}], "variable": "column_base", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~6"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~6", "ID": "prod-aqwpbl4g31m", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "extrude columns"}], "selectGeom": false}, {"type": 8, "ID": "prod-gaepwnvrj8w", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "column_base_posi", "jsValue": "column_base_posi_"}, {"name": "__model__"}, {"name": "entities", "value": "column_base", "usedVars": ["column_base"], "jsValue": "column_base_"}], "variable": "column_base_posi", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~6"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~6", "ID": "prod-qsff8eftp7", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "columns", "jsValue": "columns_"}, {"name": "__model__"}, {"name": "entities", "value": "column_base_posi", "usedVars": ["column_base_posi"], "jsValue": "column_base_posi_"}, {"name": "dist", "value": "FLOOR_SEP", "usedVars": ["FLOOR_SEP"], "jsValue": "FLOOR_SEP_"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "columns", "selectGeom": false}], "variable": "i", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-xerxn1r78so", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "extrude towers: 1st floor only"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-v64s1ascbgn", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "ground_floor", "jsValue": "ground_floor_"}, {"name": "__model__"}, {"name": "entities", "value": "tower_base", "usedVars": ["tower_base"], "jsValue": "tower_base_"}, {"name": "dist", "value": "6", "usedVars": [], "jsValue": "6"}, {"name": "divisions", "value": "3", "usedVars": [], "jsValue": "3"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "ground_floor", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-pdv44i3725p", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise rotation around building"}], "selectGeom": false}, {"type": 8, "ID": "prod-6iftxy7wn1i", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "ground_floor", "usedVars": ["ground_floor"], "jsValue": "ground_floor_"}, {"name": "ray", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "angle", "value": "(degToRad(BUILDING_ROT))", "usedVars": ["BUILDING_ROT"], "jsValue": "(degToRad(__debug__, BUILDING_ROT_))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "terminate": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-bouhirwztu7", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "extrude towers: 2nd floor onwards"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-t0tgs3uwo3", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "copy_tower_base", "jsValue": "copy_tower_base_"}, {"name": "__model__"}, {"name": "entities", "value": "tower_base", "usedVars": ["tower_base"], "jsValue": "tower_base_"}, {"name": "vector", "value": "[0, 0, FLOOR_SEP]", "usedVars": ["FLOOR_SEP"], "jsValue": "[0, 0, FLOOR_SEP_]"}], "variable": "copy_tower_base", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-yqafo27edko", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "change tower base in size as it goes up"}], "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-cm2v09sgajg", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "FLOOR_NUM > 2", "usedVars": ["FLOOR_NUM"], "jsValue": "FLOOR_NUM_ > 2"}], "children": [{"type": 13, "ID": "prod-c3hcuck2izv", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14", "ID": "prod-3olw8bcyykd", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "b", "jsValue": "b_"}, {"name": "list", "value": "range(FLOOR_NUM - 1)", "usedVars": ["FLOOR_NUM"], "jsValue": "range(__debug__, FLOOR_NUM_ - 1)"}], "children": [{"type": 13, "ID": "prod-sd57x2vwb", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1", "ID": "prod-k5cm2tpuws", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise separation between each floors"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1", "ID": "prod-83wgdostho", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "floors", "jsValue": "floors_"}, {"name": "__model__"}, {"name": "entities", "value": "copy_tower_base", "usedVars": ["copy_tower_base"], "jsValue": "copy_tower_base_"}, {"name": "vector", "value": "[0, 0, FLOOR_SEP * b]", "usedVars": ["FLOOR_SEP", "b"], "jsValue": "[0, 0, FLOOR_SEP_ * b_]"}], "variable": "floors", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1", "ID": "prod-h9opane9cg9", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise tapering of tower with exception to roof garden"}], "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1", "ID": "prod-2mi46famn7d", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "b < FLOOR_NUM - 2", "usedVars": ["FLOOR_NUM", "b"], "jsValue": "b_ < FLOOR_NUM_ - 2"}], "children": [{"type": 13, "ID": "prod-3kc3nvdtcbo", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1~children~4", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1~children~4", "ID": "prod-7x26jwmg7t3", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Scale"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "plane", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "scale", "value": "[1 + taper * b, 1 + taper * b, 1]", "usedVars": ["b", "taper"], "jsValue": "[1 + taper_ * b_, 1 + taper_ * b_, 1]"}], "selectGeom": false}], "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1", "ID": "prod-zrkbayv88xm", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "b > FLOOR_NUM - 3", "usedVars": ["FLOOR_NUM", "b"], "jsValue": "b_ > FLOOR_NUM_ - 3"}], "children": [{"type": 13, "ID": "prod-61h1vy7cz7e", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1~children~5", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1~children~5", "ID": "prod-z5eitsbkdy", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Scale"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "plane", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "scale", "value": "[1 + taper * (FLOOR_NUM - 3), 1 + taper * (FLOOR_NUM - 3), 1]", "usedVars": ["FLOOR_NUM", "taper"], "jsValue": "[1 + taper_ * (FLOOR_NUM_ - 3), 1 + taper_ * (FLOOR_NUM_ - 3), 1]"}], "selectGeom": false}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1", "ID": "prod-v4pfxu6pzyr", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "adjust height of roof garden"}], "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1", "ID": "prod-hntixmuf7om", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "b > FLOOR_NUM - 3", "usedVars": ["FLOOR_NUM", "b"], "jsValue": "b_ > FLOOR_NUM_ - 3"}], "children": [{"type": 13, "ID": "prod-t8ozqkpnj3r", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1~children~7", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1~children~7", "ID": "prod-0esw908bo81f", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "vectors", "value": "[0, 0, -0.9]", "usedVars": [], "jsValue": "[0, 0, -0.9]"}], "selectGeom": false}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1", "ID": "prod-g6zc64vt85e", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise rotation around building"}], "selectGeom": false}, {"type": 8, "ID": "prod-a4ra8cza4zo", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "ray", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "angle", "value": "(degToRad(BUILDING_ROT * b))", "usedVars": ["BUILDING_ROT", "b"], "jsValue": "(degToRad(__debug__, BUILDING_ROT_ * b_))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1", "terminate": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1", "ID": "prod-kwhuojivgq", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "rotate back roof garden to highest tower position"}], "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1", "ID": "prod-fj5qg1m0dho", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "b > FLOOR_NUM - 3", "usedVars": ["FLOOR_NUM", "b"], "jsValue": "b_ > FLOOR_NUM_ - 3"}], "children": [{"type": 13, "ID": "prod-8et77i5esqo", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1~children~11", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-v3nu4q5gozt", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "ray", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "angle", "value": "(degToRad(-BUILDING_ROT))", "usedVars": ["BUILDING_ROT"], "jsValue": "(degToRad(__debug__, -BUILDING_ROT_))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1~children~11", "terminate": false}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1", "ID": "prod-opwc0f6zgjk", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "extrude all towers except roof garden"}], "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1", "ID": "prod-ofcq1m5om1i", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "b < FLOOR_NUM - 2", "usedVars": ["FLOOR_NUM", "b"], "jsValue": "b_ < FLOOR_NUM_ - 2"}], "children": [{"type": 13, "ID": "prod-x019m9ihn6", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1~children~13", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1~children~13", "ID": "prod-4ehbxdpbniq", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "tower", "jsValue": "tower_"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "dist", "value": "FLOOR_SEP - 1", "usedVars": ["FLOOR_SEP"], "jsValue": "FLOOR_SEP_ - 1"}, {"name": "divisions", "value": "10", "usedVars": [], "jsValue": "10"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "tower", "selectGeom": false}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1", "ID": "prod-oex5d8y5lf", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "add colour"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1", "ID": "prod-45jwtumg39f", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "item", "value": "tower_base", "jsValue": "tower_base_", "usedVars": ["tower_base"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1", "ID": "prod-102auwu50rj", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "item", "value": "ground_floor", "jsValue": "ground_floor_", "usedVars": ["ground_floor"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1", "ID": "prod-ygaw66n6nkc", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "item", "value": "tower", "jsValue": "tower_", "usedVars": ["tower"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~14~children~1", "ID": "prod-37pbi7o1fu4", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "colour_roof_garden", "jsValue": "colour_roof_garden_", "usedVars": ["colour_roof_garden"]}, {"name": "item", "value": "floors", "jsValue": "floors_", "usedVars": ["floors"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "b", "selectGeom": false}], "selectGeom": false}], "variable": "a", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1"}], "variable": null, "selectGeom": false}, {"type": 16, "ID": "prod-h7e65zgukss", "enabled": true, "print": false, "argCount": 5, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "make_right_tower", "num_returns": 0, "collapsed": true, "deletedArgs": []}}, "args": [{"name": "func_name", "value": "make_right_tower", "jsValue": "make_right_tower_"}, {"name": "arg_1", "value": "pos", "jsValue": "pos_", "usedVars": ["pos"]}, {"name": "arg_2", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "arg_3", "value": "colour_roof_garden", "jsValue": "colour_roof_garden_", "usedVars": ["colour_roof_garden"]}, {"name": "arg_4", "value": "taper", "jsValue": "taper_", "usedVars": ["taper"]}], "children": [{"type": 13, "ID": "", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 4, "ID": "prod-kx6p6uf0q4m", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "a", "jsValue": "a_"}, {"name": "list", "value": "range(1, NUM_POS, 4)", "usedVars": ["NUM_POS"], "jsValue": "range(__debug__, 1, NUM_POS_, 4)"}], "children": [{"type": 13, "ID": "prod-rauekw30rlm", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-kcx1cwk5iq", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "tower", "jsValue": "tower_"}, {"name": "__model__"}, {"name": "origin", "value": "pos[a]", "usedVars": ["a", "pos"], "jsValue": "pos_[pythonList(a_, pos_.length)]"}, {"name": "radius", "value": "17", "usedVars": [], "jsValue": "17"}, {"name": "num_positions", "value": "30", "usedVars": [], "jsValue": "30"}, {"name": "arc_angle", "value": "PI * 2", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(PI)) * 2"}], "variable": "tower", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1", "terminate": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1", "ID": "prod-ac6mink9l6k", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "change tower base size and parameterise to size of building"}], "selectGeom": false}, {"type": 8, "ID": "prod-p3y3p871mvl", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Scale"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "tower", "usedVars": ["tower"], "jsValue": "tower_"}, {"name": "plane", "value": "pos[a]", "usedVars": ["a", "pos"], "jsValue": "pos_[pythonList(a_, pos_.length)]"}, {"name": "scale", "value": "[0.9 * SHORT_TOWER_SIZE, 0.9 * SHORT_TOWER_SIZE, 1]", "usedVars": ["SHORT_TOWER_SIZE"], "jsValue": "[0.9 * SHORT_TOWER_SIZE_, 0.9 * SHORT_TOWER_SIZE_, 1]"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1"}, {"type": 8, "ID": "prod-klxvnk6udf", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "tower_base", "jsValue": "tower_base_"}, {"name": "__model__"}, {"name": "entities", "value": "tower", "usedVars": ["tower"], "jsValue": "tower_"}], "variable": "tower_base", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1", "ID": "prod-lzogkfhh4e", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "make columns"}], "selectGeom": false}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1", "ID": "prod-16crjto9x78", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "i", "jsValue": "i_"}, {"name": "list", "value": "range(4)", "usedVars": [], "jsValue": "range(__debug__, 4)"}], "children": [{"type": 13, "ID": "prod-jhdw50bbx", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~6", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-htwjyyjbzrl", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "column_pos", "jsValue": "column_pos_"}, {"name": "__model__"}, {"name": "origin", "value": "pos[a]", "usedVars": ["a", "pos"], "jsValue": "pos_[pythonList(a_, pos_.length)]"}, {"name": "radius", "value": "17 / 1.7 * SHORT_TOWER_SIZE", "usedVars": ["SHORT_TOWER_SIZE"], "jsValue": "17 / 1.7 * SHORT_TOWER_SIZE_"}, {"name": "num_positions", "value": "5", "usedVars": [], "jsValue": "5"}, {"name": "arc_angle", "value": "PI * 2", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(PI)) * 2"}], "variable": "column_pos", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~6"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~6", "ID": "prod-7flu49pku1x", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise rotation around building"}], "selectGeom": false}, {"type": 8, "ID": "prod-ib9btb5kkqm", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "column_pos", "usedVars": ["column_pos"], "jsValue": "column_pos_"}, {"name": "ray", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "angle", "value": "(degToRad(BUILDING_ROT))", "usedVars": ["BUILDING_ROT"], "jsValue": "(degToRad(__debug__, BUILDING_ROT_))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~6", "terminate": false}, {"type": 8, "ID": "prod-7rhsg1zrvm", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Get"}, "argCount": 4, "args": [{"name": "var_name", "value": "posi", "jsValue": "posi_"}, {"name": "__model__"}, {"name": "entities", "value": "column_pos", "usedVars": ["column_pos"], "jsValue": "column_pos_"}, {"name": "attrib", "value": "\"xyz\"", "usedVars": [], "jsValue": "\"xyz\""}], "variable": "posi", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~6"}, {"type": 8, "ID": "prod-jh4z4fo944n", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "column_base", "jsValue": "column_base_"}, {"name": "__model__"}, {"name": "origin", "value": "posi[i]", "usedVars": ["posi", "i"], "jsValue": "posi_[pythonList(i_, posi_.length)]"}, {"name": "radius", "value": "1 * SHORT_TOWER_SIZE", "usedVars": ["SHORT_TOWER_SIZE"], "jsValue": "1 * SHORT_TOWER_SIZE_"}, {"name": "num_positions", "value": "25", "usedVars": [], "jsValue": "25"}, {"name": "arc_angle", "value": "PI * 2", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(PI)) * 2"}], "variable": "column_base", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~6"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~6", "ID": "prod-fesnxa9ll0h", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "extrude columns"}], "selectGeom": false}, {"type": 8, "ID": "prod-w43536nqxmi", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "column_base_posi", "jsValue": "column_base_posi_"}, {"name": "__model__"}, {"name": "entities", "value": "column_base", "usedVars": ["column_base"], "jsValue": "column_base_"}], "variable": "column_base_posi", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~6"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~6", "ID": "prod-vcg8cufqgd", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "columns", "jsValue": "columns_"}, {"name": "__model__"}, {"name": "entities", "value": "column_base_posi", "usedVars": ["column_base_posi"], "jsValue": "column_base_posi_"}, {"name": "dist", "value": "FLOOR_SEP", "usedVars": ["FLOOR_SEP"], "jsValue": "FLOOR_SEP_"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "columns", "selectGeom": false}], "variable": "i", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1", "ID": "prod-8yvd4rosg0q", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "extrude towers: 1st floor only"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1", "ID": "prod-x470u61ftjd", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "ground_floor", "jsValue": "ground_floor_"}, {"name": "__model__"}, {"name": "entities", "value": "tower_base", "usedVars": ["tower_base"], "jsValue": "tower_base_"}, {"name": "dist", "value": "6", "usedVars": [], "jsValue": "6"}, {"name": "divisions", "value": "3", "usedVars": [], "jsValue": "3"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "ground_floor", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1", "ID": "prod-gk7ptv7v2d", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise rotation around building"}], "selectGeom": false}, {"type": 8, "ID": "prod-ibwx1dg2qd", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "ground_floor", "usedVars": ["ground_floor"], "jsValue": "ground_floor_"}, {"name": "ray", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "angle", "value": "(degToRad(BUILDING_ROT))", "usedVars": ["BUILDING_ROT"], "jsValue": "(degToRad(__debug__, BUILDING_ROT_))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1", "terminate": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1", "ID": "prod-lmvhsfcaw7", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "extrude towers: 2nd floor onwards"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1", "ID": "prod-2pluvr3icqc", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "copy_tower_base", "jsValue": "copy_tower_base_"}, {"name": "__model__"}, {"name": "entities", "value": "tower_base", "usedVars": ["tower_base"], "jsValue": "tower_base_"}, {"name": "vector", "value": "[0, 0, FLOOR_SEP]", "usedVars": ["FLOOR_SEP"], "jsValue": "[0, 0, FLOOR_SEP_]"}], "variable": "copy_tower_base", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1", "ID": "prod-7hvcunxspt5", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "change tower base in size as it goes up"}], "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1", "ID": "prod-6r4q42a51fc", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "FLOOR_NUM > 2", "usedVars": ["FLOOR_NUM"], "jsValue": "FLOOR_NUM_ > 2"}], "children": [{"type": 13, "ID": "prod-i4f5ay2ruad", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14", "ID": "prod-jfacr5a1o6", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "b", "jsValue": "b_"}, {"name": "list", "value": "range(FLOOR_NUM - 1)", "usedVars": ["FLOOR_NUM"], "jsValue": "range(__debug__, FLOOR_NUM_ - 1)"}], "children": [{"type": 13, "ID": "prod-fshrun9xp8w", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1", "ID": "prod-omb3jc6mt0l", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise separation between each floors"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1", "ID": "prod-j5hoxyso5yl", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "floors", "jsValue": "floors_"}, {"name": "__model__"}, {"name": "entities", "value": "copy_tower_base", "usedVars": ["copy_tower_base"], "jsValue": "copy_tower_base_"}, {"name": "vector", "value": "[0, 0, FLOOR_SEP * b]", "usedVars": ["FLOOR_SEP", "b"], "jsValue": "[0, 0, FLOOR_SEP_ * b_]"}], "variable": "floors", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1", "ID": "prod-hpyrhl4k4tq", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise tapering of tower with exception to roof garden"}], "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1", "ID": "prod-0uhuej1ohhpk", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "b < FLOOR_NUM - 2", "usedVars": ["FLOOR_NUM", "b"], "jsValue": "b_ < FLOOR_NUM_ - 2"}], "children": [{"type": 13, "ID": "prod-0uhuej1ohhpk-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1~children~4", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1~children~4", "ID": "prod-064aapsci7aq", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Scale"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "plane", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "scale", "value": "[1 + taper * b, 1 + taper * b, 1]", "usedVars": ["b", "taper"], "jsValue": "[1 + taper_ * b_, 1 + taper_ * b_, 1]"}], "selectGeom": false}]}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1", "ID": "prod-bhjdkmf2xtn", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "b > FLOOR_NUM - 3", "usedVars": ["FLOOR_NUM", "b"], "jsValue": "b_ > FLOOR_NUM_ - 3"}], "children": [{"type": 13, "ID": "prod-bhjdkmf2xtn-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1~children~5", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1~children~5", "ID": "prod-bop8xw4z8k8", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Scale"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "plane", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "scale", "value": "[1 + taper * (FLOOR_NUM - 3), 1 + taper * (FLOOR_NUM - 3), 1]", "usedVars": ["FLOOR_NUM", "taper"], "jsValue": "[1 + taper_ * (FLOOR_NUM_ - 3), 1 + taper_ * (FLOOR_NUM_ - 3), 1]"}], "selectGeom": false}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1", "ID": "prod-w4dxpowt49b", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "adjust height of roof garden"}]}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1", "ID": "prod-idgvwq93d0i", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "b > FLOOR_NUM - 3", "usedVars": ["FLOOR_NUM", "b"], "jsValue": "b_ > FLOOR_NUM_ - 3"}], "children": [{"type": 13, "ID": "prod-idgvwq93d0i-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1~children~7", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1~children~7", "ID": "prod-d8x7bplvo08", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "vectors", "value": "[0, 0, -0.9]", "usedVars": [], "jsValue": "[0, 0, -0.9]"}], "selectGeom": false}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1", "ID": "prod-hsxhkke5lfr", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "parameterise rotation around building"}], "selectGeom": false}, {"type": 8, "ID": "prod-71ibmeyznyc", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "ray", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "angle", "value": "(degToRad(BUILDING_ROT * b))", "usedVars": ["BUILDING_ROT", "b"], "jsValue": "(degToRad(__debug__, BUILDING_ROT_ * b_))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1", "terminate": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1", "ID": "prod-idtjmbcw8c", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "rotate back roof garden to highest tower position"}]}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1", "ID": "prod-g6a8pdrkr24", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "b > FLOOR_NUM - 3", "usedVars": ["FLOOR_NUM", "b"], "jsValue": "b_ > FLOOR_NUM_ - 3"}], "children": [{"type": 13, "ID": "prod-0a79icvh40hj", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1~children~11", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-mi4xfe90qn", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "ray", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "angle", "value": "(degToRad(-BUILDING_ROT))", "usedVars": ["BUILDING_ROT"], "jsValue": "(degToRad(__debug__, -BUILDING_ROT_))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1~children~11", "terminate": false}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1", "ID": "prod-54dsuc95eze", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "extrude all towers except roof garden"}]}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1", "ID": "prod-y55urbah04f", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "b < FLOOR_NUM - 2", "usedVars": ["FLOOR_NUM", "b"], "jsValue": "b_ < FLOOR_NUM_ - 2"}], "children": [{"type": 13, "ID": "prod-y55urbah04f-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1~children~13", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1~children~13", "ID": "prod-k0hjsbhcb7", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "tower", "jsValue": "tower_"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "dist", "value": "FLOOR_SEP - 1", "usedVars": ["FLOOR_SEP"], "jsValue": "FLOOR_SEP_ - 1"}, {"name": "divisions", "value": "10", "usedVars": [], "jsValue": "10"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "tower", "selectGeom": false}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1", "ID": "prod-2xg7fcegrtt", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "add colour"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1", "ID": "prod-ui5jtuh8opf", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "item", "value": "tower_base", "jsValue": "tower_base_", "usedVars": ["tower_base"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1", "ID": "prod-bd9kd8qhdh7", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "item", "value": "ground_floor", "jsValue": "ground_floor_", "usedVars": ["ground_floor"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1", "ID": "prod-80gxkkh5zm3", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "item", "value": "tower", "jsValue": "tower_", "usedVars": ["tower"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~1~children~14~children~1", "ID": "prod-ofxq13c6fb", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "colour_roof_garden", "jsValue": "colour_roof_garden_", "usedVars": ["colour_roof_garden"]}, {"name": "item", "value": "floors", "jsValue": "floors_", "usedVars": ["floors"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "b", "selectGeom": false}], "selectGeom": false}], "variable": "a", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2"}], "variable": null}, {"type": 16, "ID": "prod-3vvz8yf5lit", "enabled": true, "print": false, "argCount": 5, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "tower_flap_relationship", "num_returns": 0, "collapsed": true}}, "args": [{"name": "func_name", "value": "tower_flap_relationship", "jsValue": "tower_flap_relationship_"}, {"name": "arg_1", "value": "pos", "jsValue": "pos_", "usedVars": ["pos"]}, {"name": "arg_2", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "arg_3", "value": "colour_roof_garden", "jsValue": "colour_roof_garden_", "usedVars": ["colour_roof_garden"]}, {"name": "arg_4", "value": "taper", "jsValue": "taper_", "usedVars": ["taper"]}], "children": [{"type": 13, "ID": "", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-q60fv4e9zy", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "FLAP_ROT > -50", "usedVars": ["FLAP_ROT"], "jsValue": "FLAP_ROT_ > -50"}], "children": [{"type": 13, "ID": "prod-ykjrex22vbp", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3~children~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3~children~1", "ID": "prod-704suxkz4ae", "enabled": true, "print": false, "argCount": 5, "meta": {"module": "localFunc", "name": "make_left_tower", "otherInfo": {}}, "args": [{"name": "__none__"}, {"name": "pos", "value": "pos", "usedVars": ["pos"], "jsValue": "pos_"}, {"name": "colour", "value": "colour", "jsValue": "colour_", "usedVars": ["colour"]}, {"name": "colour_roof_garden", "value": "colour_roof_garden", "jsValue": "colour_roof_garden_", "usedVars": ["colour_roof_garden"]}, {"name": "taper", "value": "taper", "jsValue": "taper_", "usedVars": ["taper"]}], "selectGeom": false}], "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-tg3kuq5xla", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "FLAP_ROT < 50", "usedVars": ["FLAP_ROT"], "jsValue": "FLAP_ROT_ < 50"}], "children": [{"type": 13, "ID": "prod-298mujm8bd", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3~children~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3~children~2", "ID": "prod-al44n627z3r", "enabled": true, "print": false, "argCount": 5, "meta": {"module": "localFunc", "name": "make_right_tower"}, "args": [{"name": "__none__"}, {"name": "pos", "value": "pos", "usedVars": ["pos"], "jsValue": "pos_"}, {"name": "colour", "value": "colour", "usedVars": ["colour"], "jsValue": "colour_"}, {"name": "colour_roof_garden", "value": "colour_roof_garden", "usedVars": ["colour_roof_garden"], "jsValue": "colour_roof_garden_"}, {"name": "taper", "value": "taper", "usedVars": ["taper"], "jsValue": "taper_"}], "selectGeom": false}], "selectGeom": false}], "variable": null}, {"type": 16, "ID": "prod-ellsivy2yrq", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "move_pos", "num_returns": 0, "collapsed": true}}, "args": [{"name": "func_name", "value": "move_pos", "jsValue": "move_pos_"}, {"name": "arg_1", "value": "pos", "jsValue": "pos_", "usedVars": ["pos"]}], "children": [{"type": 13, "ID": "prod-9fpl8jp9bv5", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-yc0g4iagrgk", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Scale"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "pos", "usedVars": ["pos"], "jsValue": "pos_"}, {"name": "plane", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "scale", "value": "[1.1, 1.1, 1]", "usedVars": [], "jsValue": "[1.1, 1.1, 1]"}], "selectGeom": false, "terminate": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4"}], "variable": null, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "hasError": false, "hasExecuted": true, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Texture", "id": "node_uuo2izcoqw", "position": {"x": 5460, "y": 5400}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-b5qka7nj7gu", "enabled": true, "print": false, "meta": {"module": "material", "name": "Glass"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "name", "value": "\"translucent\"", "usedVars": [], "jsValue": "\"translucent\""}, {"name": "opacity", "value": "0.9", "usedVars": [], "jsValue": "0.9"}]}, {"type": 8, "ID": "prod-thuvdbpd4io", "enabled": true, "print": false, "meta": {"module": "material", "name": "Set"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "#pg", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pg', null)"}, {"name": "material", "value": "\"translucent\"", "usedVars": [], "jsValue": "\"translucent\""}]}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "End", "id": "node_zsn6rknd6b", "position": {"x": 5460, "y": 5500}, "enabled": true, "type": "end", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 11, "ID": "Return", "meta": {"name": "", "module": ""}, "argCount": 2, "args": [{"name": "__model__", "value": "", "jsValue": ""}, {"name": "value", "value": "", "jsValue": "", "usedVars": []}], "print": false, "enabled": true, "terminate": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 8}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 7}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "model": 6}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 5}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 4}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 3}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0"}, "hasError": false, "hasExecuted": true, "model": 2}, "~flowchart~nodes~0~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"], "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "functions": [], "ordered": true, "last_updated": "2021-03-22T08:47:24.020Z"}, "version": "0.7.5", "settings": "{\"normals\":{\"show\":false,\"size\":5},\"axes\":{\"show\":true,\"size\":50},\"grid\":{\"show\":true,\"size\":500,\"pos_x\":0,\"pos_y\":0,\"pos_z\":0,\"pos\":{\"x\":0,\"y\":0,\"z\":0}},\"background\":{\"show\":true,\"background_set\":0},\"positions\":{\"show\":false,\"size\":4.3},\"tjs_summary\":{\"show\":false},\"gi_summary\":{\"show\":true},\"wireframe\":{\"show\":false},\"camera\":{\"pos\":{\"x\":-38.891696096423914,\"y\":-35.31225289341644,\"z\":38.63152162563972},\"target\":{\"x\":5.108445925567182,\"y\":4.264357111247091,\"z\":11.769503254957694},\"ortho\":false,\"pos_x\":-80,\"pos_y\":-80,\"pos_z\":80},\"colors\":{\"viewer_bg\":\"#E6E6E6\",\"position\":\"#000000\",\"position_s\":\"#0033FF\",\"vertex_s\":\"#FFCC00\",\"face_f\":\"#FFFFFF\",\"face_f_s\":\"#4949BD\",\"face_b\":\"#DDDDDD\",\"face_b_s\":\"#00006D\"},\"ambient_light\":{\"show\":true,\"color\":\"#FFFFFF\",\"intensity\":0.5},\"hemisphere_light\":{\"show\":true,\"helper\":false,\"skyColor\":\"#FFFFFF\",\"groundColor\":\"#FFFFFF\",\"intensity\":0.5},\"directional_light\":{\"show\":false,\"helper\":false,\"color\":\"#FFFFFF\",\"intensity\":1,\"shadow\":true,\"azimuth\":90,\"altitude\":45,\"distance\":10,\"type\":\"directional\",\"shadowSize\":3072},\"ground\":{\"show\":false,\"width\":1000,\"length\":1000,\"height\":-0.5,\"color\":\"#FFFFFF\",\"shininess\":0},\"select\":{\"selector\":{\"id\":7,\"name\":\"Polygons\"},\"tab\":\"0\",\"enabledselector\":{\"ps\":true,\"_v\":true,\"_e\":true,\"_w\":true,\"_f\":true,\"pt\":true,\"pl\":true,\"pg\":true,\"co\":true}},\"version\":\"0.4.38\",\"cesium\":{\"imagery\":{\"layer\":\"Open Street Map\",\"terrain\":\"Ellipsoid\",\"apiKey\":{\"here\":\"7vMRjLNCpcOAUQXU61eUp6EFbWCy7WLNmy9qLHO-1Bw\"}},\"camera\":{\"pos\":{\"x\":0,\"y\":0,\"z\":0},\"direction\":{\"x\":0,\"y\":0,\"z\":0},\"up\":{\"x\":0,\"y\":0,\"z\":0},\"right\":{\"x\":0,\"y\":0,\"z\":0}},\"updated\":true,\"time\":{\"date\":\"2020-05-11\"},\"model\":{\"polygonEdge\":true}},\"geo\":{\"imagery\":{\"layer\":\"Open Street Map\",\"terrain\":\"Ellipsoid\"},\"camera\":{\"pos\":{\"x\":0,\"y\":0,\"z\":0},\"rot\":{\"x\":0,\"y\":0,\"z\":0},\"direction\":{\"x\":0,\"y\":0,\"z\":0},\"up\":{\"x\":0,\"y\":0,\"z\":0},\"right\":{\"x\":0,\"y\":0,\"z\":0}},\"time\":{\"date\":\"2021-02-04T15:45\"},\"model\":{\"polygonEdge\":false},\"updated\":true}}"}