{"name": "FinalProject_G7_student_05", "author": "new_user", "flowchart": {"id": "d5c26823-b89f-9f42-acf0-10010e8e5b50", "name": "FinalProject_G7_student_05", "description": "This model is inspired by Houses in the Sky by Anthony Lee Mull. The original model by the designer has a complex inner structure and variation in floor plans. This model is a simplified version of it that attempts to retain its original principle of rotation (where only the middle levels are twisted), an inner structural column grid and lift core, rotated internal pathways that connect the core to the floors and a variation of balconies across the floors to reflect the spirit of varied floorplates in the original. There are a total of 6 parameters in this model. ", "language": "js", "meta": {"selected_nodes": [0]}, "nodes": [{"name": "Start", "id": "node_tlmj4utrym", "position": {"x": 5240, "y": 4860}, "enabled": true, "type": "start", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-z6i44e9vg5s", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Intensity of twist refer to the maximum angle of rotation by the tower"}]}, {"type": 10, "ID": "prod-fg0unuezzij", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Number of floors in tower (changes the number of floors)"}, "args": [{"name": "const_name", "value": "FLOOR_NUM", "jsValue": "FLOOR_NUM_"}, {"name": "__input__", "value": 34, "step": "1", "min": "20", "max": "100"}]}, {"type": 10, "ID": "prod-muh626czf5j", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Floor to floor height (changes the distance between each floor)"}, "args": [{"name": "const_name", "value": "FLOOR_HEIGHT", "jsValue": "FLOOR_HEIGHT_"}, {"name": "__input__", "value": 6, "step": "1", "min": "6", "max": "10"}]}, {"type": 10, "ID": "prod-jmhsctdak5j", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Floor width (changes the width of each floor)"}, "args": [{"name": "const_name", "value": "FLOOR_WIDTH", "jsValue": "FLOOR_WIDTH_"}, {"name": "__input__", "value": 20, "step": "1", "min": "15", "max": "20"}]}, {"type": 10, "ID": "prod-ww7wfqj7lbd", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Intensity of twist (This factors in how the first 7 floors and the last 5 floors are oriented in the same angle, such that only the middle floors are affected by the twist)"}, "args": [{"name": "const_name", "value": "TWIST_INTEN", "jsValue": "TWIST_INTEN_"}, {"name": "__input__", "value": 45, "step": "5", "min": "0", "max": "80"}]}, {"type": 10, "ID": "prod-gd9rb1p6lcp", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Balcony Adjustments (varies the the frequency of the different types of balconies)"}, "args": [{"name": "const_name", "value": "BALCONY_NUM", "jsValue": "BALCONY_NUM_"}, {"name": "__input__", "value": 17, "step": "1", "min": "6", "max": "17"}]}, {"type": 10, "ID": "prod-2t3ajd52wxw", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Ceiling Height of each floor"}, "args": [{"name": "const_name", "value": "CEIL_HEIGHT", "jsValue": "CEIL_HEIGHT_"}, {"name": "__input__", "value": 3, "max": "5", "min": "3", "step": "1"}]}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": false}, "input": {"name": "input", "type": 0, "edges": [], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0"}, "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Skeleton", "id": "node_bn0k603ful9", "position": {"x": 5240, "y": 5060}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 18, "ID": "prod-xabnczv0g7f", "enabled": true, "print": false, "argCount": 4, "meta": {"module": "localFunc", "name": "tower_skeleton"}, "args": [{"name": "__none__"}, {"name": "origin", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}, {"name": "width", "value": "FLOOR_WIDTH", "usedVars": ["FLOOR_WIDTH"], "jsValue": "FLOOR_WIDTH_"}, {"name": "rotation", "value": "TWIST_INTEN", "usedVars": ["TWIST_INTEN"], "jsValue": "TWIST_INTEN_"}]}, {"type": 0, "ID": "prod-cjojbfshgem", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "skel_pl_lst", "jsValue": "skel_pl_lst_"}, {"name": "value", "value": "#pl", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pl', null)"}], "variable": "skel_pl_lst"}, {"type": 8, "ID": "prod-y4yynpz1yf", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "skel_pl_coll", "jsValue": "skel_pl_coll_"}, {"name": "__model__"}, {"name": "entities", "value": "skel_pl_lst", "usedVars": ["skel_pl_lst"], "jsValue": "skel_pl_lst_"}, {"name": "name", "value": "null", "usedVars": [], "jsValue": "null"}], "variable": "skel_pl_coll", "selectGeom": false}, {"type": 0, "ID": "prod-rfjpobb0rv", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "@skelplcoll", "jsValue": "@skelplcoll", "usedVars": []}, {"name": "value", "value": "skel_pl_coll", "usedVars": ["skel_pl_coll"], "jsValue": "skel_pl_coll_"}], "variable": null, "selectGeom": false}, {"type": 14, "ID": "prod-xlnslc41qf8", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "creates a collecton to house the skeleton polylines for uses in downstream nodes"}]}, {"type": 8, "ID": "prod-k4cfplmy0as", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "skel_pl_coll", "usedVars": ["skel_pl_coll"], "jsValue": "skel_pl_coll_"}, {"name": "method", "value": "'keep_selected'", "jsValue": "'keep_selected'", "usedVars": []}]}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 16, "ID": "prod-yfgdnijlwfh", "enabled": true, "print": false, "argCount": 4, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "tower_skeleton", "num_returns": 0, "collapsed": false, "deletedArgs": []}}, "args": [{"name": "func_name", "value": "tower_skeleton", "jsValue": "tower_skeleton_"}, {"name": "arg_1", "value": "origin", "jsValue": "origin_", "usedVars": ["origin"]}, {"name": "arg_2", "value": "width", "jsValue": "width_", "usedVars": ["width"]}, {"name": "arg_3", "value": "rotation", "jsValue": "rotation_", "usedVars": ["rotation"]}], "children": [{"type": 13, "ID": "prod-yfgdnijlwfh-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-h65ymx1afa6", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "skel_pl_lst", "jsValue": "skel_pl_lst_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "skel_pl_lst"}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-h34k2gl5nqc", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "i", "jsValue": "i_"}, {"name": "list", "value": "range(0, FLOOR_NUM)", "usedVars": ["FLOOR_NUM"], "jsValue": "range(__debug__, 0, FLOOR_NUM_)"}], "children": [{"type": 13, "ID": "prod-h34k2gl5nqc-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2", "ID": "prod-599llbh4nuu", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Creates base positions"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2", "ID": "prod-zu8glo1lxd", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Rectangle"}, "argCount": 4, "args": [{"name": "var_name", "value": "base_pos", "jsValue": "base_pos_"}, {"name": "__model__"}, {"name": "origin", "value": "origin", "usedVars": ["origin"], "jsValue": "origin_"}, {"name": "size", "value": "[width, width]", "usedVars": ["width"], "jsValue": "[width_, width_]"}], "variable": "base_pos"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2", "ID": "prod-80gu6mq562v", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "base_square", "jsValue": "base_square_"}, {"name": "__model__"}, {"name": "entities", "value": "base_pos", "usedVars": ["base_pos"], "jsValue": "base_pos_"}, {"name": "close", "value": "'close'", "jsValue": "'close'", "usedVars": []}], "variable": "base_square"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2", "ID": "prod-h6hh8wl5jfi", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "base_square", "usedVars": ["base_square"], "jsValue": "base_square_"}, {"name": "vectors", "value": "[0, 0, FLOOR_HEIGHT * i]", "usedVars": ["FLOOR_HEIGHT", "i"], "jsValue": "[0, 0, FLOOR_HEIGHT_ * i_]"}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2", "ID": "prod-u29pa2q276", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Orientates the topmost 5 levels to be in the same angle (the maximum rotation angle)"}]}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2", "ID": "prod-qoausfpax2j", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "i > (FLOOR_NUM - 6)", "usedVars": ["FLOOR_NUM", "i"], "jsValue": "i_ > (FLOOR_NUM_ - 6)"}], "children": [{"type": 13, "ID": "prod-qoausfpax2j-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2~children~6", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2~children~6", "ID": "prod-6rc9hnirvp8", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Centroid"}, "argCount": 4, "args": [{"name": "var_name", "value": "cent", "jsValue": "cent_"}, {"name": "__model__"}, {"name": "entities", "value": "base_square", "usedVars": ["base_square"], "jsValue": "base_square_"}, {"name": "method", "value": "'ps_average'", "jsValue": "'ps_average'", "usedVars": []}], "variable": "cent"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2~children~6", "ID": "prod-mqphns308k", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "base_square", "usedVars": ["base_square"], "jsValue": "base_square_"}, {"name": "ray", "value": "cent", "usedVars": ["cent"], "jsValue": "cent_"}, {"name": "angle", "value": "degToRad(TWIST_INTEN)", "usedVars": ["TWIST_INTEN"], "jsValue": "degToRad(__debug__, TWIST_INTEN_)"}], "terminate": false}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2", "ID": "prod-xpm20jghv5f", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Excludes the first 7 floors from rotation"}]}, {"type": 2, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2", "ID": "prod-g6flpd2i9z9", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "i > 7", "usedVars": ["i"], "jsValue": "i_ > 7"}], "children": [{"type": 13, "ID": "prod-g6flpd2i9z9-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2~children~8", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2~children~8", "ID": "prod-ahsvsyjusy9", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Centroid"}, "argCount": 4, "args": [{"name": "var_name", "value": "cent", "jsValue": "cent_"}, {"name": "__model__"}, {"name": "entities", "value": "base_square", "usedVars": ["base_square"], "jsValue": "base_square_"}, {"name": "method", "value": "'ps_average'", "jsValue": "'ps_average'", "usedVars": []}], "variable": "cent"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2~children~8", "ID": "prod-7145cm6v6pp", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Divides the maximum rotation angle (TWIST_INTEN) equally amongst the middle floors to allow a smooth curve."}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2~children~8", "ID": "prod-risxvqkqd2j", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "base_square", "usedVars": ["base_square"], "jsValue": "base_square_"}, {"name": "ray", "value": "cent", "usedVars": ["cent"], "jsValue": "cent_"}, {"name": "angle", "value": "(degToRad(TWIST_INTEN / (FLOOR_NUM - 11))) * (i - 7)", "usedVars": ["TWIST_INTEN", "FLOOR_NUM", "i"], "jsValue": "(degToRad(__debug__, TWIST_INTEN_ / (FLOOR_NUM_ - 11))) * (i_ - 7)"}]}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2", "ID": "prod-1l6vx5ldcxw", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "skel_pl_lst", "usedVars": ["skel_pl_lst"], "jsValue": "skel_pl_lst_"}, {"name": "item", "value": "base_square", "usedVars": ["base_square"], "jsValue": "base_square_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}]}], "variable": "i"}], "variable": null}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Spaces", "id": "node_ewn5lykncpw", "position": {"x": 4920, "y": 5260}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-g05zqngjesr", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Retrieves collection of skeleton polylines from skeleton node"}]}, {"type": 0, "ID": "prod-mar3qny4pib", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "skel_pl_coll", "jsValue": "skel_pl_coll_"}, {"name": "value", "value": "@skelplcoll", "usedVars": [], "jsValue": "__modules__.attrib.Get(__params__.model, null, 'skelplcoll')"}], "variable": "skel_pl_coll", "selectGeom": false}, {"type": 14, "ID": "prod-0u4ms77jwbxj", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Makes a copy of the skeleton polylines in order to offset them inwards to form the inner hole"}]}, {"type": 8, "ID": "prod-j1wln3gfewi", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "skel_inner", "jsValue": "skel_inner_"}, {"name": "__model__"}, {"name": "entities", "value": "skel_pl_coll", "usedVars": ["skel_pl_coll"], "jsValue": "skel_pl_coll_"}, {"name": "vector", "value": "null", "usedVars": [], "jsValue": "null"}], "variable": "skel_inner", "selectGeom": false}, {"type": 8, "ID": "prod-4c69otzo8ad", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Offset"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "skel_inner", "usedVars": ["skel_inner"], "jsValue": "skel_inner_"}, {"name": "dist", "value": "-4", "usedVars": [], "jsValue": "-4"}], "selectGeom": false}, {"type": 8, "ID": "prod-dt7hkre4rva", "enabled": true, "print": false, "meta": {"module": "query", "name": "Get"}, "argCount": 4, "args": [{"name": "var_name", "value": "skel_inner_pl", "jsValue": "skel_inner_pl_"}, {"name": "__model__"}, {"name": "ent_type_enum", "value": "'pl'", "jsValue": "'pl'", "usedVars": []}, {"name": "entities", "value": "skel_inner", "jsValue": "skel_inner_", "usedVars": ["skel_inner"]}], "variable": "skel_inner_pl", "selectGeom": false}, {"type": 14, "ID": "prod-grey14qulj", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Makes the inner \"cutting\" polygons that will be used to cut the holes"}]}, {"type": 8, "ID": "prod-bmyb25lcg2p", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "skel_inner_pg", "jsValue": "skel_inner_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "skel_inner_pl", "usedVars": ["skel_inner_pl"], "jsValue": "skel_inner_pl_"}], "variable": "skel_inner_pg"}, {"type": 8, "ID": "prod-l1ek1ukxayp", "enabled": true, "print": false, "meta": {"module": "query", "name": "Get"}, "argCount": 4, "args": [{"name": "var_name", "value": "skel_pl", "jsValue": "skel_pl_"}, {"name": "__model__"}, {"name": "ent_type_enum", "value": "'pl'", "jsValue": "'pl'", "usedVars": []}, {"name": "entities", "value": "skel_pl_coll", "jsValue": "skel_pl_coll_", "usedVars": ["skel_pl_coll"]}], "variable": "skel_pl"}, {"type": 8, "ID": "prod-engog7vyi5q", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "floor_plates", "jsValue": "floor_plates_"}, {"name": "__model__"}, {"name": "entities", "value": "skel_pl", "usedVars": ["skel_pl"], "jsValue": "skel_pl_"}], "variable": "floor_plates"}, {"type": 0, "ID": "prod-tfgzjnvbpne", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "total_pg", "jsValue": "total_pg_"}, {"name": "value", "value": "#pg", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pg', null)"}], "variable": "total_pg"}, {"type": 4, "ID": "prod-30tr8ag9e2d", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "i", "jsValue": "i_"}, {"name": "list", "value": "range(0, FLOOR_NUM)", "usedVars": ["FLOOR_NUM"], "jsValue": "range(__debug__, 0, FLOOR_NUM_)"}], "children": [{"type": 13, "ID": "prod-30tr8ag9e2d-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~12", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~12", "ID": "prod-ssr501bi60s", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "retrieves \"cutting\" polygons from the list and matches them to their respective floor polygons that are lying on the same plane"}]}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~12", "ID": "prod-ikqc5p14oy", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "pgcut", "jsValue": "pgcut_"}, {"name": "value", "value": "total_pg[-1 * i]", "usedVars": ["total_pg", "i"], "jsValue": "total_pg_[pythonList(-1 * i_, total_pg_.length)]"}], "variable": "pgcut"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~12", "ID": "prod-sg8hprgxp6b", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "pghole", "jsValue": "pghole_"}, {"name": "value", "value": "total_pg[FLOOR_NUM - i]", "usedVars": ["FLOOR_NUM", "total_pg", "i"], "jsValue": "total_pg_[pythonList(FLOOR_NUM_ - i_, total_pg_.length)]"}], "variable": "pghole", "terminate": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~12", "ID": "prod-aax7d8pje8", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Hole"}, "argCount": 4, "args": [{"name": "var_name", "value": "floor_plates2", "jsValue": "floor_plates2_"}, {"name": "__model__"}, {"name": "pgon", "value": "pgcut", "usedVars": ["pgcut"], "jsValue": "pgcut_"}, {"name": "entities", "value": "pghole", "usedVars": ["pghole"], "jsValue": "pghole_"}], "variable": "floor_plates2"}], "variable": "i"}, {"type": 14, "ID": "prod-f4qgpb3i6wl", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "deletes the \"cutting\" polygons in the middle"}]}, {"type": 8, "ID": "prod-op8z2zompy", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "skel_inner_pg", "usedVars": ["skel_inner_pg"], "jsValue": "skel_inner_pg_"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}]}, {"type": 14, "ID": "prod-86f68umbymg", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "defines two variables, both housing an identical list of polygons"}]}, {"type": 14, "ID": "prod-6b808h02pdd", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "one of them will form the spatial volumes, the other one wil lform the floorplates"}]}, {"type": 0, "ID": "prod-voskzvrxkpb", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "skel_outter_pg", "jsValue": "skel_outter_pg_"}, {"name": "value", "value": "#pg", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pg', null)"}], "variable": "skel_outter_pg"}, {"type": 8, "ID": "prod-5vdx2w0xif5", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "floor_plate_pg", "jsValue": "floor_plate_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "skel_outter_pg", "usedVars": ["skel_outter_pg"], "jsValue": "skel_outter_pg_"}, {"name": "vector", "value": "null", "usedVars": [], "jsValue": "null"}], "variable": "floor_plate_pg"}, {"type": 0, "ID": "prod-7gj1lh023sp", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "skel_outter_pg@type", "jsValue": "skel_outter_pg_@type", "usedVars": ["skel_outter_pg"]}, {"name": "value", "value": "\"space\"", "usedVars": [], "jsValue": "\"space\""}], "variable": null}, {"type": 0, "ID": "prod-p5hq4d8agbh", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "floor_plate_pg@type", "jsValue": "floor_plate_pg_@type", "usedVars": ["floor_plate_pg"]}, {"name": "value", "value": "\"plate\"", "usedVars": [], "jsValue": "\"plate\""}], "variable": null}, {"type": 8, "ID": "prod-8h8grgh23p7", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "spaces", "jsValue": "spaces_"}, {"name": "__model__"}, {"name": "entities", "value": "#pg", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pg', null)"}, {"name": "dist", "value": "CEIL_HEIGHT", "usedVars": ["CEIL_HEIGHT"], "jsValue": "CEIL_HEIGHT_"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "spaces"}, {"type": 0, "ID": "prod-8g67s8d302l", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "spaces@type", "jsValue": "spaces_@type", "usedVars": ["spaces"]}, {"name": "value", "value": "\"space\"", "usedVars": [], "jsValue": "\"space\""}], "variable": null}, {"type": 8, "ID": "prod-6hcrapdn84r", "enabled": true, "print": false, "meta": {"module": "material", "name": "Glass"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "name", "value": "\"glass\"", "usedVars": [], "jsValue": "\"glass\""}, {"name": "opacity", "value": "0.5", "usedVars": [], "jsValue": "0.5"}]}, {"type": 8, "ID": "prod-wjofc1hqzdn", "enabled": true, "print": false, "meta": {"module": "material", "name": "Set"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "#pg ?@type==\"space\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"space\")"}, {"name": "material", "value": "\"glass\"", "usedVars": [], "jsValue": "\"glass\""}]}, {"type": 8, "ID": "prod-xe2qyrrm7uq", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "#pg ?@type==\"space\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"space\")"}, {"name": "color", "value": "[0.8, 0.9, 1]", "usedVars": [], "jsValue": "[0.8, 0.9, 1]"}]}, {"type": 14, "ID": "prod-4cqlps9t5m9", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "extrudes floorplate polygons to give it thickness"}]}, {"type": 14, "ID": "prod-ljf8sirekh", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "generates identical copy and shifted up to form the roof plates"}]}, {"type": 8, "ID": "prod-2j6t00yillq", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "floorplate", "jsValue": "floorplate_"}, {"name": "__model__"}, {"name": "entities", "value": "floor_plate_pg", "usedVars": ["floor_plate_pg"], "jsValue": "floor_plate_pg_"}, {"name": "dist", "value": "0.5", "usedVars": [], "jsValue": "0.5"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "floorplate"}, {"type": 8, "ID": "prod-h9xp9ib067h", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "roofplate", "jsValue": "roofplate_"}, {"name": "__model__"}, {"name": "entities", "value": "floorplate", "usedVars": ["floorplate"], "jsValue": "floorplate_"}, {"name": "vector", "value": "[0, 0, CEIL_HEIGHT]", "usedVars": ["CEIL_HEIGHT"], "jsValue": "[0, 0, CEIL_HEIGHT_]"}], "variable": "roofplate"}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": [{"source": {"name": "output", "type": 1, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0"], "meta": {"mode": 0}, "parentNode": {"name": "Make Loft", "id": "node_gyx057rwr9t", "position": {"x": 5240, "y": 5460}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-yeu8mf2iyt", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Retrieves all the polylines created in the upstream balcony nodes"}]}, {"type": 0, "ID": "prod-3qlnrzllagu", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "crvs", "jsValue": "crvs_"}, {"name": "value", "value": "#pl", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pl', null)"}], "variable": "crvs", "selectGeom": false}, {"type": 0, "ID": "prod-v6kc54af3lg", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "shades", "jsValue": "shades_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "shades", "selectGeom": false}, {"type": 4, "ID": "prod-c1vkn4ind7", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "crv", "jsValue": "crv_"}, {"name": "list", "value": "crvs", "usedVars": ["crvs"], "jsValue": "crvs_"}], "children": [{"type": 13, "ID": "prod-8eb0oq0tdhj", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~procedure~4", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-eniz0fz6y9m", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "crv_cp", "jsValue": "crv_cp_"}, {"name": "__model__"}, {"name": "entities", "value": "crv", "usedVars": ["crv"], "jsValue": "crv_"}, {"name": "vector", "value": "null", "usedVars": [], "jsValue": "null"}], "variable": "crv_cp", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~procedure~4"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~procedure~4", "ID": "prod-x3t31zjb1qc", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "creates coppy of polylines and offsets them to form the width to the balconies"}]}, {"type": 8, "ID": "prod-hiwiugr0xit", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Offset"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "crv_cp", "usedVars": ["crv_cp"], "jsValue": "crv_cp_"}, {"name": "dist", "value": "2", "usedVars": [], "jsValue": "2"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~procedure~4"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~procedure~4", "ID": "prod-4ygytgb0gmb", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "lofts the two sets of polylines together for form the balcony polygons"}]}, {"type": 8, "ID": "prod-ma5ygfoo0kb", "enabled": true, "print": false, "meta": {"module": "make", "name": "Loft"}, "argCount": 5, "args": [{"name": "var_name", "value": "lof", "jsValue": "lof_"}, {"name": "__model__"}, {"name": "entities", "value": "[crv, crv_cp]", "usedVars": ["crv_cp", "crv"], "jsValue": "[crv_, crv_cp_]"}, {"name": "divisions", "value": "2", "usedVars": [], "jsValue": "2"}, {"name": "method", "value": "'open_quads'", "jsValue": "'open_quads'", "usedVars": []}], "variable": "lof", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~procedure~4"}, {"type": 8, "ID": "prod-6p9g7xy1a75", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Reverse"}, "argCount": 3, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "lof", "usedVars": ["lof"], "jsValue": "lof_"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~procedure~4"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~procedure~4", "ID": "prod-bntrg7f6pmn", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "shades", "usedVars": ["shades"], "jsValue": "shades_"}, {"name": "item", "value": "lof", "usedVars": ["lof"], "jsValue": "lof_"}, {"name": "method", "value": "'extend_end'", "jsValue": "'extend_end'", "usedVars": []}], "selectGeom": false}], "variable": "crv", "selectGeom": false}, {"type": 14, "ID": "prod-vcgqt5urzp", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "extrudes thre lofted polygons to give thickness to the balconies"}]}, {"type": 8, "ID": "prod-2mvd0v24xp7", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "ext", "jsValue": "ext_"}, {"name": "__model__"}, {"name": "entities", "value": "#pg", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pg', null)"}, {"name": "dist", "value": "0.5", "usedVars": [], "jsValue": "0.5"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "ext"}, {"type": 8, "ID": "prod-ldjow74pft", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "#pg", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pg', null)"}, {"name": "color", "value": "[0.5, 0.3, 0.3]", "usedVars": [], "jsValue": "[0.5, 0.3, 0.3]"}], "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": {"name": "input", "type": 0, "edges": [{"source": {"name": "output", "type": 1, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0"], "meta": {"mode": 0}, "parentNode": {"name": "Balcony 1", "id": "node_xr278v4hyra", "position": {"x": 5100, "y": 5260}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-14svspbpzpw", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "retrieves all polylines and sieves out the bottom 7 for one type of balcony"}]}, {"type": 0, "ID": "prod-1q7vwvgt9nm", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "pl", "jsValue": "pl_"}, {"name": "value", "value": "#pl", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pl', null)"}], "variable": "pl", "terminate": false}, {"type": 0, "ID": "prod-92xin0brty5", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "rec", "jsValue": "rec_"}, {"name": "value", "value": "#pl[:7]", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pl', null).slice(0,7)"}], "variable": "rec", "selectGeom": false}, {"type": 8, "ID": "prod-8q0wzhm3cl", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "rec", "usedVars": ["rec"], "jsValue": "rec_"}, {"name": "method", "value": "'keep_selected'", "jsValue": "'keep_selected'", "usedVars": []}], "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": {"name": "input", "type": 0, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output", "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~input", "selected": false}], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode"}, "output": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source", "hasError": false, "hasExecuted": true, "model": 5}}, "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input", "selected": false}, {"source": {"name": "output", "type": 1, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~1"], "meta": {"mode": 0}, "parentNode": {"name": "Balcony 2", "id": "node_t370dp814so", "position": {"x": 5220, "y": 5260}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-izoyxmjapop", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Retrieves and sieves out the middle poly lines"}]}, {"type": 0, "ID": "prod-hxoah03c7fm", "enabled": true, "print": true, "argCount": 2, "args": [{"name": "var_name", "value": "pl", "jsValue": "pl_"}, {"name": "value", "value": "#pl", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pl', null)"}], "variable": "pl", "selectGeom": false}, {"type": 0, "ID": "prod-ajlavodedjo", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "rec", "jsValue": "rec_"}, {"name": "value", "value": "#pl[5:BALCONY_NUM]", "usedVars": ["BALCONY_NUM"], "jsValue": "__modules__.query.Get(__params__.model, 'pl', null).slice(5, BALCONY_NUM_)"}], "variable": "rec", "selectGeom": false}, {"type": 14, "ID": "prod-hzcjauxcg7g", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "cuts the poly liens to form another balcony type"}]}, {"type": 8, "ID": "prod-asq2kd5xeq", "enabled": true, "print": false, "meta": {"module": "make", "name": "Cut"}, "argCount": 5, "args": [{"name": "var_name", "value": "crvs2", "jsValue": "crvs2_"}, {"name": "__model__"}, {"name": "entities", "value": "rec", "usedVars": ["rec"], "jsValue": "rec_"}, {"name": "plane", "value": "plnLRotY(YZ, PI / 2)", "usedVars": [], "jsValue": "plnLRotY(__debug__, JSON.parse(JSON.stringify(YZ)), JSON.parse(JSON.stringify(PI)) / 2)"}, {"name": "method", "value": "'keep_below'", "jsValue": "'keep_below'", "usedVars": []}], "variable": "crvs2", "selectGeom": false, "terminate": false}, {"type": 8, "ID": "prod-mmb6t0s0hs", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "crvs2", "usedVars": ["crvs2"], "jsValue": "crvs2_"}, {"name": "method", "value": "'keep_selected'", "jsValue": "'keep_selected'", "usedVars": []}], "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": {"name": "input", "type": 0, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output", "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~1~source~parentNode~input", "selected": false}], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~1~source~parentNode"}, "output": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~1~source", "hasError": false, "hasExecuted": true, "model": 6}}, "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input", "selected": false}, {"source": {"name": "output", "type": 1, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~2"], "meta": {"mode": 0}, "parentNode": {"name": "Balcony 3", "id": "node_fy9y3jco11", "position": {"x": 5340, "y": 5260}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-gfmx6idrwqp", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "filters and sieves out the top polylines"}]}, {"type": 0, "ID": "prod-mdl2wjesfcp", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "rec2", "jsValue": "rec2_"}, {"name": "value", "value": "#pl[BALCONY_NUM:FLOOR_NUM-5]", "usedVars": ["BALCONY_NUM", "FLOOR_NUM"], "jsValue": "__modules__.query.Get(__params__.model, 'pl', null).slice(BALCONY_NUM_, FLOOR_NUM_ - 5)"}], "variable": "rec2", "selectGeom": false}, {"type": 14, "ID": "prod-ecrps3flgan", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "cuts the top polylines to create a third balcony type"}]}, {"type": 8, "ID": "prod-0krcbg2oda3p", "enabled": true, "print": false, "meta": {"module": "make", "name": "Cut"}, "argCount": 5, "args": [{"name": "var_name", "value": "crvs3", "jsValue": "crvs3_"}, {"name": "__model__"}, {"name": "entities", "value": "rec2", "usedVars": ["rec2"], "jsValue": "rec2_"}, {"name": "plane", "value": "plnMove(XZ, [0, -3, 0])", "usedVars": [], "jsValue": "plnMove(__debug__, JSON.parse(JSON.stringify(XZ)), [0, -3, 0])"}, {"name": "method", "value": "'keep_below'", "jsValue": "'keep_below'", "usedVars": []}], "variable": "crvs3", "selectGeom": false, "terminate": false}, {"type": 8, "ID": "prod-o61klt1q7gc", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "crvs3", "usedVars": ["crvs3"], "jsValue": "crvs3_"}, {"name": "method", "value": "'keep_selected'", "jsValue": "'keep_selected'", "usedVars": []}], "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": {"name": "input", "type": 0, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output", "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~2~source~parentNode~input", "selected": false}], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~2~source~parentNode"}, "output": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~2~source", "hasError": false, "hasExecuted": true, "model": 7}}, "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input", "selected": false}, {"source": {"name": "output", "type": 1, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~3"], "meta": {"mode": 0}, "parentNode": {"name": "Balcony 4", "id": "node_nmncvnuo1j", "position": {"x": 5440, "y": 5260}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-ecxfvgjroxu", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "filters and sieves out the topmost 5 floors, forming the same balcony type as the bottom 7 floors"}]}, {"type": 0, "ID": "prod-0baurocnum5", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "pl", "jsValue": "pl_"}, {"name": "value", "value": "#pl", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pl', null)"}], "variable": "pl", "terminate": false, "selectGeom": false}, {"type": 0, "ID": "prod-jdylnikjcfb", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "rec4", "jsValue": "rec4_"}, {"name": "value", "value": "#pl[FLOOR_NUM-5:FLOOR_NUM]", "usedVars": ["FLOOR_NUM"], "jsValue": "__modules__.query.Get(__params__.model, 'pl', null).slice(FLOOR_NUM_ - 5, FLOOR_NUM_)"}], "variable": "rec4", "selectGeom": false}, {"type": 8, "ID": "prod-p7na5xfsou", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "rec4", "usedVars": ["rec4"], "jsValue": "rec4_"}, {"name": "method", "value": "'keep_selected'", "jsValue": "'keep_selected'", "usedVars": []}], "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": {"name": "input", "type": 0, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output", "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~3~source~parentNode~input", "selected": false}], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~3~source~parentNode"}, "output": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~3~source", "hasError": false, "hasExecuted": true, "model": 10}}, "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input", "selected": false}], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode"}, "output": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source", "hasError": false, "hasExecuted": true, "model": 11}}, "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "selected": false}, "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", {"source": {"name": "output", "type": 1, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2"], "meta": {"mode": 0}, "parentNode": {"name": "Roof", "id": "node_2a18119kw8j", "position": {"x": 5460, "y": 5440}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "ID": "prod-vfugok1dq68", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "skel_pl_coll", "jsValue": "skel_pl_coll_"}, {"name": "value", "value": "@skelplcoll", "usedVars": [], "jsValue": "__modules__.attrib.Get(__params__.model, null, 'skelplcoll')"}], "variable": "skel_pl_coll", "selectGeom": false}, {"type": 14, "ID": "prod-j5nzzejlqg", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "retireves polylines from upstream node"}]}, {"type": 0, "ID": "prod-14w9hreg0bh", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "skel_pl", "jsValue": "skel_pl_"}, {"name": "value", "value": "#pl", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pl', null)"}], "variable": "skel_pl"}, {"type": 14, "ID": "prod-53gmczux5lk", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "sieves out the topmost poly line to form the roof"}]}, {"type": 0, "ID": "prod-8pg8ksq4g85", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_pl", "jsValue": "roof_pl_"}, {"name": "value", "value": "skel_pl[-1]", "usedVars": ["skel_pl"], "jsValue": "skel_pl_[pythonList(-1, skel_pl_.length)]"}], "variable": "roof_pl"}, {"type": 8, "ID": "prod-6xerot997p9", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "roof_pl2", "jsValue": "roof_pl2_"}, {"name": "__model__"}, {"name": "entities", "value": "roof_pl", "usedVars": ["roof_pl"], "jsValue": "roof_pl_"}, {"name": "vector", "value": "null", "usedVars": [], "jsValue": "null"}], "variable": "roof_pl2"}, {"type": 14, "ID": "prod-0h8rxxsfuktr", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "offsets the polyline to become as wide as the tower floor width"}]}, {"type": 8, "ID": "prod-qcmq7phtuj", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Offset"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "roof_pl2", "usedVars": ["roof_pl2"], "jsValue": "roof_pl2_"}, {"name": "dist", "value": "FLOOR_WIDTH - 12", "usedVars": ["FLOOR_WIDTH"], "jsValue": "FLOOR_WIDTH_ - 12"}]}, {"type": 8, "ID": "prod-y75eg1fncr", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "roof_pg", "jsValue": "roof_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "roof_pl2", "usedVars": ["roof_pl2"], "jsValue": "roof_pl2_"}], "variable": "roof_pg"}, {"type": 8, "ID": "prod-wwfcnd9omq", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "roof", "jsValue": "roof_"}, {"name": "__model__"}, {"name": "entities", "value": "roof_pg", "usedVars": ["roof_pg"], "jsValue": "roof_pg_"}, {"name": "dist", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "roof"}, {"type": 14, "ID": "prod-gwdb590luy", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "moves roof polygon up to such that it overs the topmost floor"}]}, {"type": 8, "ID": "prod-aqlbvcpvxb8", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "roof", "usedVars": ["roof"], "jsValue": "roof_"}, {"name": "vectors", "value": "[0, 0, CEIL_HEIGHT]", "usedVars": ["CEIL_HEIGHT"], "jsValue": "[0, 0, CEIL_HEIGHT_]"}]}, {"type": 14, "ID": "prod-2zolw1jjl9o", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "The roof polygons are made in a node that's downstream from the internal structure"}]}, {"type": 14, "ID": "prod-rgr5fc8meqa", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "because of a merging entity issue (identical \"ps\" from an upstream node)"}]}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": {"name": "input", "type": 0, "edges": [{"source": {"name": "output", "type": 1, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0"], "meta": {"mode": 0}, "parentNode": {"name": "Internal Structure", "id": "node_yscv29tb36", "position": {"x": 5600, "y": 5260}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "ID": "prod-ebndeoh6668", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "skel_pl_coll", "jsValue": "skel_pl_coll_"}, {"name": "value", "value": "@skelplcoll", "usedVars": [], "jsValue": "__modules__.attrib.Get(__params__.model, null, 'skelplcoll')"}], "variable": "skel_pl_coll", "selectGeom": false}, {"type": 8, "ID": "prod-o0o06btxbsm", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "skel_inner", "jsValue": "skel_inner_"}, {"name": "__model__"}, {"name": "entities", "value": "skel_pl_coll", "usedVars": ["skel_pl_coll"], "jsValue": "skel_pl_coll_"}, {"name": "vector", "value": "null", "usedVars": [], "jsValue": "null"}], "variable": "skel_inner", "selectGeom": false}, {"type": 8, "ID": "prod-72zkbjxn7qq", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Offset"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "skel_inner", "usedVars": ["skel_inner"], "jsValue": "skel_inner_"}, {"name": "dist", "value": "-4", "usedVars": [], "jsValue": "-4"}], "selectGeom": false}, {"type": 8, "ID": "prod-u9fdwqa9ukk", "enabled": true, "print": false, "meta": {"module": "query", "name": "Get"}, "argCount": 4, "args": [{"name": "var_name", "value": "skel_inner_pl", "jsValue": "skel_inner_pl_"}, {"name": "__model__"}, {"name": "ent_type_enum", "value": "'pl'", "jsValue": "'pl'", "usedVars": []}, {"name": "entities", "value": "skel_inner", "jsValue": "skel_inner_", "usedVars": ["skel_inner"]}], "variable": "skel_inner_pl", "selectGeom": false}, {"type": 14, "ID": "prod-f2x9hl2g03q", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Sets a \"core\" attribute to the inner polylines"}]}, {"type": 0, "ID": "prod-l8odkth6x7", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "skel_inner_pl@type", "jsValue": "skel_inner_pl_@type", "usedVars": ["skel_inner_pl"]}, {"name": "value", "value": "\"core\"", "usedVars": [], "jsValue": "\"core\""}], "variable": null}, {"type": 0, "ID": "prod-s0ppe860dci", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "core_plines", "jsValue": "core_plines_"}, {"name": "value", "value": "#pl ?@type==\"core\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pl', null), ['type', null], '==', \"core\")"}], "variable": "core_plines", "selectGeom": false}, {"type": 8, "ID": "prod-dtnik9ddm9f", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "col_plines", "jsValue": "col_plines_"}, {"name": "__model__"}, {"name": "entities", "value": "core_plines", "usedVars": ["core_plines"], "jsValue": "core_plines_"}, {"name": "vector", "value": "null", "usedVars": [], "jsValue": "null"}], "variable": "col_plines", "selectGeom": false}, {"type": 14, "ID": "prod-krkvaazk3t9", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Divdes each polyline in 2 to create 3 positions "}]}, {"type": 8, "ID": "prod-xi2mdpdtcu", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Divide"}, "argCount": 5, "args": [{"name": "var_name", "value": "div", "jsValue": "div_"}, {"name": "__model__"}, {"name": "entities", "value": "col_plines", "usedVars": ["col_plines"], "jsValue": "col_plines_"}, {"name": "divisor", "value": "2", "usedVars": [], "jsValue": "2"}, {"name": "method", "value": "'by_number'", "jsValue": "'by_number'", "usedVars": []}], "variable": "div", "selectGeom": false}, {"type": 14, "ID": "prod-cbroswixdg", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "creates copy of polylines to use for inner core"}]}, {"type": 8, "ID": "prod-gt32cupdzmh", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "core_col", "jsValue": "core_col_"}, {"name": "__model__"}, {"name": "entities", "value": "core_plines", "usedVars": ["core_plines"], "jsValue": "core_plines_"}, {"name": "vector", "value": "null", "usedVars": [], "jsValue": "null"}], "variable": "core_col", "selectGeom": false}, {"type": 14, "ID": "prod-19q6vjfm703", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "offsets polylines that form the innercore so that it is surrounded by columns"}]}, {"type": 8, "ID": "prod-ije0j0db0xs", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Offset"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "core_col", "usedVars": ["core_col"], "jsValue": "core_col_"}, {"name": "dist", "value": "-(FLOOR_WIDTH - 12)", "usedVars": ["FLOOR_WIDTH"], "jsValue": "-(FLOOR_WIDTH_ - 12)"}]}, {"type": 14, "ID": "prod-akpubmizsr", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "lofts inner polylines to form inner core "}]}, {"type": 8, "ID": "prod-50ncfneibcd", "enabled": true, "print": false, "meta": {"module": "make", "name": "Loft"}, "argCount": 5, "args": [{"name": "var_name", "value": "core_col_loft", "jsValue": "core_col_loft_"}, {"name": "__model__"}, {"name": "entities", "value": "core_col", "usedVars": ["core_col"], "jsValue": "core_col_"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'open_quads'", "jsValue": "'open_quads'", "usedVars": []}], "variable": "core_col_loft"}, {"type": 0, "ID": "prod-kjkox1uvek", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "col_recs", "jsValue": "col_recs_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "col_recs", "selectGeom": false}, {"type": 4, "ID": "prod-k7rcqm7wytf", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "pline", "jsValue": "pline_"}, {"name": "list", "value": "col_plines", "usedVars": ["col_plines"], "jsValue": "col_plines_"}], "children": [{"type": 13, "ID": "prod-jng5xgu13k", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~18", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~18", "ID": "prod-s2ni2n574g", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "recs", "jsValue": "recs_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "recs", "selectGeom": false}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~18", "ID": "prod-rropq5iu6o", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "posi", "jsValue": "posi_"}, {"name": "list", "value": "pline#ps", "usedVars": ["pline"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', pline_)"}], "children": [{"type": 13, "ID": "prod-inzb0d066hi", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~18~children~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~18~children~2", "ID": "prod-gds0c6shlhw", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "edges", "jsValue": "edges_"}, {"name": "value", "value": "posi#_e", "usedVars": ["posi"], "jsValue": "__modules__.query.Get(__params__.model, '_e', posi_)"}], "variable": "edges", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~18~children~2", "ID": "prod-vxc8frte8rk", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Vector"}, "argCount": 3, "args": [{"name": "var_name", "value": "vec", "jsValue": "vec_"}, {"name": "__model__"}, {"name": "entities", "value": "edges[0]", "usedVars": ["edges"], "jsValue": "edges_[pythonList(0, edges_.length)]"}], "variable": "vec", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~18~children~2", "ID": "prod-n5f59wqkku9", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "pln", "jsValue": "pln_"}, {"name": "value", "value": "plnMake(posi@xyz , vec, vecCross([0, 0, 1], vec))", "usedVars": ["vec", "posi"], "jsValue": "plnMake(__debug__,  __modules__.attrib.Get(__params__.model, posi_, 'xyz'), vec_, vecCross(__debug__, [0, 0, 1], vec_))"}], "variable": "pln", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~18~children~2", "ID": "prod-nbh7v6kcnja", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Rectangle"}, "argCount": 4, "args": [{"name": "var_name", "value": "rec_posis", "jsValue": "rec_posis_"}, {"name": "__model__"}, {"name": "origin", "value": "pln", "usedVars": ["pln"], "jsValue": "pln_"}, {"name": "size", "value": "0.6", "usedVars": [], "jsValue": "0.6"}], "variable": "rec_posis", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~18~children~2", "ID": "prod-e3s4pu156hv", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "rec", "jsValue": "rec_"}, {"name": "__model__"}, {"name": "entities", "usedVars": ["rec_posis"], "value": "rec_posis", "jsValue": "rec_posis_"}], "variable": "rec", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~18~children~2", "ID": "prod-ws78d51issn", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "recs", "usedVars": ["recs"], "jsValue": "recs_"}, {"name": "item", "value": "rec", "usedVars": ["rec"], "jsValue": "rec_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "posi", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~18", "ID": "prod-j6xi2x5exli", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "col_recs", "usedVars": ["col_recs"], "jsValue": "col_recs_"}, {"name": "item", "value": "recs", "usedVars": ["recs"], "jsValue": "recs_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "pline", "selectGeom": false}, {"type": 14, "ID": "prod-k6nmo0ucl6l", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "creates a grid of polygons that span the entire height of the buidling"}]}, {"type": 14, "ID": "prod-g18jnety04m", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "lofts the grid of polygons to form the inner columns "}]}, {"type": 8, "ID": "prod-t4k5gsdx4ug", "enabled": true, "print": false, "meta": {"module": "make", "name": "Loft"}, "argCount": 5, "args": [{"name": "var_name", "value": "cols", "jsValue": "cols_"}, {"name": "__model__"}, {"name": "entities", "value": "listZip(col_recs)", "usedVars": ["col_recs"], "jsValue": "listZip(__debug__, col_recs_)"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'open_quads'", "jsValue": "'open_quads'", "usedVars": []}], "variable": "cols", "selectGeom": false}, {"type": 8, "ID": "prod-76titccnb9c", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "core_plines", "usedVars": ["core_plines"], "jsValue": "core_plines_"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}], "selectGeom": false}, {"type": 8, "ID": "prod-byt98zm892q", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "col_plines", "usedVars": ["col_plines"], "jsValue": "col_plines_"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}], "selectGeom": false}, {"type": 8, "ID": "prod-o53e93axyfa", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "skel_inner", "usedVars": ["skel_inner"], "jsValue": "skel_inner_"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}], "selectGeom": false}, {"type": 8, "ID": "prod-zc3eds0431d", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "skel_pl_coll", "usedVars": ["skel_pl_coll"], "jsValue": "skel_pl_coll_"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}], "selectGeom": false}, {"type": 8, "ID": "prod-txbl16ra0qb", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "#pg", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pg', null)"}, {"name": "color", "value": "[0.7, 0.7, 0.6]", "usedVars": [], "jsValue": "[0.7, 0.7, 0.6]"}], "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": {"name": "input", "type": 0, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output", "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~input", "selected": false}], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode"}, "output": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source", "hasExecuted": true, "hasError": false, "model": 8}}, "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input", "selected": false}], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode"}, "output": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source", "hasError": false, "hasExecuted": true, "model": 9}}, "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "selected": false}, {"source": {"name": "output", "type": 1, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3"], "meta": {"mode": 0}, "parentNode": {"name": "Internal space", "id": "node_r3vloitjlg", "position": {"x": 5780, "y": 5260}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 18, "ID": "prod-khlvoveccy", "enabled": true, "print": false, "argCount": 5, "meta": {"module": "localFunc", "name": "inner_space", "otherInfo": {"deletedArgs": []}}, "args": [{"name": "__none__"}, {"name": "origin", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}, {"name": "width", "value": "FLOOR_WIDTH", "usedVars": ["FLOOR_WIDTH"], "jsValue": "FLOOR_WIDTH_"}, {"name": "rotation", "value": "TWIST_INTEN", "usedVars": ["TWIST_INTEN"], "jsValue": "TWIST_INTEN_"}, {"name": "height", "value": "CEIL_HEIGHT", "jsValue": "CEIL_HEIGHT_", "usedVars": ["CEIL_HEIGHT"]}]}, {"type": 0, "ID": "prod-lov6cavktk", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "internal_space", "jsValue": "internal_space_"}, {"name": "value", "value": "#pg", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pg', null)"}], "variable": "internal_space"}, {"type": 8, "ID": "prod-paaxtyf67rf", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "internal_space", "usedVars": ["internal_space"], "jsValue": "internal_space_"}, {"name": "method", "value": "'keep_selected'", "jsValue": "'keep_selected'", "usedVars": []}]}, {"type": 8, "ID": "prod-qt257d2we4g", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "#pg", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pg', null)"}, {"name": "color", "value": "[1, 0.8, 0.5]", "usedVars": [], "jsValue": "[1, 0.8, 0.5]"}], "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 16, "ID": "prod-evioqayjgpp", "enabled": true, "print": false, "argCount": 5, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "inner_space", "num_returns": 0, "collapsed": false, "deletedArgs": []}}, "args": [{"name": "func_name", "value": "inner_space", "jsValue": "inner_space_"}, {"name": "arg_1", "value": "origin", "jsValue": "origin_", "usedVars": ["origin"]}, {"name": "arg_2", "value": "width", "jsValue": "width_", "usedVars": ["width"]}, {"name": "arg_3", "value": "rotation", "jsValue": "rotation_", "usedVars": ["rotation"]}, {"name": "arg_4", "value": "height", "jsValue": "height_", "usedVars": ["height"]}], "children": [{"type": 13, "ID": "prod-mw1gfft0zup", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1", "ID": "prod-4tz6lh9gnbj", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "In general the same function as the local function in the skeleton, but instead it generates the interior pathways from the liftcore to the exterior spaces"}]}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1", "ID": "prod-tu0c5dkysfd", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "skel_pl_lst", "jsValue": "skel_pl_lst_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "skel_pl_lst", "selectGeom": false}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1", "ID": "prod-ldl6b2kkj6s", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "i", "jsValue": "i_"}, {"name": "list", "value": "range(0, FLOOR_NUM)", "usedVars": ["FLOOR_NUM"], "jsValue": "range(__debug__, 0, FLOOR_NUM_)"}], "children": [{"type": 13, "ID": "prod-59yexg7vymn", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-7q6h6g94sjt", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Creates base positions"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-ir323w7j0h", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Rectangle"}, "argCount": 4, "args": [{"name": "var_name", "value": "base_pos", "jsValue": "base_pos_"}, {"name": "__model__"}, {"name": "origin", "value": "origin", "usedVars": ["origin"], "jsValue": "origin_"}, {"name": "size", "value": "[width, width]", "usedVars": ["width"], "jsValue": "[width_, width_]"}], "variable": "base_pos", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-uzcjto87cg", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "base_square", "jsValue": "base_square_"}, {"name": "__model__"}, {"name": "entities", "value": "base_pos", "usedVars": ["base_pos"], "jsValue": "base_pos_"}, {"name": "close", "value": "'close'", "jsValue": "'close'", "usedVars": []}], "variable": "base_square", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-fa3belpu2qf", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Centroid"}, "argCount": 4, "args": [{"name": "var_name", "value": "cent", "jsValue": "cent_"}, {"name": "__model__"}, {"name": "entities", "value": "base_square", "usedVars": ["base_square"], "jsValue": "base_square_"}, {"name": "method", "value": "'ps_average'", "jsValue": "'ps_average'", "usedVars": []}], "variable": "cent"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-2ddnuc209s6", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Creates rectangle parallel to the x axis"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-r5uqq1je54s", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Rectangle"}, "argCount": 4, "args": [{"name": "var_name", "value": "centrec1pl", "jsValue": "centrec1pl_"}, {"name": "__model__"}, {"name": "origin", "value": "cent", "usedVars": ["cent"], "jsValue": "cent_"}, {"name": "size", "value": "[2, (width - 8)]", "usedVars": ["width"], "jsValue": "[2, (width_ - 8)]"}], "variable": "centrec1pl"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-0se49cfpobk", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "centrec1pg", "jsValue": "centrec1pg_"}, {"name": "__model__"}, {"name": "entities", "value": "centrec1pl", "usedVars": ["centrec1pl"], "jsValue": "centrec1pl_"}], "variable": "centrec1pg"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-pl7bzamq4", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "centrec1vol", "jsValue": "centrec1vol_"}, {"name": "__model__"}, {"name": "entities", "value": "centrec1pg", "usedVars": ["centrec1pg"], "jsValue": "centrec1pg_"}, {"name": "dist", "value": "height - 1", "usedVars": ["height"], "jsValue": "height_ - 1"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "centrec1vol"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-izb2bszydir", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Creates rectangle parallel to the y axis"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-qvs25owi8a9", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Rectangle"}, "argCount": 4, "args": [{"name": "var_name", "value": "centrec2pl", "jsValue": "centrec2pl_"}, {"name": "__model__"}, {"name": "origin", "value": "cent", "usedVars": ["cent"], "jsValue": "cent_"}, {"name": "size", "value": "[(width - 8), 2]", "usedVars": ["width"], "jsValue": "[(width_ - 8), 2]"}], "variable": "centrec2pl", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-pgpx57wdxh9", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "centrec2pg", "jsValue": "centrec2pg_"}, {"name": "__model__"}, {"name": "entities", "value": "centrec2pl", "usedVars": ["centrec2pl"], "jsValue": "centrec2pl_"}], "variable": "centrec2pg", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-3lm8vqk5emt", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "centrec2vol", "jsValue": "centrec2vol_"}, {"name": "__model__"}, {"name": "entities", "value": "centrec2pg", "usedVars": ["centrec2pg"], "jsValue": "centrec2pg_"}, {"name": "dist", "value": "height - 1", "usedVars": ["height"], "jsValue": "height_ - 1"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "centrec2vol", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-v0m71qtxce", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "forms a cross-shaped volume "}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-jm2cfu3noq", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "centrec1vol", "usedVars": ["centrec1vol"], "jsValue": "centrec1vol_"}, {"name": "vectors", "value": "[0, 0, FLOOR_HEIGHT * i]", "usedVars": ["FLOOR_HEIGHT", "i"], "jsValue": "[0, 0, FLOOR_HEIGHT_ * i_]"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-azhuhfqix0e", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "centrec2vol", "usedVars": ["centrec2vol"], "jsValue": "centrec2vol_"}, {"name": "vectors", "value": "[0, 0, FLOOR_HEIGHT * i]", "usedVars": ["FLOOR_HEIGHT", "i"], "jsValue": "[0, 0, FLOOR_HEIGHT_ * i_]"}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-tfhezi7ddb", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "as the function loops, the cross-shaped volume is copied and oriented to its floor accordingly"}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-j58pnpx9l9g", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Orientates the topmost 5 levels to be in the same angle"}], "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-if5cpcw66j", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "i > (FLOOR_NUM - 6)", "usedVars": ["FLOOR_NUM", "i"], "jsValue": "i_ > (FLOOR_NUM_ - 6)"}], "children": [{"type": 13, "ID": "prod-m72c5142jx", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3~children~18", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3~children~18", "ID": "prod-w1iobn6yqo", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Centroid"}, "argCount": 4, "args": [{"name": "var_name", "value": "cent", "jsValue": "cent_"}, {"name": "__model__"}, {"name": "entities", "value": "base_square", "usedVars": ["base_square"], "jsValue": "base_square_"}, {"name": "method", "value": "'ps_average'", "jsValue": "'ps_average'", "usedVars": []}], "variable": "cent", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3~children~18", "ID": "prod-omjq1zzuh1a", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "centrec1vol", "usedVars": ["centrec1vol"], "jsValue": "centrec1vol_"}, {"name": "ray", "value": "cent", "usedVars": ["cent"], "jsValue": "cent_"}, {"name": "angle", "value": "degToRad(TWIST_INTEN)", "usedVars": ["TWIST_INTEN"], "jsValue": "degToRad(__debug__, TWIST_INTEN_)"}], "terminate": false, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3~children~18", "ID": "prod-7wd7k43c90m", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "centrec2vol", "usedVars": ["centrec2vol"], "jsValue": "centrec2vol_"}, {"name": "ray", "value": "cent", "usedVars": ["cent"], "jsValue": "cent_"}, {"name": "angle", "value": "degToRad(TWIST_INTEN)", "usedVars": ["TWIST_INTEN"], "jsValue": "degToRad(__debug__, TWIST_INTEN_)"}], "terminate": false, "selectGeom": false}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-z3sqp1rdxza", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Excludes the first 7 floors from rotation"}], "selectGeom": false}, {"type": 2, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-brlrkfcxqqi", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "i > 7", "usedVars": ["i"], "jsValue": "i_ > 7"}], "children": [{"type": 13, "ID": "prod-c8lcgml86da", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3~children~20", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3~children~20", "ID": "prod-kge520pwugl", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Centroid"}, "argCount": 4, "args": [{"name": "var_name", "value": "cent", "jsValue": "cent_"}, {"name": "__model__"}, {"name": "entities", "value": "base_square", "usedVars": ["base_square"], "jsValue": "base_square_"}, {"name": "method", "value": "'ps_average'", "jsValue": "'ps_average'", "usedVars": []}], "variable": "cent", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3~children~20", "ID": "prod-wsmt0351ga", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Divides the maximum rotation angle (TWIST_INTEN) equally amongst the middle floors to allow a smooth curve."}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3~children~20", "ID": "prod-edw3u9k7hpt", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "centrec1vol", "usedVars": ["centrec1vol"], "jsValue": "centrec1vol_"}, {"name": "ray", "value": "cent", "usedVars": ["cent"], "jsValue": "cent_"}, {"name": "angle", "value": "(degToRad(TWIST_INTEN / (FLOOR_NUM - 11))) * (i - 7)", "usedVars": ["TWIST_INTEN", "FLOOR_NUM", "i"], "jsValue": "(degToRad(__debug__, TWIST_INTEN_ / (FLOOR_NUM_ - 11))) * (i_ - 7)"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3~children~20", "ID": "prod-5kubpihut25", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "centrec2vol", "usedVars": ["centrec2vol"], "jsValue": "centrec2vol_"}, {"name": "ray", "value": "cent", "usedVars": ["cent"], "jsValue": "cent_"}, {"name": "angle", "value": "(degToRad(TWIST_INTEN / (FLOOR_NUM - 11))) * (i - 7)", "usedVars": ["TWIST_INTEN", "FLOOR_NUM", "i"], "jsValue": "(degToRad(__debug__, TWIST_INTEN_ / (FLOOR_NUM_ - 11))) * (i_ - 7)"}], "selectGeom": false}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1~children~3", "ID": "prod-6m3g939mtqr", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "skel_pl_lst", "usedVars": ["skel_pl_lst"], "jsValue": "skel_pl_lst_"}, {"name": "item", "value": "base_square", "usedVars": ["base_square"], "jsValue": "base_square_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "i", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1", "ID": "prod-xwlvg97j39", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "skel_pl_coll", "jsValue": "skel_pl_coll_"}, {"name": "__model__"}, {"name": "entities", "value": "skel_pl_lst", "usedVars": ["skel_pl_lst"], "jsValue": "skel_pl_lst_"}, {"name": "name", "value": "null", "usedVars": [], "jsValue": "null"}], "variable": "skel_pl_coll", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~localFunc~1", "ID": "prod-55kc3tmrlfy", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "@skelplcoll", "jsValue": "@skelplcoll", "usedVars": []}, {"name": "value", "value": "skel_pl_coll", "usedVars": ["skel_pl_coll"], "jsValue": "skel_pl_coll_"}], "variable": null, "selectGeom": false}], "variable": null, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": {"name": "input", "type": 0, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output", "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~input", "selected": false}], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode"}, "output": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source", "hasError": false, "hasExecuted": true, "model": 12}}, "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "selected": false}], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "End", "id": "node_vlt2u2cpxtd", "position": {"x": 5240, "y": 5860}, "enabled": true, "type": "end", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 11, "ID": "Return", "meta": {"name": "", "module": ""}, "argCount": 2, "args": [{"name": "__model__", "value": "", "jsValue": ""}, {"name": "value", "value": "", "jsValue": "", "usedVars": []}], "print": false, "enabled": true, "terminate": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": false, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 13}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasExecuted": true, "hasError": false, "model": 4}}, "selected": false}, "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~1~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~2~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~3~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~input~edges~0"], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 3}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0"}, "hasError": false, "hasExecuted": true, "model": 2}, "~flowchart~nodes~0~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~1~source~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~2~source~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~3~source~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"], "edges": ["~flowchart~nodes~0~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~1~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~1", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~2~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~2", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~3", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~3~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~3"], "functions": [], "ordered": true, "last_updated": "2021-03-26T09:31:46.011Z"}, "version": "0.7.5", "settings": "{\"normals\":{\"show\":false,\"size\":5},\"axes\":{\"show\":true,\"size\":50},\"grid\":{\"show\":true,\"size\":500,\"pos_x\":0,\"pos_y\":0,\"pos_z\":0,\"pos\":{\"x\":0,\"y\":0,\"z\":0}},\"background\":{\"show\":true,\"background_set\":0},\"positions\":{\"show\":true,\"size\":2},\"tjs_summary\":{\"show\":false},\"gi_summary\":{\"show\":true},\"wireframe\":{\"show\":false},\"camera\":{\"pos\":{\"x\":284.9679267828899,\"y\":-269.6713306897342,\"z\":276.03946264082686},\"target\":{\"x\":72.5803680679515,\"y\":144.70287363245623,\"z\":59.283499350106986},\"ortho\":false},\"colors\":{\"viewer_bg\":\"#E6E6E6\",\"position\":\"#000000\",\"position_s\":\"#0033FF\",\"vertex_s\":\"#FFCC00\",\"face_f\":\"#FFFFFF\",\"face_f_s\":\"#4949BD\",\"face_b\":\"#DDDDDD\",\"face_b_s\":\"#00006D\"},\"ambient_light\":{\"show\":true,\"color\":\"#FFFFFF\",\"intensity\":0.5},\"hemisphere_light\":{\"show\":true,\"helper\":false,\"skyColor\":\"#FFFFFF\",\"groundColor\":\"#FFFFFF\",\"intensity\":0.5},\"directional_light\":{\"show\":false,\"helper\":false,\"color\":\"#FFFFFF\",\"intensity\":1,\"shadow\":true,\"azimuth\":90,\"altitude\":45,\"distance\":10,\"type\":\"directional\",\"shadowSize\":3072},\"ground\":{\"show\":false,\"width\":1000,\"length\":1000,\"height\":-0.5,\"color\":\"#FFFFFF\",\"shininess\":0},\"select\":{\"selector\":{\"id\":7,\"name\":\"Polygons\"},\"tab\":\"7\",\"enabledselector\":{\"ps\":true,\"_v\":true,\"_e\":true,\"_w\":true,\"_f\":true,\"pt\":true,\"pl\":true,\"pg\":true,\"co\":true}},\"version\":\"0.4.38\",\"cesium\":{\"imagery\":{\"layer\":\"Open Street Map\",\"terrain\":\"Ellipsoid\",\"apiKey\":{\"here\":\"7vMRjLNCpcOAUQXU61eUp6EFbWCy7WLNmy9qLHO-1Bw\"}},\"camera\":{\"pos\":{\"x\":0,\"y\":0,\"z\":0},\"direction\":{\"x\":0,\"y\":0,\"z\":0},\"up\":{\"x\":0,\"y\":0,\"z\":0},\"right\":{\"x\":0,\"y\":0,\"z\":0}},\"updated\":true,\"time\":{\"date\":\"2020-05-11\"},\"model\":{\"polygonEdge\":true}},\"day_light\":{\"show\":true,\"helper\":false,\"intensity\":1,\"position\":[0,2000,1000],\"size\":1000},\"geo\":{\"imagery\":{\"layer\":\"Open Street Map\",\"terrain\":\"Ellipsoid\",\"apiKey\":{\"here\":\"7vMRjLNCpcOAUQXU61eUp6EFbWCy7WLNmy9qLHO-1Bw\"}},\"camera\":{\"pos\":{\"x\":-1527170.4564504684,\"y\":6191377.229851589,\"z\":142492.86697965642},\"direction\":{\"x\":0,\"y\":0,\"z\":0},\"up\":{\"x\":0,\"y\":0,\"z\":0},\"right\":{\"x\":0,\"y\":0,\"z\":0},\"rot\":{\"x\":-2.8946890807177175,\"y\":0.03332128705035884,\"z\":2.8868931928931136}},\"time\":{\"date\":\"2021-01-27T16:00\"},\"model\":{\"polygonEdge\":false},\"updated\":true}}"}