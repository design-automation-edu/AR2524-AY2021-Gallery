{"name": "FinalProject_G7_student_01", "author": "new_user", "flowchart": {"id": "93186647-95c5-0f37-3d58-0819ee46037e", "name": "FinalProject_G7_student_01", "description": "Inspired By: Reflections @ Keppel Bay\n---\n[Description]\nThis model relies on bezier curves for form-finding. \nA set of reflected bezier curves is used to generate the overall massing and the floor plates, and to generate the facade pattern.\nA sloped intersecting frame sits on the terraced roof, sloping in the same direction as the building.\n---\n[Main Parameters]\n1. The building's width, length, height, floor height.\n2. The building's floor plan's angle and elevation's curvature.\n3. The facade's pattern. (according to the curvature, or according to the sun's position)\n---\n[Form Presets]\n1. Width: 70 / Length: 50 / Curvature: 20 / Height: 400 / Floor Height: 10 / Angle: 25 / Roof Sharpness: 0\n2. Width: 70 / Length: 70 / Curvature: 0 / Height: 350 / Floor Height: 15 / Angle: 0 / Roof Sharpness: -10\n3. Width: 70 / Length: 50 / Curvature: 0 / Height: 250 / Floor Height: 15 / Angle: 30 / Roof Sharpness: 5\n\n4. Toggle sun shading, the sun's angle, and visualize intensity to see the facade change!!\n---\n[Sub-Logic]\n1. The number of opaque facade columns depends on the number of floors of the terraced roof.\n2. The curvature of the horizontal floor plates depends on the overall building curvature.\n3. The floor heights remain consistent regardless of the curvature.\n4. The roof frame uses the minimum height that doesn't intersect the roof plates.\n5. Sun shading uses the angle between the facade and the sun to determine its opacity.", "language": "js", "meta": {"selected_nodes": [0]}, "nodes": [{"name": "Start", "id": "node_68qq33070z6", "position": {"x": 5340, "y": 5060}, "enabled": true, "type": "start", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 10, "ID": "prod-o86hwz0kv8", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 5, "description": "Origin"}, "args": [{"name": "const_name", "value": "ORIGIN", "jsValue": "ORIGIN_"}, {"name": "__input__", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}], "selectGeom": false}, {"type": 10, "ID": "prod-r0lx745iud", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Building Width / Adjusts the building's size along its flat sides."}, "args": [{"name": "const_name", "value": "BUILDING_SIZE_X", "jsValue": "BUILDING_SIZE_X_"}, {"name": "__input__", "value": 70, "step": "5", "min": "30", "max": "120"}], "selectGeom": false}, {"type": 10, "ID": "prod-gnuxcukwj5h", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Building Length / Adjusts the building's size along the curved sides."}, "args": [{"name": "const_name", "value": "BUILDING_SIZE_Y", "jsValue": "BUILDING_SIZE_Y_"}, {"name": "__input__", "value": "50", "step": "5", "min": "30", "max": "110"}], "selectGeom": false}, {"type": 10, "ID": "prod-87ub7m1ep0v", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Building Curvature / Adjusts the overall curvature of the building."}, "args": [{"name": "const_name", "value": "BUILDING_CURVE_DEPTH", "jsValue": "BUILDING_CURVE_DEPTH_"}, {"name": "__input__", "value": "0", "step": "1", "min": "0", "max": "40"}]}, {"type": 10, "ID": "prod-ewxsfdjdefs", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Building Height / Adjusts the height of the building."}, "args": [{"name": "const_name", "value": "BUILDING_HEIGHT", "jsValue": "BUILDING_HEIGHT_"}, {"name": "__input__", "value": "400", "step": "10", "max": "600", "min": "250"}]}, {"type": 10, "ID": "prod-jbim28lv7ch", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Floor Height / Adjusts the vertical height between each floor plate."}, "args": [{"name": "const_name", "value": "FLOOR_HEIGHT", "jsValue": "FLOOR_HEIGHT_"}, {"name": "__input__", "value": "10", "step": "1", "max": "30", "min": "10"}], "selectGeom": false}, {"type": 10, "ID": "prod-4wcb4rdymfl", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Building Angle / Adjusts the angle of the isoceles trapezoid base."}, "args": [{"name": "const_name", "value": "BUILDING_ANGLE", "jsValue": "BUILDING_ANGLE_"}, {"name": "__input__", "value": "25", "step": "1", "min": "0", "max": "45"}]}, {"type": 10, "ID": "prod-8pcdccpobf3", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Roof Frame Sharpness / Adjusts the angle of the roof frame."}, "args": [{"name": "const_name", "value": "ROOF_OFFSET", "jsValue": "ROOF_OFFSET_"}, {"name": "__input__", "value": "0", "step": "1", "min": "-10", "max": "10"}]}, {"type": 10, "ID": "prod-gr3khsj3fsg", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 2, "description": "Use Sunshading? / Will simulate a smart sun-shading system."}, "args": [{"name": "const_name", "value": "BOOL_SUNSHADING", "jsValue": "BOOL_SUNSHADING_"}, {"name": "__input__", "value": true}]}, {"type": 10, "ID": "prod-0zbsxstx3ix", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Sun Position / Only appears if sunshading is ticked. Adjusts the angle of the sun."}, "args": [{"name": "const_name", "value": "SUN_ANGLE", "jsValue": "SUN_ANGLE_"}, {"name": "__input__", "value": "123", "step": "1", "max": "180", "min": "0"}]}, {"type": 10, "ID": "prod-17ntreq6ucr", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 2, "description": "Visualize Sun Intensity? / Red = Hottest, Blue = Coolest. Otherwise will use white panels with varying opacities."}, "args": [{"name": "const_name", "value": "BOOL_SUNGRADIENT", "jsValue": "BOOL_SUNGRADIENT_"}, {"name": "__input__", "value": true}]}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": false, "show_func": false}, "input": {"name": "input", "type": 0, "edges": [], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0"}, "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Define Tower Boundaries", "id": "node_ff31qqjsiyb", "position": {"x": 5340, "y": 5160}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-vbolcrj89is", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "This node defines the 4 corners of the tower, to create an isoceles trapezoid as the base. "}], "selectGeom": false}, {"type": 14, "ID": "prod-rjpjeecybq", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "The inner angles of the trapezoid is configured using BUILDING_ANGLE"}], "selectGeom": false}, {"type": 14, "ID": "prod-2nxrnver4ko", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Corners will be relative to the ORIGIN set in global parameters."}], "selectGeom": false}, {"type": 0, "ID": "prod-5gjvdkbmsgn", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "corner_one", "jsValue": "corner_one_"}, {"name": "value", "value": "ORIGIN", "usedVars": ["ORIGIN"], "jsValue": "ORIGIN_"}], "variable": "corner_one", "selectGeom": false}, {"type": 0, "ID": "prod-39qhiwtie4x", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "corner_two", "jsValue": "corner_two_"}, {"name": "value", "value": "vecAdd(ORIGIN, [0, BUILDING_SIZE_Y, 0])", "usedVars": ["BUILDING_SIZE_Y", "ORIGIN"], "jsValue": "vecAdd(__debug__, ORIGIN_, [0, BUILDING_SIZE_Y_, 0])"}], "variable": "corner_two", "selectGeom": false}, {"type": 14, "ID": "prod-tca8rz2lq9j", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Rotates representation vectors to find the two ending positions of the isoceles"}], "selectGeom": false}, {"type": 18, "ID": "prod-ddapugh35pe", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "localFunc", "name": "Rotate2DVector"}, "args": [{"name": "var_name", "value": "v1_2d", "jsValue": "v1_2d_"}, {"name": "vector", "value": "XY[1]", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))[pythonList(1, JSON.parse(JSON.stringify(XY)).length)]"}, {"name": "angle", "value": "degToRad(-BUILDING_ANGLE)", "usedVars": ["BUILDING_ANGLE"], "jsValue": "degToRad(__debug__, -BUILDING_ANGLE_)"}], "variable": "v1_2d", "selectGeom": false}, {"type": 0, "ID": "prod-x3sgr41fgvf", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "v1", "jsValue": "v1_"}, {"name": "value", "value": "vecNorm([v1_2d[0], v1_2d[1], 0])", "usedVars": ["v1_2d"], "jsValue": "vecNorm(__debug__, [v1_2d_[pythonList(0, v1_2d_.length)], v1_2d_[pythonList(1, v1_2d_.length)], 0])"}], "variable": "v1", "selectGeom": false}, {"type": 0, "ID": "prod-gup8s9q9ic", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "corner_three", "jsValue": "corner_three_"}, {"name": "value", "value": "vecAdd(corner_one, vecMult(v1, BUILDING_SIZE_X))", "usedVars": ["BUILDING_SIZE_X", "corner_one", "v1"], "jsValue": "vecAdd(__debug__, corner_one_, vecMult(__debug__, v1_, BUILDING_SIZE_X_))"}], "variable": "corner_three", "selectGeom": false}, {"type": 18, "ID": "prod-vd3xi4zsc5p", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "localFunc", "name": "Rotate2DVector"}, "args": [{"name": "var_name", "value": "v2_2d", "jsValue": "v2_2d_"}, {"name": "vector", "value": "XY[1]", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))[pythonList(1, JSON.parse(JSON.stringify(XY)).length)]"}, {"name": "angle", "value": "degToRad(BUILDING_ANGLE)", "usedVars": ["BUILDING_ANGLE"], "jsValue": "degToRad(__debug__, BUILDING_ANGLE_)"}], "variable": "v2_2d", "selectGeom": false}, {"type": 0, "ID": "prod-46mlpv80qob", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "v2", "jsValue": "v2_"}, {"name": "value", "value": "vecNorm([v2_2d[0], v2_2d[1], 0])", "usedVars": ["v2_2d"], "jsValue": "vecNorm(__debug__, [v2_2d_[pythonList(0, v2_2d_.length)], v2_2d_[pythonList(1, v2_2d_.length)], 0])"}], "variable": "v2", "selectGeom": false}, {"type": 0, "ID": "prod-ev52d4750vg", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "corner_four", "jsValue": "corner_four_"}, {"name": "value", "value": "vecAdd(corner_two, vecMult(v2, BUILDING_SIZE_X))", "usedVars": ["BUILDING_SIZE_X", "corner_two", "v2"], "jsValue": "vecAdd(__debug__, corner_two_, vecMult(__debug__, v2_, BUILDING_SIZE_X_))"}], "variable": "corner_four", "selectGeom": false}, {"type": 14, "ID": "prod-5w8wr0qwgp", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Save the four corners into a collection for downstream reference."}], "selectGeom": false}, {"type": 8, "ID": "prod-rsmdyzz2f8n", "enabled": true, "print": false, "meta": {"module": "make", "name": "Position"}, "argCount": 3, "args": [{"name": "var_name", "value": "tower_boundary_ps", "jsValue": "tower_boundary_ps_"}, {"name": "__model__"}, {"name": "coords", "value": "[corner_one, corner_three, corner_four, corner_two]", "usedVars": ["corner_one", "corner_two", "corner_three", "corner_four"], "jsValue": "[corner_one_, corner_three_, corner_four_, corner_two_]"}], "variable": "tower_boundary_ps", "selectGeom": false}, {"type": 8, "ID": "prod-zixueopfdqk", "enabled": true, "print": false, "meta": {"module": "make", "name": "Point"}, "argCount": 3, "args": [{"name": "var_name", "value": "tower_boundary_pt", "jsValue": "tower_boundary_pt_"}, {"name": "__model__"}, {"name": "entities", "value": "tower_boundary_ps", "usedVars": ["tower_boundary_ps"], "jsValue": "tower_boundary_ps_"}], "variable": "tower_boundary_pt", "terminate": false, "selectGeom": false}, {"type": 8, "ID": "prod-tgojfk6ocbf", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "col_tower_boundary", "jsValue": "col_tower_boundary_"}, {"name": "__model__"}, {"name": "entities", "value": "tower_boundary_pt", "usedVars": ["tower_boundary_pt"], "jsValue": "tower_boundary_pt_"}, {"name": "name", "value": "\"tower_boundary\"", "usedVars": [], "jsValue": "\"tower_boundary\""}], "variable": "col_tower_boundary", "selectGeom": false}, {"type": 8, "ID": "prod-zz1iyqp3cfm", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_tower_boundary", "usedVars": ["col_tower_boundary"], "jsValue": "col_tower_boundary_"}, {"name": "entities", "value": "tower_boundary_pt", "usedVars": ["tower_boundary_pt"], "jsValue": "tower_boundary_pt_"}], "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 16, "ID": "prod-8lxa0ed7d1w", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "Rotate2DVector", "num_returns": 1, "collapsed": false, "deletedArgs": [{"name": "arg_3", "value": "", "jsValue": "", "linked": false}]}}, "args": [{"name": "func_name", "value": "Rotate2DVector", "jsValue": "Rotate2DVector_"}, {"name": "arg_1", "value": "vector", "jsValue": "vector_", "usedVars": ["vector"]}, {"name": "arg_2", "value": "angle", "jsValue": "angle_", "usedVars": ["angle"]}], "children": [{"type": 13, "ID": "", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-enpnk8ponen", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "vector = [x, y] | angle = degree to rotate in radians"}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-a68rzomx5nw", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "This function returns the vector rotated at the specified angle."}]}, {"type": 17, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-i7n0f8u82ik", "enabled": true, "print": true, "argCount": 1, "args": [{"name": "Value", "value": "[vector[0] * cos(angle) - vector[1] * sin(angle), vector[0] * sin(angle) + vector[1] * cos(angle)]", "usedVars": ["vector", "angle"], "jsValue": "[vector_[pythonList(0, vector_.length)] * cos(__debug__, angle_) - vector_[pythonList(1, vector_.length)] * sin(__debug__, angle_), vector_[pythonList(0, vector_.length)] * sin(__debug__, angle_) + vector_[pythonList(1, vector_.length)] * cos(__debug__, angle_)]"}]}], "variable": null}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Create Tower Skeleton", "id": "node_5z9rjva3tk8", "position": {"x": 5340, "y": 5260}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-lj47kiz9lp", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "This node will generate four reference bezier curves using the positions from the previous node."}], "selectGeom": false}, {"type": 14, "ID": "prod-vz2l8sgdhz7", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "These four bezier curves will then be re-generated with their positions aligned to the floor height."}], "selectGeom": false}, {"type": 14, "ID": "prod-1c2oyn7j5s7", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Get the corner references from the upstream node."}], "selectGeom": false}, {"type": 8, "ID": "prod-tofhedgd6kl", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "tower_boundary_pt", "jsValue": "tower_boundary_pt_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_boundary\"", "usedVars": [], "jsValue": "\"tower_boundary\""}], "variable": "tower_boundary_pt", "selectGeom": false}, {"type": 0, "ID": "prod-k6auis48fj", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "corner_ps", "jsValue": "corner_ps_"}, {"name": "value", "value": "#ps @xyz", "usedVars": [], "jsValue": "__modules__.attrib.Get(__params__.model,  __modules__.query.Get(__params__.model, 'ps', null), 'xyz')"}], "variable": "corner_ps", "selectGeom": false}, {"type": 14, "ID": "prod-blfy76cuzoa", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Variables to refer to."}], "selectGeom": false}, {"type": 0, "ID": "prod-rrew394rgm", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "short_side_height", "jsValue": "short_side_height_"}, {"name": "value", "value": "BUILDING_HEIGHT * 0.9", "usedVars": ["BUILDING_HEIGHT"], "jsValue": "BUILDING_HEIGHT_ * 0.9"}], "variable": "short_side_height", "selectGeom": false}, {"type": 14, "ID": "prod-gwunyo1ju0w", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Generate the four reference bezier curves. We use 30 positions for now, this is irrelevant because we will re-generate them."}], "selectGeom": false}, {"type": 14, "ID": "prod-gm19iujggv", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Bezier Curve 1 (shorter side one)"}], "selectGeom": false}, {"type": 8, "ID": "prod-1yh9tpbi8hg", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Bezier"}, "argCount": 4, "args": [{"name": "var_name", "value": "bc1_coord", "jsValue": "bc1_coord_"}, {"name": "__model__"}, {"name": "coords", "value": "[vecAdd(corner_ps[0], [0, 0, short_side_height]), vecAdd(corner_ps[0], [BUILDING_CURVE_DEPTH * 0.3, 0, short_side_height * 0.7]), vecAdd(corner_ps[0], [BUILDING_CURVE_DEPTH * 0.6, 0, short_side_height * 0.33]), vecAdd(corner_ps[0], [0, 0, 0])]", "usedVars": ["BUILDING_CURVE_DEPTH", "corner_ps", "short_side_height"], "jsValue": "[vecAdd(__debug__, corner_ps_[pythonList(0, corner_ps_.length)], [0, 0, short_side_height_]), vecAdd(__debug__, corner_ps_[pythonList(0, corner_ps_.length)], [BUILDING_CURVE_DEPTH_ * 0.3, 0, short_side_height_ * 0.7]), vecAdd(__debug__, corner_ps_[pythonList(0, corner_ps_.length)], [BUILDING_CURVE_DEPTH_ * 0.6, 0, short_side_height_ * 0.33]), vecAdd(__debug__, corner_ps_[pythonList(0, corner_ps_.length)], [0, 0, 0])]"}, {"name": "num_positions", "value": "30", "usedVars": [], "jsValue": "30"}], "variable": "bc1_coord", "selectGeom": false}, {"type": 8, "ID": "prod-bkg35xgm6ap", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "bc_line1", "jsValue": "bc_line1_"}, {"name": "__model__"}, {"name": "entities", "value": "bc1_coord", "usedVars": ["bc1_coord"], "jsValue": "bc1_coord_"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "bc_line1", "selectGeom": false}, {"type": 14, "ID": "prod-b0mts9t927v", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Bezier Curve 2 (shorter side two)"}], "selectGeom": false}, {"type": 8, "ID": "prod-fj97633cb9g", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "bc_line2", "jsValue": "bc_line2_"}, {"name": "__model__"}, {"name": "entities", "value": "bc_line1", "usedVars": ["bc_line1"], "jsValue": "bc_line1_"}, {"name": "vector", "value": "vecSub(corner_ps[3], corner_ps[0])", "usedVars": ["corner_ps"], "jsValue": "vecSub(__debug__, corner_ps_[pythonList(3, corner_ps_.length)], corner_ps_[pythonList(0, corner_ps_.length)])"}], "variable": "bc_line2", "selectGeom": false}, {"type": 14, "ID": "prod-adrj0wovom5", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Bezier Curve 3 (longer side one)"}], "selectGeom": false}, {"type": 0, "ID": "prod-2k9mpmnj34l", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "long_side_height", "jsValue": "long_side_height_"}, {"name": "value", "value": "BUILDING_HEIGHT", "usedVars": ["BUILDING_HEIGHT"], "jsValue": "BUILDING_HEIGHT_"}], "variable": "long_side_height", "selectGeom": false}, {"type": 8, "ID": "prod-1m6uirj1hkz", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Bezier"}, "argCount": 4, "args": [{"name": "var_name", "value": "bc2_coord", "jsValue": "bc2_coord_"}, {"name": "__model__"}, {"name": "coords", "value": "[vecAdd(corner_ps[1], [0, 0, long_side_height]), vecAdd(corner_ps[1], [BUILDING_CURVE_DEPTH * 0.6, 0, long_side_height * 0.8]), vecAdd(corner_ps[1], [BUILDING_CURVE_DEPTH, 0, long_side_height * 0.3]), vecAdd(corner_ps[1], [BUILDING_CURVE_DEPTH * 0.2, 0, 0])]", "usedVars": ["BUILDING_CURVE_DEPTH", "corner_ps", "long_side_height"], "jsValue": "[vecAdd(__debug__, corner_ps_[pythonList(1, corner_ps_.length)], [0, 0, long_side_height_]), vecAdd(__debug__, corner_ps_[pythonList(1, corner_ps_.length)], [BUILDING_CURVE_DEPTH_ * 0.6, 0, long_side_height_ * 0.8]), vecAdd(__debug__, corner_ps_[pythonList(1, corner_ps_.length)], [BUILDING_CURVE_DEPTH_, 0, long_side_height_ * 0.3]), vecAdd(__debug__, corner_ps_[pythonList(1, corner_ps_.length)], [BUILDING_CURVE_DEPTH_ * 0.2, 0, 0])]"}, {"name": "num_positions", "value": "30", "usedVars": [], "jsValue": "30"}], "variable": "bc2_coord", "selectGeom": false}, {"type": 8, "ID": "prod-ke31qll4d8r", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "bc_line3", "jsValue": "bc_line3_"}, {"name": "__model__"}, {"name": "entities", "value": "bc2_coord", "usedVars": ["bc2_coord"], "jsValue": "bc2_coord_"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "bc_line3", "selectGeom": false}, {"type": 14, "ID": "prod-7pcnjpk5bhf", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Bezier Curve 4 (longer side two)"}], "selectGeom": false}, {"type": 8, "ID": "prod-evxxyp8o0rr", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "bc_line4", "jsValue": "bc_line4_"}, {"name": "__model__"}, {"name": "entities", "value": "bc_line3", "usedVars": ["bc_line3"], "jsValue": "bc_line3_"}, {"name": "vector", "value": "vecSub(corner_ps[2], corner_ps[1])", "usedVars": ["corner_ps"], "jsValue": "vecSub(__debug__, corner_ps_[pythonList(2, corner_ps_.length)], corner_ps_[pythonList(1, corner_ps_.length)])"}], "variable": "bc_line4", "selectGeom": false, "terminate": false}, {"type": 14, "ID": "prod-neck2vsx19q", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "The floor plates will be uneven is we use the positions generated by the bezier curves due to the difference in their overall curvature."}], "selectGeom": false}, {"type": 14, "ID": "prod-pxsau2k7sen", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "We will use a plane to intersect the curves according to the floor heights instead to get a new list of positions, then re-generate the curve."}], "selectGeom": false}, {"type": 0, "ID": "prod-6gi8pa5qlhc", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "index", "jsValue": "index_"}, {"name": "value", "value": "0", "usedVars": [], "jsValue": "0"}], "variable": "index", "selectGeom": false}, {"type": 0, "ID": "prod-nnodkh6lef", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "intersection_plane", "jsValue": "intersection_plane_"}, {"name": "value", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}], "variable": "intersection_plane", "selectGeom": false}, {"type": 0, "ID": "prod-0omtibh8sspr", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "tower_short1_ps", "jsValue": "tower_short1_ps_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "tower_short1_ps", "selectGeom": false}, {"type": 0, "ID": "prod-a23nh7azlc", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "tower_short2_ps", "jsValue": "tower_short2_ps_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "tower_short2_ps", "selectGeom": false}, {"type": 0, "ID": "prod-8qmvt5n7659", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "tower_long1_ps", "jsValue": "tower_long1_ps_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "tower_long1_ps", "selectGeom": false}, {"type": 0, "ID": "prod-6zct9qdl9f", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "tower_long2_ps", "jsValue": "tower_long2_ps_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "tower_long2_ps", "selectGeom": false}, {"type": 4, "ID": "prod-nqwm7oiovr", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, round(long_side_height / FLOOR_HEIGHT) + 1)", "usedVars": ["FLOOR_HEIGHT", "long_side_height"], "jsValue": "range(__debug__, 0, round(__debug__, long_side_height_ / FLOOR_HEIGHT_) + 1)"}], "children": [{"type": 13, "ID": "prod-er8tcki00wc", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "ID": "prod-vqoad53ynf", "enabled": true, "print": false, "meta": {"module": "intersect", "name": "PlaneEdge"}, "argCount": 4, "args": [{"name": "var_name", "value": "line1_intersection", "jsValue": "line1_intersection_"}, {"name": "__model__"}, {"name": "plane", "value": "intersection_plane", "usedVars": ["intersection_plane"], "jsValue": "intersection_plane_"}, {"name": "entities", "value": "bc_line1", "usedVars": ["bc_line1"], "jsValue": "bc_line1_"}], "variable": "line1_intersection", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "ID": "prod-ph5co3mwzw", "enabled": true, "print": false, "meta": {"module": "make", "name": "Position"}, "argCount": 3, "args": [{"name": "var_name", "value": "ps", "jsValue": "ps_"}, {"name": "__model__"}, {"name": "coords", "value": "line1_intersection", "usedVars": ["line1_intersection"], "jsValue": "line1_intersection_"}], "variable": "ps", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "ID": "prod-pwm3ta2ayvs", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "tower_short1_ps", "jsValue": "tower_short1_ps_"}, {"name": "value", "value": "listJoin(tower_short1_ps, ps)", "usedVars": ["ps", "tower_short1_ps"], "jsValue": "listJoin(__debug__, tower_short1_ps_, ps_)"}], "variable": "tower_short1_ps", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "ID": "prod-i0rnu07j5ql", "enabled": true, "print": false, "meta": {"module": "intersect", "name": "PlaneEdge"}, "argCount": 4, "args": [{"name": "var_name", "value": "line2_intersection", "jsValue": "line2_intersection_"}, {"name": "__model__"}, {"name": "plane", "value": "intersection_plane", "usedVars": ["intersection_plane"], "jsValue": "intersection_plane_"}, {"name": "entities", "value": "bc_line2", "usedVars": ["bc_line2"], "jsValue": "bc_line2_"}], "variable": "line2_intersection", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "ID": "prod-xtdqfr8oap", "enabled": true, "print": false, "meta": {"module": "make", "name": "Position"}, "argCount": 3, "args": [{"name": "var_name", "value": "ps", "jsValue": "ps_"}, {"name": "__model__"}, {"name": "coords", "value": "line2_intersection", "usedVars": ["line2_intersection"], "jsValue": "line2_intersection_"}], "variable": "ps", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "ID": "prod-exuj7i9fsp7", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "tower_short2_ps", "jsValue": "tower_short2_ps_"}, {"name": "value", "value": "listJoin(tower_short2_ps, ps)", "usedVars": ["ps", "tower_short2_ps"], "jsValue": "listJoin(__debug__, tower_short2_ps_, ps_)"}], "variable": "tower_short2_ps", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "ID": "prod-2d6s8ax1prx", "enabled": true, "print": false, "meta": {"module": "intersect", "name": "PlaneEdge"}, "argCount": 4, "args": [{"name": "var_name", "value": "line3_intersection", "jsValue": "line3_intersection_"}, {"name": "__model__"}, {"name": "plane", "value": "intersection_plane", "usedVars": ["intersection_plane"], "jsValue": "intersection_plane_"}, {"name": "entities", "value": "bc_line3", "usedVars": ["bc_line3"], "jsValue": "bc_line3_"}], "variable": "line3_intersection", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "ID": "prod-acd34uava4n", "enabled": true, "print": false, "meta": {"module": "make", "name": "Position"}, "argCount": 3, "args": [{"name": "var_name", "value": "ps", "jsValue": "ps_"}, {"name": "__model__"}, {"name": "coords", "value": "line3_intersection", "usedVars": ["line3_intersection"], "jsValue": "line3_intersection_"}], "variable": "ps", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "ID": "prod-y94gfbf8ox", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "tower_long1_ps", "jsValue": "tower_long1_ps_"}, {"name": "value", "value": "listJoin(tower_long1_ps, ps)", "usedVars": ["ps", "tower_long1_ps"], "jsValue": "listJoin(__debug__, tower_long1_ps_, ps_)"}], "variable": "tower_long1_ps", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "ID": "prod-7t8u0jeg4bb", "enabled": true, "print": false, "meta": {"module": "intersect", "name": "PlaneEdge"}, "argCount": 4, "args": [{"name": "var_name", "value": "line4_intersection", "jsValue": "line4_intersection_"}, {"name": "__model__"}, {"name": "plane", "value": "intersection_plane", "usedVars": ["intersection_plane"], "jsValue": "intersection_plane_"}, {"name": "entities", "value": "bc_line4", "usedVars": ["bc_line4"], "jsValue": "bc_line4_"}], "variable": "line4_intersection", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "ID": "prod-0wppkk77m2k", "enabled": true, "print": false, "meta": {"module": "make", "name": "Position"}, "argCount": 3, "args": [{"name": "var_name", "value": "ps", "jsValue": "ps_"}, {"name": "__model__"}, {"name": "coords", "value": "line4_intersection", "usedVars": ["line4_intersection"], "jsValue": "line4_intersection_"}], "variable": "ps", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "ID": "prod-iwvbzo8cjto", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "tower_long2_ps", "jsValue": "tower_long2_ps_"}, {"name": "value", "value": "listJoin(tower_long2_ps, ps)", "usedVars": ["ps", "tower_long2_ps"], "jsValue": "listJoin(__debug__, tower_long2_ps_, ps_)"}], "variable": "tower_long2_ps", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "ID": "prod-q177dk7jct", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Update the intersection plane."}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "ID": "prod-srx20s4qgk", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "intersection_plane", "jsValue": "intersection_plane_"}, {"name": "value", "value": "plnMove(intersection_plane, [0, 0, FLOOR_HEIGHT])", "usedVars": ["FLOOR_HEIGHT", "intersection_plane"], "jsValue": "plnMove(__debug__, intersection_plane_, [0, 0, FLOOR_HEIGHT_])"}], "variable": "intersection_plane", "selectGeom": false}], "variable": "index", "selectGeom": false}, {"type": 14, "ID": "prod-agfav7xxu75", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "If the long and short sides have equal numbers of floors, remove the highest point from the short side."}], "selectGeom": false}, {"type": 1, "ID": "prod-y4iazw7tqx", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "len(tower_short1_ps) == len(tower_long1_ps)", "usedVars": ["tower_short1_ps", "tower_long1_ps"], "jsValue": "len(__debug__, tower_short1_ps_) == len(__debug__, tower_long1_ps_)"}], "children": [{"type": 13, "ID": "prod-fp10870q9gm", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~30", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-khw753tra1a", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "tower_short1_ps[len(tower_short1_ps) - 1]", "usedVars": ["tower_short1_ps"], "jsValue": "tower_short1_ps_[pythonList(len(__debug__, tower_short1_ps_) - 1, tower_short1_ps_.length)]"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~30"}, {"type": 8, "ID": "prod-qzav13i5j5", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "tower_short2_ps[len(tower_short1_ps) - 1]", "usedVars": ["tower_short1_ps", "tower_short2_ps"], "jsValue": "tower_short2_ps_[pythonList(len(__debug__, tower_short1_ps_) - 1, tower_short2_ps_.length)]"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~30"}, {"type": 0, "ID": "prod-m2jwcyp3hep", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "tower_short1_ps", "jsValue": "tower_short1_ps_"}, {"name": "value", "value": "tower_short1_ps[ : -1]", "usedVars": ["tower_short1_ps"], "jsValue": "tower_short1_ps_.slice(0,-1)"}], "variable": "tower_short1_ps", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~30"}, {"type": 0, "ID": "prod-6qdxii1pwma", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "tower_short2_ps", "jsValue": "tower_short2_ps_"}, {"name": "value", "value": "tower_short2_ps[ : -1]", "usedVars": ["tower_short2_ps"], "jsValue": "tower_short2_ps_.slice(0,-1)"}], "variable": "tower_short2_ps", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~30", "terminate": false}], "selectGeom": false}, {"type": 14, "ID": "prod-4swexl5pqdn", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Visualize the re-generated bezier curves and remove the references."}], "selectGeom": false}, {"type": 8, "ID": "prod-porwnecv8w", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "tower_short_pl1", "jsValue": "tower_short_pl1_"}, {"name": "__model__"}, {"name": "entities", "value": "tower_short1_ps", "usedVars": ["tower_short1_ps"], "jsValue": "tower_short1_ps_"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "tower_short_pl1", "selectGeom": false}, {"type": 8, "ID": "prod-3qlc1rcxgar", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "tower_short_pl2", "jsValue": "tower_short_pl2_"}, {"name": "__model__"}, {"name": "entities", "value": "tower_short2_ps", "usedVars": ["tower_short2_ps"], "jsValue": "tower_short2_ps_"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "tower_short_pl2", "selectGeom": false}, {"type": 8, "ID": "prod-imoosicnrmq", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "tower_long_pl1", "jsValue": "tower_long_pl1_"}, {"name": "__model__"}, {"name": "entities", "value": "tower_long1_ps", "usedVars": ["tower_long1_ps"], "jsValue": "tower_long1_ps_"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "tower_long_pl1", "selectGeom": false}, {"type": 8, "ID": "prod-uuxlxr2zrcm", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "tower_long_pl2", "jsValue": "tower_long_pl2_"}, {"name": "__model__"}, {"name": "entities", "value": "tower_long2_ps", "usedVars": ["tower_long2_ps"], "jsValue": "tower_long2_ps_"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "tower_long_pl2", "selectGeom": false}, {"type": 8, "ID": "prod-508kk15cife", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "bc_line1", "usedVars": ["bc_line1"], "jsValue": "bc_line1_"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}], "terminate": false, "selectGeom": false}, {"type": 8, "ID": "prod-pgbav2f1odm", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "bc_line2", "usedVars": ["bc_line2"], "jsValue": "bc_line2_"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}], "terminate": false, "selectGeom": false}, {"type": 8, "ID": "prod-x6ebzeulmvs", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "bc_line3", "usedVars": ["bc_line3"], "jsValue": "bc_line3_"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}], "terminate": false, "selectGeom": false}, {"type": 8, "ID": "prod-nttaa7snzwp", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "bc_line4", "usedVars": ["bc_line4"], "jsValue": "bc_line4_"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}], "terminate": false, "selectGeom": false}, {"type": 14, "ID": "prod-twb86xwy4hb", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Store the four bezier curves into a collection"}], "selectGeom": false}, {"type": 8, "ID": "prod-kcx9bjwe2km", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "col_short_curve1", "jsValue": "col_short_curve1_"}, {"name": "__model__"}, {"name": "entities", "value": "tower_short_pl1", "usedVars": ["tower_short_pl1"], "jsValue": "tower_short_pl1_"}, {"name": "name", "value": "\"tower_short_bezier1\"", "usedVars": [], "jsValue": "\"tower_short_bezier1\""}], "variable": "col_short_curve1", "terminate": false, "selectGeom": false}, {"type": 8, "ID": "prod-94ayw909fc8", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "col_short_curve2", "jsValue": "col_short_curve2_"}, {"name": "__model__"}, {"name": "entities", "value": "tower_short_pl2", "usedVars": ["tower_short_pl2"], "jsValue": "tower_short_pl2_"}, {"name": "name", "value": "\"tower_short_bezier2\"", "usedVars": [], "jsValue": "\"tower_short_bezier2\""}], "variable": "col_short_curve2", "selectGeom": false}, {"type": 8, "ID": "prod-u6o27w6n9l", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "col_long_curve1", "jsValue": "col_long_curve1_"}, {"name": "__model__"}, {"name": "entities", "value": "tower_long_pl1", "usedVars": ["tower_long_pl1"], "jsValue": "tower_long_pl1_"}, {"name": "name", "value": "\"tower_long_bezier1\"", "usedVars": [], "jsValue": "\"tower_long_bezier1\""}], "variable": "col_long_curve1", "selectGeom": false}, {"type": 8, "ID": "prod-wi91vmarxwc", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "col_long_curve2", "jsValue": "col_long_curve2_"}, {"name": "__model__"}, {"name": "entities", "value": "tower_long_pl2", "usedVars": ["tower_long_pl2"], "jsValue": "tower_long_pl2_"}, {"name": "name", "value": "\"tower_long_bezier2\"", "usedVars": [], "jsValue": "\"tower_long_bezier2\""}], "variable": "col_long_curve2", "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Create Skin Skeleton ", "id": "node_ur0xozyscmq", "position": {"x": 5340, "y": 5360}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-4ehbd1oi9vb", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "This node creates the tower's skeleton for both the curved and flat sides."}], "selectGeom": false}, {"type": 14, "ID": "prod-89pf0426s1o", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "The north and south sides of the tower are not straight, and are also curved, so we need to generate those curves individually."}], "selectGeom": false}, {"type": 14, "ID": "prod-4kzwzhjtucv", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Prepare references that we require for this node."}], "selectGeom": false}, {"type": 8, "ID": "prod-nljv5u2vx5", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_short_pl", "jsValue": "col_short_pl_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_short_bezier?\"", "usedVars": [], "jsValue": "\"tower_short_bezier?\""}], "variable": "col_short_pl", "selectGeom": false}, {"type": 8, "ID": "prod-ixw0qldlpkg", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_long_pl", "jsValue": "col_long_pl_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_long_bezier?\"", "usedVars": [], "jsValue": "\"tower_long_bezier?\""}], "variable": "col_long_pl", "selectGeom": false}, {"type": 14, "ID": "prod-0h45uf23fjev", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Hold the positions of each polyline separately so we can access them individually."}], "selectGeom": false}, {"type": 0, "ID": "prod-m5htc8ifwqe", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "short_curve_ps1", "jsValue": "short_curve_ps1_"}, {"name": "value", "value": "col_short_pl[0]#ps", "usedVars": ["col_short_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', col_short_pl_[pythonList(0, col_short_pl_.length)])"}], "variable": "short_curve_ps1", "selectGeom": false}, {"type": 0, "ID": "prod-soi1pb19a", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "short_curve_ps2", "jsValue": "short_curve_ps2_"}, {"name": "value", "value": "col_short_pl[1]#ps", "usedVars": ["col_short_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', col_short_pl_[pythonList(1, col_short_pl_.length)])"}], "variable": "short_curve_ps2", "selectGeom": false}, {"type": 0, "ID": "prod-mad5zw6va8k", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "long_curve_ps1", "jsValue": "long_curve_ps1_"}, {"name": "value", "value": "col_long_pl[0]#ps", "usedVars": ["col_long_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', col_long_pl_[pythonList(0, col_long_pl_.length)])"}], "variable": "long_curve_ps1", "selectGeom": false}, {"type": 0, "ID": "prod-3obja1argwr", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "long_curve_ps2", "jsValue": "long_curve_ps2_"}, {"name": "value", "value": "col_long_pl[1]#ps", "usedVars": ["col_long_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', col_long_pl_[pythonList(1, col_long_pl_.length)])"}], "variable": "long_curve_ps2", "selectGeom": false}, {"type": 14, "ID": "prod-ssgthno46d", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Iterate upwards through the positions in each polyline to generate a horizontal bezier curve for the narrow face."}], "selectGeom": false}, {"type": 8, "ID": "prod-mudrl9zwpic", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "col_short_h_pl", "jsValue": "col_short_h_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "[]", "usedVars": [], "jsValue": "[]"}, {"name": "name", "value": "\"tower_short_h_beziers\"", "usedVars": [], "jsValue": "\"tower_short_h_beziers\""}], "variable": "col_short_h_pl", "selectGeom": false}, {"type": 4, "ID": "prod-lswecpynw7q", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, len(short_curve_ps1))", "usedVars": ["short_curve_ps1"], "jsValue": "range(__debug__, 0, len(__debug__, short_curve_ps1_))"}], "children": [{"type": 13, "ID": "prod-0g0qawwu7g6u", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~13", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~13", "ID": "prod-ru3ta9so7lr", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "xyz_start", "jsValue": "xyz_start_"}, {"name": "value", "value": "short_curve_ps1[index]@xyz", "usedVars": ["short_curve_ps1", "index"], "jsValue": "__modules__.attrib.Get(__params__.model, short_curve_ps1_[pythonList(index_, short_curve_ps1_.length)], 'xyz')"}], "variable": "xyz_start", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~13", "ID": "prod-1y9yomv4fb2", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "xyz_end", "jsValue": "xyz_end_"}, {"name": "value", "value": "short_curve_ps2[index]@xyz", "usedVars": ["short_curve_ps2", "index"], "jsValue": "__modules__.attrib.Get(__params__.model, short_curve_ps2_[pythonList(index_, short_curve_ps2_.length)], 'xyz')"}], "variable": "xyz_end", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~13", "ID": "prod-faa8alu0cli", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Calculate the middle of the curvature using the building's curvature depth."}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~13", "ID": "prod-xz13uo15u9d", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "xyz_middle", "jsValue": "xyz_middle_"}, {"name": "value", "value": "vecAdd(vecDiv(vecAdd(xyz_start, xyz_end), 2), [(BUILDING_CURVE_DEPTH + 0.1) * 0.2, 0, 0])", "usedVars": ["BUILDING_CURVE_DEPTH", "xyz_start", "xyz_end"], "jsValue": "vecAdd(__debug__, vecDiv(__debug__, vecAdd(__debug__, xyz_start_, xyz_end_), 2), [(BUILDING_CURVE_DEPTH_ + 0.1) * 0.2, 0, 0])"}], "variable": "xyz_middle", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~13", "ID": "prod-4fhkmp0a86p", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Bezier"}, "argCount": 4, "args": [{"name": "var_name", "value": "short_bezier", "jsValue": "short_bezier_"}, {"name": "__model__"}, {"name": "coords", "value": "[xyz_start, xyz_middle, xyz_end]", "usedVars": ["xyz_start", "xyz_end", "xyz_middle"], "jsValue": "[xyz_start_, xyz_middle_, xyz_end_]"}, {"name": "num_positions", "value": "round(abs(xyz_start[1] - xyz_end[1]) * 0.1)", "usedVars": ["xyz_start", "xyz_end"], "jsValue": "round(__debug__, abs(__debug__, xyz_start_[pythonList(1, xyz_start_.length)] - xyz_end_[pythonList(1, xyz_end_.length)]) * 0.1)"}], "variable": "short_bezier", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~13", "ID": "prod-i37ul95ouqm", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "short_h_curve_pl", "jsValue": "short_h_curve_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "short_bezier", "usedVars": ["short_bezier"], "jsValue": "short_bezier_"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "short_h_curve_pl", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~13", "ID": "prod-8jp6i1ek5wn", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Store the horizontal (h) bezier curve into a collection for use downstream."}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~13", "ID": "prod-ke565jnjis", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_short_h_pl", "usedVars": ["col_short_h_pl"], "jsValue": "col_short_h_pl_"}, {"name": "entities", "value": "short_h_curve_pl", "usedVars": ["short_h_curve_pl"], "jsValue": "short_h_curve_pl_"}], "selectGeom": false}], "variable": "index", "selectGeom": false}, {"type": 14, "ID": "prod-lvteorp5p9", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Repeat for the wide side."}], "selectGeom": false}, {"type": 8, "ID": "prod-vovg8219lv", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "col_long_h_pl", "jsValue": "col_long_h_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "[]", "usedVars": [], "jsValue": "[]"}, {"name": "name", "value": "\"tower_long_h_beziers\"", "usedVars": [], "jsValue": "\"tower_long_h_beziers\""}], "variable": "col_long_h_pl", "selectGeom": false}, {"type": 4, "ID": "prod-u6kfgciki3j", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, len(long_curve_ps1))", "usedVars": ["long_curve_ps1"], "jsValue": "range(__debug__, 0, len(__debug__, long_curve_ps1_))"}], "children": [{"type": 13, "ID": "prod-u1eb8vhq0y8", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~16", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~16", "ID": "prod-7ugz3kcidka", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "xyz_start", "jsValue": "xyz_start_"}, {"name": "value", "value": "long_curve_ps1[index]@xyz", "usedVars": ["long_curve_ps1", "index"], "jsValue": "__modules__.attrib.Get(__params__.model, long_curve_ps1_[pythonList(index_, long_curve_ps1_.length)], 'xyz')"}], "variable": "xyz_start", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~16", "ID": "prod-z6scinnhw3", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "xyz_end", "jsValue": "xyz_end_"}, {"name": "value", "value": "long_curve_ps2[index]@xyz", "usedVars": ["long_curve_ps2", "index"], "jsValue": "__modules__.attrib.Get(__params__.model, long_curve_ps2_[pythonList(index_, long_curve_ps2_.length)], 'xyz')"}], "variable": "xyz_end", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~16", "ID": "prod-f6hkqw6yrra", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Calculate the middle of the curvature using the building's curvature depth."}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~16", "ID": "prod-9rvdenwqa4k", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "xyz_middle", "jsValue": "xyz_middle_"}, {"name": "value", "value": "vecAdd(vecDiv(vecAdd(xyz_start, xyz_end), 2), [(BUILDING_CURVE_DEPTH + 0.1) * 0.4, 0, 0])", "usedVars": ["BUILDING_CURVE_DEPTH", "xyz_start", "xyz_end"], "jsValue": "vecAdd(__debug__, vecDiv(__debug__, vecAdd(__debug__, xyz_start_, xyz_end_), 2), [(BUILDING_CURVE_DEPTH_ + 0.1) * 0.4, 0, 0])"}], "variable": "xyz_middle", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~16", "ID": "prod-p7e0a44s5gs", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Bezier"}, "argCount": 4, "args": [{"name": "var_name", "value": "long_bezier", "jsValue": "long_bezier_"}, {"name": "__model__"}, {"name": "coords", "value": "[xyz_start, xyz_middle, xyz_end]", "usedVars": ["xyz_start", "xyz_end", "xyz_middle"], "jsValue": "[xyz_start_, xyz_middle_, xyz_end_]"}, {"name": "num_positions", "value": "round(abs(xyz_start[1] - xyz_end[1]) * 0.1)", "usedVars": ["xyz_start", "xyz_end"], "jsValue": "round(__debug__, abs(__debug__, xyz_start_[pythonList(1, xyz_start_.length)] - xyz_end_[pythonList(1, xyz_end_.length)]) * 0.1)"}], "variable": "long_bezier", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~16", "ID": "prod-vzu4otelwa", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "long_h_curve_pl", "jsValue": "long_h_curve_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "long_bezier", "usedVars": ["long_bezier"], "jsValue": "long_bezier_"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "long_h_curve_pl", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~16", "ID": "prod-jn1yoxy47a9", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Store the horizontal (h) bezier curve into a collection for use downstream."}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~16", "ID": "prod-ocfqv89blns", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_long_h_pl", "usedVars": ["col_long_h_pl"], "jsValue": "col_long_h_pl_"}, {"name": "entities", "value": "long_h_curve_pl", "usedVars": ["long_h_curve_pl"], "jsValue": "long_h_curve_pl_"}], "selectGeom": false}], "variable": "index", "selectGeom": false}, {"type": 14, "ID": "prod-2jcasrvlha9", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Repeat by creating a horizontal line for both flat sides to use as a reference downstream."}], "selectGeom": false}, {"type": 14, "ID": "prod-i2befuhep5d", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "The flat side needs to be further split to accommodate for the opaque/transparent pattern which will be detailed later."}], "selectGeom": false}, {"type": 8, "ID": "prod-n733pmimks", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "col_west_h_pl", "jsValue": "col_west_h_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "[]", "usedVars": [], "jsValue": "[]"}, {"name": "name", "value": "\"tower_west_h_lines\"", "usedVars": [], "jsValue": "\"tower_west_h_lines\""}], "variable": "col_west_h_pl", "selectGeom": false}, {"type": 8, "ID": "prod-aq38n25z36k", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "col_east_h_pl", "jsValue": "col_east_h_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "[]", "usedVars": [], "jsValue": "[]"}, {"name": "name", "value": "\"tower_east_h_lines\"", "usedVars": [], "jsValue": "\"tower_east_h_lines\""}], "variable": "col_east_h_pl", "selectGeom": false}, {"type": 0, "ID": "prod-iugkm061xnp", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_edge1", "jsValue": "roof_edge1_"}, {"name": "value", "value": "null", "usedVars": [], "jsValue": "null"}], "variable": "roof_edge1", "selectGeom": false}, {"type": 0, "ID": "prod-nrvy5hslxzm", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_edge2", "jsValue": "roof_edge2_"}, {"name": "value", "value": "null", "usedVars": [], "jsValue": "null"}], "variable": "roof_edge2", "selectGeom": false}, {"type": 14, "ID": "prod-m3sh63owuc8", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Iterate through the positions to generate the horizontal references."}], "selectGeom": false}, {"type": 4, "ID": "prod-esikob3fi26", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, len(short_curve_ps1))", "usedVars": ["short_curve_ps1"], "jsValue": "range(__debug__, 0, len(__debug__, short_curve_ps1_))"}], "children": [{"type": 13, "ID": "prod-eg6rfrraodp", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-xgt7q2v11bs", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "For the West face."}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-oy9uoeaq6le", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "xyz_start", "jsValue": "xyz_start_"}, {"name": "value", "value": "short_curve_ps1[index]", "usedVars": ["short_curve_ps1", "index"], "jsValue": "short_curve_ps1_[pythonList(index_, short_curve_ps1_.length)]"}], "variable": "xyz_start", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-92ssbba4fjg", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "xyz_end", "jsValue": "xyz_end_"}, {"name": "value", "value": "long_curve_ps1[index]", "usedVars": ["long_curve_ps1", "index"], "jsValue": "long_curve_ps1_[pythonList(index_, long_curve_ps1_.length)]"}], "variable": "xyz_end", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-makdmcd0mcq", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "flat_pl", "jsValue": "flat_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "[xyz_start, xyz_end]", "usedVars": ["xyz_start", "xyz_end"], "jsValue": "[xyz_start_, xyz_end_]"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "flat_pl", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-8u0cf3e962h", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_edge1", "jsValue": "roof_edge1_"}, {"name": "value", "value": "flat_pl", "usedVars": ["flat_pl"], "jsValue": "flat_pl_"}], "variable": "roof_edge1", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-po7sdcy9boo", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_west_h_pl", "usedVars": ["col_west_h_pl"], "jsValue": "col_west_h_pl_"}, {"name": "entities", "value": "flat_pl", "usedVars": ["flat_pl"], "jsValue": "flat_pl_"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-t5yierdm34", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "flat_pl", "usedVars": ["flat_pl"], "jsValue": "flat_pl_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"west_facade_edge\"", "usedVars": [], "jsValue": "\"west_facade_edge\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-mnbwd05enw", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "For the East face."}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-q0n5aakef9", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "xyz_start", "jsValue": "xyz_start_"}, {"name": "value", "value": "short_curve_ps2[index]", "usedVars": ["short_curve_ps2", "index"], "jsValue": "short_curve_ps2_[pythonList(index_, short_curve_ps2_.length)]"}], "variable": "xyz_start", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-izzg4gt13n7", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "xyz_end", "jsValue": "xyz_end_"}, {"name": "value", "value": "long_curve_ps2[index]", "usedVars": ["long_curve_ps2", "index"], "jsValue": "long_curve_ps2_[pythonList(index_, long_curve_ps2_.length)]"}], "variable": "xyz_end", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-ssqj0mncgz", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "flat_pl", "jsValue": "flat_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "[xyz_start, xyz_end]", "usedVars": ["xyz_start", "xyz_end"], "jsValue": "[xyz_start_, xyz_end_]"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "flat_pl", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-x2o35s1xpwm", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_edge2", "jsValue": "roof_edge2_"}, {"name": "value", "value": "flat_pl", "usedVars": ["flat_pl"], "jsValue": "flat_pl_"}], "variable": "roof_edge2", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-z32683nesc", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "flat_pl", "usedVars": ["flat_pl"], "jsValue": "flat_pl_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"east_facade_edge\"", "usedVars": [], "jsValue": "\"east_facade_edge\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-yvteuh1t2fo", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_east_h_pl", "usedVars": ["col_east_h_pl"], "jsValue": "col_east_h_pl_"}, {"name": "entities", "value": "flat_pl", "usedVars": ["flat_pl"], "jsValue": "flat_pl_"}], "selectGeom": false}], "variable": "index", "selectGeom": false}, {"type": 14, "ID": "prod-yjaxg8ajn4", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Keep track of the roof edges as those will be used to create a terraced roof later."}], "selectGeom": false}, {"type": 8, "ID": "prod-yhxh8w8e3dg", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "[roof_edge1, roof_edge2]", "usedVars": ["roof_edge1", "roof_edge2"], "jsValue": "[roof_edge1_, roof_edge2_]"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"undivided_roof_edge\"", "usedVars": [], "jsValue": "\"undivided_roof_edge\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "terminate": false, "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "hasError": false, "hasExecuted": true, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Create Terrace Roof Skeleton", "id": "node_u8c9adynj9", "position": {"x": 5340, "y": 5460}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-9uuvli7rht4", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "This nodes creates a terraced roof using the difference in floor numbers betwen the shorter and longer side."}], "selectGeom": false}, {"type": 14, "ID": "prod-5pptrx8yw63", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "First, the edge along the highest floor on the short side will be split for references for the width of each terrace step."}], "selectGeom": false}, {"type": 14, "ID": "prod-yjrndedqmrg", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Secondly, bezier curves facing inwards will be generated using these references, and these curves will be copied vertically to form the frame for the terraced roof."}], "selectGeom": false}, {"type": 14, "ID": "prod-ffx4xxxl8do", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Thirdly, we will divide the polylines along the generated frames for the facade."}], "selectGeom": false}, {"type": 14, "ID": "prod-oalegl3kzc", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Lastly, we will create a dormer on the first floor of the roof terrace to crate an 'L' shaped plate."}], "selectGeom": false}, {"type": 14, "ID": "prod-2j3kbpjdhzs", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Prepare the references we need for this node."}], "selectGeom": false}, {"type": 0, "ID": "prod-f6prb33jhi", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_edges", "jsValue": "roof_edges_"}, {"name": "value", "value": "#pl ?@type==\"undivided_roof_edge\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pl', null), ['type', null], '==', \"undivided_roof_edge\")"}], "variable": "roof_edges", "selectGeom": false}, {"type": 8, "ID": "prod-77gj8ss07on", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_short_h_pl", "jsValue": "col_short_h_pl_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_short_h_beziers\"", "usedVars": [], "jsValue": "\"tower_short_h_beziers\""}], "variable": "col_short_h_pl", "selectGeom": false}, {"type": 8, "ID": "prod-6l3ncmyshle", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_long_h_pl", "jsValue": "col_long_h_pl_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_long_h_beziers\"", "usedVars": [], "jsValue": "\"tower_long_h_beziers\""}], "variable": "col_long_h_pl", "selectGeom": false}, {"type": 14, "ID": "prod-pg8ianzvvmd", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "First add the highest horizontal edge for the short side to pair with the terraced roof edges. (during lofting)"}], "selectGeom": false}, {"type": 8, "ID": "prod-0hjlb8r40125", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "col_roof_pl", "jsValue": "col_roof_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "col_short_h_pl#pl[len(col_short_h_pl#pl)-1]", "usedVars": ["col_short_h_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)[pythonList(len(__debug__,  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)) - 1, __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_).length)]"}, {"name": "name", "value": "\"tower_roof_curves\"", "usedVars": [], "jsValue": "\"tower_roof_curves\""}], "variable": "col_roof_pl", "selectGeom": false}, {"type": 0, "ID": "prod-wtr5smwxcrj", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "floor_difference", "jsValue": "floor_difference_"}, {"name": "value", "value": "len(col_long_h_pl#pl ) - len(col_short_h_pl#pl )", "usedVars": ["col_short_h_pl", "col_long_h_pl"], "jsValue": "len(__debug__,  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)) - len(__debug__,  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_))"}], "variable": "floor_difference"}, {"type": 14, "ID": "prod-tvw7z6ztz0g", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Divide the roof edge according to the number of extra floors."}]}, {"type": 8, "ID": "prod-nh18zbr17ek", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "roof_edges", "jsValue": "roof_edges_"}, {"name": "__model__"}, {"name": "entities", "value": "roof_edges", "usedVars": ["roof_edges"], "jsValue": "roof_edges_"}, {"name": "vector", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}], "variable": "roof_edges"}, {"type": 8, "ID": "prod-47l3v20jm8d", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Divide"}, "argCount": 5, "args": [{"name": "var_name", "value": "divided_edge", "jsValue": "divided_edge_"}, {"name": "__model__"}, {"name": "entities", "value": "roof_edges", "usedVars": ["roof_edges"], "jsValue": "roof_edges_"}, {"name": "divisor", "value": "floor_difference + 1", "usedVars": ["floor_difference"], "jsValue": "floor_difference_ + 1"}, {"name": "method", "value": "'by_number'", "jsValue": "'by_number'", "usedVars": []}], "variable": "divided_edge", "terminate": false}, {"type": 8, "ID": "prod-pieh7efatp", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "roof_edges", "usedVars": ["roof_edges"], "jsValue": "roof_edges_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"roof_edge\"", "usedVars": [], "jsValue": "\"roof_edge\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false, "terminate": false}, {"type": 14, "ID": "prod-fbjnrcq2r95", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Get a reference to each roof edge individually."}]}, {"type": 0, "ID": "prod-q5p96h73nqi", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "edge1_ps", "jsValue": "edge1_ps_"}, {"name": "value", "value": "divided_edge#ps[:(len(divided_edge)/2)+1]", "usedVars": ["divided_edge"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', divided_edge_).slice(0,(len(__debug__, divided_edge_) / 2) + 1)"}], "variable": "edge1_ps"}, {"type": 0, "ID": "prod-jpoo5akqebg", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "edge2_ps", "jsValue": "edge2_ps_"}, {"name": "value", "value": "divided_edge#ps[(len(divided_edge)/2)+1:]", "usedVars": ["divided_edge"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', divided_edge_).slice((len(__debug__, divided_edge_) / 2) + 1)"}], "variable": "edge2_ps", "selectGeom": false}, {"type": 14, "ID": "prod-6oa3j6rtim3", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Hold a reference to the first roof plate generated so we can create the dormer later."}], "selectGeom": false}, {"type": 0, "ID": "prod-47fxszmnhqa", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "first_roof", "jsValue": "first_roof_"}, {"name": "value", "value": "null", "usedVars": [], "jsValue": "null"}], "variable": "first_roof"}, {"type": 0, "ID": "prod-ujdef4v0ke", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "first_base", "jsValue": "first_base_"}, {"name": "value", "value": "null", "usedVars": [], "jsValue": "null"}], "variable": "first_base", "selectGeom": false, "terminate": false}, {"type": 14, "ID": "prod-acialsmkmtk", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Generate the bezier curves to use as divisors and offset them to the floor plates they represent."}]}, {"type": 4, "ID": "prod-7dczcw6tbn", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(1, len(edge1_ps) - 1)", "usedVars": ["edge1_ps"], "jsValue": "range(__debug__, 1, len(__debug__, edge1_ps_) - 1)"}], "children": [{"type": 13, "ID": "prod-7dczcw6tbn-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-gumrxsda5pa", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "xyz_start", "jsValue": "xyz_start_"}, {"name": "value", "value": "edge1_ps[index]@xyz", "usedVars": ["edge1_ps", "index"], "jsValue": "__modules__.attrib.Get(__params__.model, edge1_ps_[pythonList(index_, edge1_ps_.length)], 'xyz')"}], "variable": "xyz_start", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-7iepiko9avy", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "xyz_end", "jsValue": "xyz_end_"}, {"name": "value", "value": "edge2_ps[index]@xyz", "usedVars": ["edge2_ps", "index"], "jsValue": "__modules__.attrib.Get(__params__.model, edge2_ps_[pythonList(index_, edge2_ps_.length)], 'xyz')"}], "variable": "xyz_end", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-uz4m9qy92x", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Calculate the middle of the curvature using the building's curvature depth."}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-7gqs80lspl2", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "xyz_middle", "jsValue": "xyz_middle_"}, {"name": "value", "value": "vecAdd(vecDiv(vecAdd(xyz_start, xyz_end), 2), [(BUILDING_CURVE_DEPTH + 0.01) * 0.3, 0, 0])", "usedVars": ["BUILDING_CURVE_DEPTH", "xyz_start", "xyz_end"], "jsValue": "vecAdd(__debug__, vecDiv(__debug__, vecAdd(__debug__, xyz_start_, xyz_end_), 2), [(BUILDING_CURVE_DEPTH_ + 0.01) * 0.3, 0, 0])"}], "variable": "xyz_middle", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-ghykclwp467", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Bezier"}, "argCount": 4, "args": [{"name": "var_name", "value": "h_bezier", "jsValue": "h_bezier_"}, {"name": "__model__"}, {"name": "coords", "value": "vecAdd([xyz_start, xyz_middle, xyz_end], [0, 0, FLOOR_HEIGHT * (index - 1)])", "usedVars": ["FLOOR_HEIGHT", "xyz_start", "xyz_end", "xyz_middle", "index"], "jsValue": "vecAdd(__debug__, [xyz_start_, xyz_middle_, xyz_end_], [0, 0, FLOOR_HEIGHT_ * (index_ - 1)])"}, {"name": "num_positions", "value": "5", "usedVars": [], "jsValue": "5"}], "variable": "h_bezier", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-7ui98pqxtrw", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "h_curve_pl", "jsValue": "h_curve_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "h_bezier", "usedVars": ["h_bezier"], "jsValue": "h_bezier_"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "h_curve_pl", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-ckqczfnncsw", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "h_curve2_pl", "jsValue": "h_curve2_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "h_curve_pl", "usedVars": ["h_curve_pl"], "jsValue": "h_curve_pl_"}, {"name": "vector", "value": "[0, 0, FLOOR_HEIGHT]", "usedVars": ["FLOOR_HEIGHT"], "jsValue": "[0, 0, FLOOR_HEIGHT_]"}], "variable": "h_curve2_pl"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-pjsi2u4pyfb", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Store both horizontal curves into a collection for us to reference later."}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-f3zfc7ee8ww", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_roof_pl", "usedVars": ["col_roof_pl"], "jsValue": "col_roof_pl_"}, {"name": "entities", "value": "[h_curve_pl, h_curve2_pl]", "usedVars": ["h_curve_pl", "h_curve2_pl"], "jsValue": "[h_curve_pl_, h_curve2_pl_]"}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-bbmcrbp8vea", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "If this is the first roof frame generated, keep track of it."}]}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24", "ID": "prod-fmh5xq9ect", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "index == 1", "usedVars": ["index"], "jsValue": "index_ == 1"}], "children": [{"type": 13, "ID": "prod-fmh5xq9ect-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24~children~11", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24~children~11", "ID": "prod-yt8teopwy9", "enabled": true, "print": true, "argCount": 2, "args": [{"name": "var_name", "value": "first_roof", "jsValue": "first_roof_"}, {"name": "value", "value": "h_curve2_pl", "usedVars": ["h_curve2_pl"], "jsValue": "h_curve2_pl_"}], "variable": "first_roof"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~24~children~11", "ID": "prod-2cj47h2bnxx", "enabled": true, "print": true, "argCount": 2, "args": [{"name": "var_name", "value": "first_base", "jsValue": "first_base_"}, {"name": "value", "value": "h_curve_pl", "usedVars": ["h_curve_pl"], "jsValue": "h_curve_pl_"}], "variable": "first_base", "selectGeom": false}]}], "variable": "index"}, {"type": 14, "ID": "prod-cxdyymzl2fv", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Add the highest horizontal edge for the long side to pair with the terraced roof edges."}], "selectGeom": false}, {"type": 8, "ID": "prod-zizkelo2hhp", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_roof_pl", "usedVars": ["col_roof_pl"], "jsValue": "col_roof_pl_"}, {"name": "entities", "value": "col_long_h_pl#pl[len(col_long_h_pl#pl)-1]", "usedVars": ["col_long_h_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)[pythonList(len(__debug__,  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)) - 1, __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_).length)]"}], "selectGeom": false, "terminate": false}, {"type": 14, "ID": "prod-p5rezxepqt", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Prepare to add the generated flat edges into the collection"}]}, {"type": 8, "ID": "prod-8la2pqzr08c", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_west_h_lines", "jsValue": "col_west_h_lines_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_west_h_lines\"", "usedVars": [], "jsValue": "\"tower_west_h_lines\""}], "variable": "col_west_h_lines", "selectGeom": false}, {"type": 8, "ID": "prod-pao3drp2fr", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_east_h_lines", "jsValue": "col_east_h_lines_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_east_h_lines\"", "usedVars": [], "jsValue": "\"tower_east_h_lines\""}], "variable": "col_east_h_lines", "selectGeom": false}, {"type": 14, "ID": "prod-ejyeivulc4", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Duplicate the edge but using only the two end positions to allow for lofting"}], "selectGeom": false}, {"type": 0, "ID": "prod-8vjk36mcb5j", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "west_edge", "jsValue": "west_edge_"}, {"name": "value", "value": "roof_edges[0]", "usedVars": ["roof_edges"], "jsValue": "roof_edges_[pythonList(0, roof_edges_.length)]"}], "variable": "west_edge", "selectGeom": false}, {"type": 8, "ID": "prod-dq4jbn1gaq", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "west_pl", "jsValue": "west_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "[west_edge#ps[0] , west_edge#ps[-1] ]", "usedVars": ["west_edge"], "jsValue": "[ __modules__.query.Get(__params__.model, 'ps', west_edge_)[pythonList(0, __modules__.query.Get(__params__.model, 'ps', west_edge_).length)],  __modules__.query.Get(__params__.model, 'ps', west_edge_)[pythonList(-1, __modules__.query.Get(__params__.model, 'ps', west_edge_).length)]]"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "selectGeom": false, "variable": "west_pl"}, {"type": 8, "ID": "prod-qo704cygx6", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_west_h_lines", "usedVars": ["col_west_h_lines"], "jsValue": "col_west_h_lines_"}, {"name": "entities", "value": "west_pl", "usedVars": ["west_pl"], "jsValue": "west_pl_"}], "selectGeom": false}, {"type": 0, "ID": "prod-ejhhc8svotj", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "east_edge", "jsValue": "east_edge_"}, {"name": "value", "value": "roof_edges[1]", "usedVars": ["roof_edges"], "jsValue": "roof_edges_[pythonList(1, roof_edges_.length)]"}], "variable": "east_edge", "selectGeom": false}, {"type": 8, "ID": "prod-t1qr7i65ap", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "east_pl", "jsValue": "east_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "[east_edge#ps[0] , east_edge#ps[-1] ]", "usedVars": ["east_edge"], "jsValue": "[ __modules__.query.Get(__params__.model, 'ps', east_edge_)[pythonList(0, __modules__.query.Get(__params__.model, 'ps', east_edge_).length)],  __modules__.query.Get(__params__.model, 'ps', east_edge_)[pythonList(-1, __modules__.query.Get(__params__.model, 'ps', east_edge_).length)]]"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "selectGeom": false, "variable": "east_pl"}, {"type": 8, "ID": "prod-kpg8w5oborg", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_east_h_lines", "usedVars": ["col_east_h_lines"], "jsValue": "col_east_h_lines_"}, {"name": "entities", "value": "east_pl", "usedVars": ["east_pl"], "jsValue": "east_pl_"}], "selectGeom": false}, {"type": 14, "ID": "prod-do4e31r9j1o", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Now we use the divided polyline to create a frame for the West side."}]}, {"type": 4, "ID": "prod-0n4bbt1331b", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, len(edge1_ps#ps ))", "usedVars": ["edge1_ps"], "jsValue": "range(__debug__, 0, len(__debug__,  __modules__.query.Get(__params__.model, 'ps', edge1_ps_)))"}], "children": [{"type": 13, "ID": "prod-0n4bbt1331b-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38", "ID": "prod-9dezub00w6s", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "sub_ps", "jsValue": "sub_ps_"}, {"name": "value", "value": "edge1_ps#ps[index:]", "usedVars": ["edge1_ps", "index"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', edge1_ps_).slice(index_)"}], "variable": "sub_ps"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38", "ID": "prod-nwv59p7z3em", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "sub_ps", "jsValue": "sub_ps_"}, {"name": "__model__"}, {"name": "entities", "value": "sub_ps", "usedVars": ["sub_ps"], "jsValue": "sub_ps_"}, {"name": "vector", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}], "variable": "sub_ps", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38", "ID": "prod-ec9e06i1k6o", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "base_pl", "jsValue": "base_pl_"}, {"name": "value", "value": "null", "usedVars": [], "jsValue": "null"}], "variable": "base_pl"}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38", "ID": "prod-ihnq67xpx4s", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "len(sub_ps) > 1", "usedVars": ["sub_ps"], "jsValue": "len(__debug__, sub_ps_) > 1"}], "children": [{"type": 13, "ID": "prod-ihnq67xpx4s-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38~children~4", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38~children~4", "ID": "prod-yiwwyjmc88", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Use the long bezier curve's position as the last position so the edges do not protrude."}]}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38~children~4", "ID": "prod-5e6nmq10ayi", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "correct_pl", "jsValue": "correct_pl_"}, {"name": "value", "value": "col_long_h_pl#pl[len(col_short_h_pl#pl)+index-1] #ps[0]", "usedVars": ["col_short_h_pl", "col_long_h_pl", "index"], "jsValue": "__modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)[pythonList(len(__debug__,  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)) + index_ - 1, __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_).length)])[pythonList(0, __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)[pythonList(len(__debug__,  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)) + index_ - 1, __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_).length)]).length)]"}], "variable": "correct_pl"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38~children~4", "ID": "prod-k57c8zudmso", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "sub_ps", "usedVars": ["sub_ps"], "jsValue": "sub_ps_"}, {"name": "vectors", "value": "[0, 0, FLOOR_HEIGHT * index]", "usedVars": ["FLOOR_HEIGHT", "index"], "jsValue": "[0, 0, FLOOR_HEIGHT_ * index_]"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38~children~4", "ID": "prod-725j06vkcsh", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "sub_ps[-1]", "usedVars": ["sub_ps"], "jsValue": "sub_ps_[pythonList(-1, sub_ps_.length)]"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}]}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38~children~4", "ID": "prod-d90na3iqf9d", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "sub_ps", "jsValue": "sub_ps_", "usedVars": ["sub_ps"]}, {"name": "value", "value": "listJoin(sub_ps[ : -1], correct_pl)", "usedVars": ["correct_pl", "sub_ps"], "jsValue": "listJoin(__debug__, sub_ps_.slice(0,-1), correct_pl_)"}], "variable": "sub_ps"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38~children~4", "ID": "prod-uaosxoy0d7", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "sub_pl", "jsValue": "sub_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "sub_ps", "usedVars": ["sub_ps"], "jsValue": "sub_ps_"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "sub_pl", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38~children~4", "ID": "prod-v0fmwlpsyl7", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_west_h_lines", "usedVars": ["col_west_h_lines"], "jsValue": "col_west_h_lines_"}, {"name": "entities", "value": "sub_pl", "usedVars": ["sub_pl"], "jsValue": "sub_pl_"}]}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38~children~4", "ID": "prod-a8ihr77pybb", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "len(sub_ps) > 2", "usedVars": ["sub_ps"], "jsValue": "len(__debug__, sub_ps_) > 2"}], "children": [{"type": 13, "ID": "prod-ty866qodns", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38~children~4~children~8", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38~children~4~children~8", "ID": "prod-3kzbxbp3hy", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "base_ps", "jsValue": "base_ps_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "base_ps"}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38~children~4~children~8", "ID": "prod-4co4d5il55m", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "ps", "jsValue": "ps_"}, {"name": "list", "value": "sub_ps[1 :]", "usedVars": ["sub_ps"], "jsValue": "sub_ps_.slice(1)"}], "children": [{"type": 13, "ID": "prod-4co4d5il55m-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38~children~4~children~8~children~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38~children~4~children~8~children~2", "ID": "prod-5ilz51ji5sw", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "base_ps", "jsValue": "base_ps_"}, {"name": "value", "value": "listJoin(base_ps, ps)", "usedVars": ["base_ps", "ps"], "jsValue": "listJoin(__debug__, base_ps_, ps_)"}], "variable": "base_ps"}], "variable": "ps"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38~children~4~children~8", "ID": "prod-tzga1u5d26", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "base_pl", "jsValue": "base_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "base_ps", "usedVars": ["base_ps"], "jsValue": "base_ps_"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "base_pl"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~38~children~4~children~8", "ID": "prod-84v1u167mp6", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_west_h_lines", "usedVars": ["col_west_h_lines"], "jsValue": "col_west_h_lines_"}, {"name": "entities", "value": "base_pl", "usedVars": ["base_pl"], "jsValue": "base_pl_"}], "selectGeom": false}], "selectGeom": false}]}], "variable": "index"}, {"type": 14, "ID": "prod-a82cqjrf3rm", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Repeat for the East side."}]}, {"type": 4, "ID": "prod-o3bxwwhsh7h", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, len(edge1_ps#ps ))", "usedVars": ["edge1_ps"], "jsValue": "range(__debug__, 0, len(__debug__,  __modules__.query.Get(__params__.model, 'ps', edge1_ps_)))"}], "children": [{"type": 13, "ID": "prod-jqjt5tu0hb", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40", "ID": "prod-92xbhkx58j", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "sub_ps", "jsValue": "sub_ps_"}, {"name": "value", "value": "edge2_ps#ps[index:]", "usedVars": ["edge2_ps", "index"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', edge2_ps_).slice(index_)"}], "variable": "sub_ps", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40", "ID": "prod-dlv6l33xt", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "sub_ps", "jsValue": "sub_ps_"}, {"name": "__model__"}, {"name": "entities", "value": "sub_ps", "usedVars": ["sub_ps"], "jsValue": "sub_ps_"}, {"name": "vector", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}], "variable": "sub_ps", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40", "ID": "prod-r53mdq52xai", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "base_pl", "jsValue": "base_pl_"}, {"name": "value", "value": "null", "usedVars": [], "jsValue": "null"}], "variable": "base_pl", "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40", "ID": "prod-9ex8yb4ggu4", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "len(sub_ps) > 1", "usedVars": ["sub_ps"], "jsValue": "len(__debug__, sub_ps_) > 1"}], "children": [{"type": 13, "ID": "prod-g4uoiguuhbp", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40~children~4", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40~children~4", "ID": "prod-tkzthelusfr", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Use the long bezier curve's position as the last position so the edges do not protrude."}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40~children~4", "ID": "prod-nbpbmenacvd", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "correct_pl", "jsValue": "correct_pl_"}, {"name": "value", "value": "col_long_h_pl#pl[len(col_short_h_pl#pl)+index-1] #ps[-1]", "usedVars": ["col_short_h_pl", "col_long_h_pl", "index"], "jsValue": "__modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)[pythonList(len(__debug__,  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)) + index_ - 1, __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_).length)])[pythonList(-1, __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)[pythonList(len(__debug__,  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)) + index_ - 1, __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_).length)]).length)]"}], "variable": "correct_pl", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40~children~4", "ID": "prod-mbejqo2vxzh", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "sub_ps", "usedVars": ["sub_ps"], "jsValue": "sub_ps_"}, {"name": "vectors", "value": "[0, 0, FLOOR_HEIGHT * index]", "usedVars": ["FLOOR_HEIGHT", "index"], "jsValue": "[0, 0, FLOOR_HEIGHT_ * index_]"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40~children~4", "ID": "prod-4d6pzqk78rn", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "sub_ps[-1]", "usedVars": ["sub_ps"], "jsValue": "sub_ps_[pythonList(-1, sub_ps_.length)]"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40~children~4", "ID": "prod-3oj5nb74mcf", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "sub_ps", "jsValue": "sub_ps_", "usedVars": ["sub_ps"]}, {"name": "value", "value": "listJoin(sub_ps[ : -1], correct_pl)", "usedVars": ["correct_pl", "sub_ps"], "jsValue": "listJoin(__debug__, sub_ps_.slice(0,-1), correct_pl_)"}], "variable": "sub_ps", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40~children~4", "ID": "prod-078f6dwyslh5", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "sub_pl", "jsValue": "sub_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "sub_ps", "usedVars": ["sub_ps"], "jsValue": "sub_ps_"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "sub_pl", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40~children~4", "ID": "prod-jfa95c8hwme", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_east_h_lines", "usedVars": ["col_east_h_lines"], "jsValue": "col_east_h_lines_"}, {"name": "entities", "value": "sub_pl", "usedVars": ["sub_pl"], "jsValue": "sub_pl_"}], "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40~children~4", "ID": "prod-przh6d6jban", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "len(sub_ps) > 2", "usedVars": ["sub_ps"], "jsValue": "len(__debug__, sub_ps_) > 2"}], "children": [{"type": 13, "ID": "prod-ygkv4pltwc", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40~children~4~children~8", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40~children~4~children~8", "ID": "prod-a5iujvndsiu", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "base_ps", "jsValue": "base_ps_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "base_ps", "selectGeom": false}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40~children~4~children~8", "ID": "prod-9qltjaz7pm", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "ps", "jsValue": "ps_"}, {"name": "list", "value": "sub_ps[1 :]", "usedVars": ["sub_ps"], "jsValue": "sub_ps_.slice(1)"}], "children": [{"type": 13, "ID": "prod-wo77jvhf54q", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40~children~4~children~8~children~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40~children~4~children~8~children~2", "ID": "prod-l8whq15llz8", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "base_ps", "jsValue": "base_ps_"}, {"name": "value", "value": "listJoin(base_ps, ps)", "usedVars": ["base_ps", "ps"], "jsValue": "listJoin(__debug__, base_ps_, ps_)"}], "variable": "base_ps", "selectGeom": false}], "variable": "ps", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40~children~4~children~8", "ID": "prod-94v20t46tp", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "base_pl", "jsValue": "base_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "base_ps", "usedVars": ["base_ps"], "jsValue": "base_ps_"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "base_pl", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40~children~4~children~8", "ID": "prod-eaojee7nhol", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_east_h_lines", "usedVars": ["col_east_h_lines"], "jsValue": "col_east_h_lines_"}, {"name": "entities", "value": "base_pl", "usedVars": ["base_pl"], "jsValue": "base_pl_"}], "selectGeom": false}], "selectGeom": false}], "selectGeom": false}], "variable": "index", "selectGeom": false}, {"type": 14, "ID": "prod-xcfxlqtv4fm", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Find points to create the \"dormer\" so the first floor of the terrace roof is an L shape"}]}, {"type": 0, "ID": "prod-hjx3wgjute8", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "highest_short_h_pl", "jsValue": "highest_short_h_pl_"}, {"name": "value", "value": "col_short_h_pl#pl[-1]", "usedVars": ["col_short_h_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)[pythonList(-1, __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_).length)]"}], "variable": "highest_short_h_pl", "terminate": false}, {"type": 0, "ID": "prod-0yig44i1kmc", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "dormer_front_ps", "jsValue": "dormer_front_ps_"}, {"name": "value", "value": "[first_roof#ps[-2] , first_roof#ps[-1] ]", "usedVars": ["first_roof"], "jsValue": "[ __modules__.query.Get(__params__.model, 'ps', first_roof_)[pythonList(-2, __modules__.query.Get(__params__.model, 'ps', first_roof_).length)],  __modules__.query.Get(__params__.model, 'ps', first_roof_)[pythonList(-1, __modules__.query.Get(__params__.model, 'ps', first_roof_).length)]]"}], "variable": "dormer_front_ps"}, {"type": 0, "ID": "prod-0yqzxocyrs7", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "dormer_back_ps", "jsValue": "dormer_back_ps_"}, {"name": "value", "value": "[highest_short_h_pl#ps[-1] , highest_short_h_pl#ps[-2] ]", "usedVars": ["highest_short_h_pl"], "jsValue": "[ __modules__.query.Get(__params__.model, 'ps', highest_short_h_pl_)[pythonList(-1, __modules__.query.Get(__params__.model, 'ps', highest_short_h_pl_).length)],  __modules__.query.Get(__params__.model, 'ps', highest_short_h_pl_)[pythonList(-2, __modules__.query.Get(__params__.model, 'ps', highest_short_h_pl_).length)]]"}], "variable": "dormer_back_ps"}, {"type": 8, "ID": "prod-tx7fqkr5pcs", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "dormer_raised_ps", "jsValue": "dormer_raised_ps_"}, {"name": "__model__"}, {"name": "entities", "value": "dormer_back_ps", "usedVars": ["dormer_back_ps"], "jsValue": "dormer_back_ps_"}, {"name": "vector", "value": "[0, 0, FLOOR_HEIGHT]", "usedVars": ["FLOOR_HEIGHT"], "jsValue": "[0, 0, FLOOR_HEIGHT_]"}], "variable": "dormer_raised_ps"}, {"type": 0, "ID": "prod-qjqbwt6ij", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "dormer_lowered_ps", "jsValue": "dormer_lowered_ps_"}, {"name": "value", "value": "[first_base#ps[-2] , first_base#ps[-1] ]", "usedVars": ["first_base"], "jsValue": "[ __modules__.query.Get(__params__.model, 'ps', first_base_)[pythonList(-2, __modules__.query.Get(__params__.model, 'ps', first_base_).length)],  __modules__.query.Get(__params__.model, 'ps', first_base_)[pythonList(-1, __modules__.query.Get(__params__.model, 'ps', first_base_).length)]]"}], "variable": "dormer_lowered_ps", "selectGeom": false}, {"type": 8, "ID": "prod-pa1f35ofxn", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "dormer_pl", "jsValue": "dormer_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "[dormer_front_ps[1], dormer_raised_ps[0], dormer_raised_ps[1], dormer_front_ps[0]]", "usedVars": ["dormer_front_ps", "dormer_raised_ps"], "jsValue": "[dormer_front_ps_[pythonList(1, dormer_front_ps_.length)], dormer_raised_ps_[pythonList(0, dormer_raised_ps_.length)], dormer_raised_ps_[pythonList(1, dormer_raised_ps_.length)], dormer_front_ps_[pythonList(0, dormer_front_ps_.length)]]"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "dormer_pl"}, {"type": 8, "ID": "prod-9728y4kjm85", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "dormer_base_pl", "jsValue": "dormer_base_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "[dormer_lowered_ps[1], dormer_back_ps[0], dormer_back_ps[1], dormer_lowered_ps[0]]", "usedVars": ["dormer_back_ps", "dormer_lowered_ps"], "jsValue": "[dormer_lowered_ps_[pythonList(1, dormer_lowered_ps_.length)], dormer_back_ps_[pythonList(0, dormer_back_ps_.length)], dormer_back_ps_[pythonList(1, dormer_back_ps_.length)], dormer_lowered_ps_[pythonList(0, dormer_lowered_ps_.length)]]"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "dormer_base_pl", "selectGeom": false}, {"type": 8, "ID": "prod-3z6e8cm9gga", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "[dormer_pl, dormer_base_pl]", "usedVars": ["dormer_pl", "dormer_base_pl"], "jsValue": "[dormer_pl_, dormer_base_pl_]"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"dormer\"", "usedVars": [], "jsValue": "\"dormer\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}]}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Create Floor Plates", "id": "node_e3bdn1a5d37", "position": {"x": 5160, "y": 5580}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-axx3gq12osk", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "This node will generate floor plates for the tower and the terraced roof."}]}, {"type": 14, "ID": "prod-ponef83w8fn", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Prepare the references needed for this node."}]}, {"type": 8, "ID": "prod-7p3bqbuwxlf", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_short_h_pl", "jsValue": "col_short_h_pl_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_short_h_beziers\"", "usedVars": [], "jsValue": "\"tower_short_h_beziers\""}], "variable": "col_short_h_pl"}, {"type": 8, "ID": "prod-thtoue3j5tc", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_long_h_pl", "jsValue": "col_long_h_pl_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_long_h_beziers\"", "usedVars": [], "jsValue": "\"tower_long_h_beziers\""}], "variable": "col_long_h_pl", "selectGeom": false}, {"type": 0, "ID": "prod-5vjy19oi7v6", "enabled": true, "print": true, "argCount": 2, "args": [{"name": "var_name", "value": "short_h_pl", "jsValue": "short_h_pl_"}, {"name": "value", "value": "col_short_h_pl#pl", "usedVars": ["col_short_h_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)"}], "variable": "short_h_pl"}, {"type": 0, "ID": "prod-2a2r3huj5o1", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "long_h_pl", "jsValue": "long_h_pl_"}, {"name": "value", "value": "col_long_h_pl#pl", "usedVars": ["col_long_h_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)"}], "variable": "long_h_pl"}, {"type": 8, "ID": "prod-ichr9vdsb3n", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "col_floors", "jsValue": "col_floors_"}, {"name": "__model__"}, {"name": "entities", "value": "[]", "usedVars": [], "jsValue": "[]"}, {"name": "name", "value": "\"tower_floors\"", "usedVars": [], "jsValue": "\"tower_floors\""}], "variable": "col_floors"}, {"type": 14, "ID": "prod-i0s4fhjb4n8", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "We will append to the short edges list so they have a pair with the long edge."}]}, {"type": 14, "ID": "prod-f9vse1rhdet", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "We skip the first two elements (they are part of the tower's floor plate) and append only the even elements (representing the short side)."}], "selectGeom": false}, {"type": 8, "ID": "prod-rqvv35ppkv7", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_roof_pl", "jsValue": "col_roof_pl_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_roof_curves\"", "usedVars": [], "jsValue": "\"tower_roof_curves\""}], "variable": "col_roof_pl", "selectGeom": false}, {"type": 0, "ID": "prod-nvp1urotrzb", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "col_roof_pl", "jsValue": "col_roof_pl_"}, {"name": "value", "value": "col_roof_pl#pl[2:]", "usedVars": ["col_roof_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'pl', col_roof_pl_).slice(2)"}], "variable": "col_roof_pl"}, {"type": 4, "ID": "prod-jyzup5t0s0p", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, len(col_roof_pl), 2)", "usedVars": ["col_roof_pl"], "jsValue": "range(__debug__, 0, len(__debug__, col_roof_pl_), 2)"}], "children": [{"type": 13, "ID": "prod-jyzup5t0s0p-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~12", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "ID": "prod-v5pcf741fl", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "short_h_pl", "jsValue": "short_h_pl_"}, {"name": "value", "value": "listJoin(short_h_pl, col_roof_pl[index])", "usedVars": ["short_h_pl", "col_roof_pl", "index"], "jsValue": "listJoin(__debug__, short_h_pl_, col_roof_pl_[pythonList(index_, col_roof_pl_.length)])"}], "variable": "short_h_pl", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~12"}], "variable": "index"}, {"type": 14, "ID": "prod-iyw2ubm0fl", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Generate floor plates using positions from the horizontal curves, and save them into a collection."}]}, {"type": 4, "ID": "prod-c91d2ux0o2n", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, len(short_h_pl))", "usedVars": ["short_h_pl"], "jsValue": "range(__debug__, 0, len(__debug__, short_h_pl_))"}], "children": [{"type": 13, "ID": "prod-c91d2ux0o2n-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~14", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~14", "ID": "prod-b54ieucy6bb", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "floor_pg", "jsValue": "floor_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "listJoin(listRev(short_h_pl[index]#ps ), long_h_pl[index]#ps )", "usedVars": ["short_h_pl", "long_h_pl", "index"], "jsValue": "listJoin(__debug__, listRev(__debug__,  __modules__.query.Get(__params__.model, 'ps', short_h_pl_[pythonList(index_, short_h_pl_.length)])),  __modules__.query.Get(__params__.model, 'ps', long_h_pl_[pythonList(index_, long_h_pl_.length)]))"}], "variable": "floor_pg"}, {"type": 14, "ID": "prod-7488kqv43ho", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Tag all floor plates with an attribute for reference downstream."}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~14"}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~14", "ID": "prod-9piccvgnvkh", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "index <= len(col_short_h_pl#pl )", "usedVars": ["col_short_h_pl", "index"], "jsValue": "index_ <= len(__debug__,  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_))"}], "children": [{"type": 13, "ID": "prod-9piccvgnvkh-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~14~children~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-vteapoxbv6m", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floor_pg", "usedVars": ["floor_pg"], "jsValue": "floor_pg_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"tower_floor\"", "usedVars": [], "jsValue": "\"tower_floor\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~14~children~3"}]}, {"type": 3, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~14", "ID": "prod-swd0t5e54a", "enabled": true, "print": false, "argCount": 0, "args": [], "children": [{"type": 13, "ID": "prod-swd0t5e54a-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~14~children~4", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-6d80xzzotb7", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floor_pg", "usedVars": ["floor_pg"], "jsValue": "floor_pg_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"terrace_roof\"", "usedVars": [], "jsValue": "\"terrace_roof\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~14~children~4"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~14", "ID": "prod-g65jfyn3axd", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_floors", "usedVars": ["col_floors"], "jsValue": "col_floors_"}, {"name": "entities", "value": "floor_pg", "usedVars": ["floor_pg"], "jsValue": "floor_pg_"}]}], "variable": "index"}, {"type": 14, "ID": "prod-g7gopyvr7q", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create a floor plate for the dormer"}]}, {"type": 0, "ID": "prod-3vzqqcdahqe", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "dormer_pl", "jsValue": "dormer_pl_"}, {"name": "value", "value": "#pl ?@type==\"dormer\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pl', null), ['type', null], '==', \"dormer\")"}], "variable": "dormer_pl"}, {"type": 8, "ID": "prod-0hpjkji23cn", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "dormer_pg", "jsValue": "dormer_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "dormer_pl", "usedVars": ["dormer_pl"], "jsValue": "dormer_pl_"}], "variable": "dormer_pg"}, {"type": 14, "ID": "prod-co16xdnavb5", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Extrude the dormer's floor."}]}, {"type": 8, "ID": "prod-khsa8veunh", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "dormer_floor", "jsValue": "dormer_floor_"}, {"name": "__model__"}, {"name": "entities", "value": "dormer_pg[1]", "usedVars": ["dormer_pg"], "jsValue": "dormer_pg_[pythonList(1, dormer_pg_.length)]"}, {"name": "dist", "value": "0.1", "usedVars": [], "jsValue": "0.1"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "dormer_floor"}, {"type": 8, "ID": "prod-qsamtvoucpd", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "dormer_floor", "usedVars": ["dormer_floor"], "jsValue": "dormer_floor_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"dormer_floor\"", "usedVars": [], "jsValue": "\"dormer_floor\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}]}, {"type": 8, "ID": "prod-ykfoettbie", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_floors", "usedVars": ["col_floors"], "jsValue": "col_floors_"}, {"name": "entities", "value": "dormer_pg[0]", "usedVars": ["dormer_pg"], "jsValue": "dormer_pg_[pythonList(0, dormer_pg_.length)]"}], "selectGeom": false}, {"type": 14, "ID": "prod-wjdf4cug9k9", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Make sure all floor plates face upwards"}]}, {"type": 18, "ID": "prod-67ieugr6eg5", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "localFunc", "name": "FixNormals"}, "args": [{"name": "__none__"}, {"name": "pgon_entities", "value": "col_floors#pg", "usedVars": ["col_floors"], "jsValue": "__modules__.query.Get(__params__.model, 'pg', col_floors_)"}]}, {"type": 14, "ID": "prod-rk9ia983i1", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create beams around each floor plate"}], "selectGeom": false}, {"type": 4, "ID": "prod-e8d3dgmsv38", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "pg", "jsValue": "pg_"}, {"name": "list", "value": "col_floors#pg", "usedVars": ["col_floors"], "jsValue": "__modules__.query.Get(__params__.model, 'pg', col_floors_)"}], "children": [{"type": 13, "ID": "prod-e8d3dgmsv38-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~25", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-9lcxflp8zxu", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Rectangle"}, "argCount": 4, "args": [{"name": "var_name", "value": "rec", "jsValue": "rec_"}, {"name": "__model__"}, {"name": "origin", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "size", "value": "[1.5, 1.5]", "usedVars": [], "jsValue": "[1.5, 1.5]"}], "variable": "rec", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~25"}, {"type": 8, "ID": "prod-2pwp90o0zvp", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "xsection", "jsValue": "xsection_"}, {"name": "__model__"}, {"name": "entities", "value": "rec", "usedVars": ["rec"], "jsValue": "rec_"}, {"name": "close", "value": "'close'", "jsValue": "'close'", "usedVars": []}], "variable": "xsection", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~25"}, {"type": 8, "ID": "prod-j8jwar2i7bl", "enabled": true, "print": false, "meta": {"module": "make", "name": "Sweep"}, "argCount": 6, "args": [{"name": "var_name", "value": "horizontal_beams", "jsValue": "horizontal_beams_"}, {"name": "__model__"}, {"name": "entities", "value": "pg", "usedVars": ["pg"], "jsValue": "pg_"}, {"name": "x_section", "value": "xsection", "usedVars": ["xsection"], "jsValue": "xsection_"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "horizontal_beams", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~25"}, {"type": 8, "ID": "prod-oavwhlym9ap", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "horizontal_beams", "usedVars": ["horizontal_beams"], "jsValue": "horizontal_beams_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"beams\"", "usedVars": [], "jsValue": "\"beams\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~25"}], "variable": "pg"}, {"type": 8, "ID": "prod-848306i3ppj", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_floors", "usedVars": ["col_floors"], "jsValue": "col_floors_"}, {"name": "entities", "value": "dormer_pg[1]", "usedVars": ["dormer_pg"], "jsValue": "dormer_pg_[pythonList(1, dormer_pg_.length)]"}], "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 16, "ID": "prod-dqwuri62goa", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "FixNormals", "num_returns": 0, "collapsed": false}}, "args": [{"name": "func_name", "value": "FixNormals", "jsValue": "FixNormals_"}, {"name": "arg_1", "value": "pgon_entities", "jsValue": "pgon_entities_", "usedVars": ["pgon_entities"]}], "children": [{"type": 13, "ID": "prod-tpuvfbuwmvi", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 4, "ID": "prod-y7yjxh5bfq", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, len(pgon_entities))", "usedVars": ["pgon_entities"], "jsValue": "range(__debug__, 0, len(__debug__, pgon_entities_))"}], "children": [{"type": 13, "ID": "prod-uzkiy39cw7e", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-am1wplsjoad", "enabled": false, "print": false, "meta": {"module": "calc", "name": "Centroid"}, "argCount": 4, "args": [{"name": "var_name", "value": "avg_coord", "jsValue": "avg_coord_"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_entities#pg[index]", "usedVars": ["index", "pgon_entities"], "jsValue": "__modules__.query.Get(__params__.model, 'pg', pgon_entities_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pg', pgon_entities_).length)]"}, {"name": "method", "value": "'ps_average'", "usedVars": [], "jsValue": "'ps_average'"}], "variable": "avg_coord", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-qirnn97m1kc", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Normal"}, "argCount": 4, "args": [{"name": "var_name", "value": "panel_normal", "jsValue": "panel_normal_"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_entities#pg[index]", "usedVars": ["index", "pgon_entities"], "jsValue": "__modules__.query.Get(__params__.model, 'pg', pgon_entities_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pg', pgon_entities_).length)]"}, {"name": "scale", "value": "10", "usedVars": [], "jsValue": "10"}], "variable": "panel_normal", "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-jqk9lsz3rk", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "panel_normal[2] < 0", "usedVars": ["panel_normal"], "jsValue": "panel_normal_[pythonList(2, panel_normal_.length)] < 0"}], "children": [{"type": 13, "ID": "prod-b5n71etys5", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~3", "ID": "prod-rqd2dmfo6wo", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Reverse"}, "argCount": 3, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_entities#pg[index]", "usedVars": ["index", "pgon_entities"], "jsValue": "__modules__.query.Get(__params__.model, 'pg', pgon_entities_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pg', pgon_entities_).length)]"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1~children~3", "ID": "prod-k0q7b7yoeon", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Shift"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_entities#pg[index]", "usedVars": ["index", "pgon_entities"], "jsValue": "__modules__.query.Get(__params__.model, 'pg', pgon_entities_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pg', pgon_entities_).length)]"}, {"name": "offset", "value": "1", "usedVars": [], "jsValue": "1"}], "selectGeom": false}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-hofcs63rxo9", "enabled": false, "print": false, "meta": {"module": "calc", "name": "Normal"}, "argCount": 4, "args": [{"name": "var_name", "value": "panel_normal", "jsValue": "panel_normal_"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_entities#pg[index]", "usedVars": ["index", "pgon_entities"], "jsValue": "__modules__.query.Get(__params__.model, 'pg', pgon_entities_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pg', pgon_entities_).length)]"}, {"name": "scale", "value": "10", "usedVars": [], "jsValue": "10"}], "variable": "panel_normal", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~1", "ID": "prod-8jxz397pdul", "enabled": false, "print": false, "meta": {"module": "visualize", "name": "Ray"}, "argCount": 4, "args": [{"name": "var_name", "value": "viz_ray", "jsValue": "viz_ray_"}, {"name": "__model__"}, {"name": "rays", "value": "[avg_coord, panel_normal]", "usedVars": ["avg_coord", "panel_normal"], "jsValue": "[avg_coord_, panel_normal_]"}, {"name": "scale", "value": "1", "usedVars": [], "jsValue": "1"}], "variable": "viz_ray", "selectGeom": false}], "variable": "index", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1"}], "variable": null, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Create Roof Skeleton (Frame)", "id": "node_pdn2wey2t6s", "position": {"x": 5160, "y": 5680}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-l13kopb9i7i", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "This node creates the basic gridded roof frame skeleton."}]}, {"type": 14, "ID": "prod-tqar3jxx5za", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "We keep track of all created polylines so we can fuse their positions."}]}, {"type": 0, "ID": "prod-63bahjis2d3", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "created_pl", "jsValue": "created_pl_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "created_pl"}, {"type": 14, "ID": "prod-o31vz3rssbp", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create variables to hold useful references."}]}, {"type": 0, "ID": "prod-xwqwym3em8e", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "offset_from_roof", "jsValue": "offset_from_roof_"}, {"name": "value", "value": "30 - (BUILDING_SIZE_X + BUILDING_SIZE_Y) * 0.1", "usedVars": ["BUILDING_SIZE_Y", "BUILDING_SIZE_X"], "jsValue": "30 - (BUILDING_SIZE_X_ + BUILDING_SIZE_Y_) * 0.1"}], "variable": "offset_from_roof"}, {"type": 0, "ID": "prod-gncr8nl80hb", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "offset_from_edge", "jsValue": "offset_from_edge_"}, {"name": "value", "value": "(BUILDING_SIZE_X + BUILDING_SIZE_Y) * 0.1", "usedVars": ["BUILDING_SIZE_Y", "BUILDING_SIZE_X"], "jsValue": "(BUILDING_SIZE_X_ + BUILDING_SIZE_Y_) * 0.1"}], "variable": "offset_from_edge", "selectGeom": false}, {"type": 14, "ID": "prod-p5jpngl0vq", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Get references to the positions for the origins of the roof frame."}]}, {"type": 8, "ID": "prod-zg9ny69nmpc", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_short_pl", "jsValue": "col_short_pl_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_short_bezier?\"", "usedVars": [], "jsValue": "\"tower_short_bezier?\""}], "variable": "col_short_pl", "selectGeom": false}, {"type": 8, "ID": "prod-spajbdtad4q", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_long_pl", "jsValue": "col_long_pl_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_long_bezier?\"", "usedVars": [], "jsValue": "\"tower_long_bezier?\""}], "variable": "col_long_pl", "selectGeom": false}, {"type": 0, "ID": "prod-n52wo5jq2yl", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "low_corner_ps", "jsValue": "low_corner_ps_"}, {"name": "value", "value": "col_short_pl[0]#ps[-1]", "usedVars": ["col_short_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', col_short_pl_[pythonList(0, col_short_pl_.length)])[pythonList(-1, __modules__.query.Get(__params__.model, 'ps', col_short_pl_[pythonList(0, col_short_pl_.length)]).length)]"}], "variable": "low_corner_ps", "terminate": false}, {"type": 0, "ID": "prod-qt60l3ok41b", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "high_corners_ps", "jsValue": "high_corners_ps_"}, {"name": "value", "value": "[col_short_pl[1]#ps[-1] , col_long_pl[1]#ps[-1] , col_long_pl[0]#ps[-1] ]", "usedVars": ["col_short_pl", "col_long_pl"], "jsValue": "[ __modules__.query.Get(__params__.model, 'ps', col_short_pl_[pythonList(1, col_short_pl_.length)])[pythonList(-1, __modules__.query.Get(__params__.model, 'ps', col_short_pl_[pythonList(1, col_short_pl_.length)]).length)],  __modules__.query.Get(__params__.model, 'ps', col_long_pl_[pythonList(1, col_long_pl_.length)])[pythonList(-1, __modules__.query.Get(__params__.model, 'ps', col_long_pl_[pythonList(1, col_long_pl_.length)]).length)],  __modules__.query.Get(__params__.model, 'ps', col_long_pl_[pythonList(0, col_long_pl_.length)])[pythonList(-1, __modules__.query.Get(__params__.model, 'ps', col_long_pl_[pythonList(0, col_long_pl_.length)]).length)]]"}], "variable": "high_corners_ps"}, {"type": 14, "ID": "prod-75kxy6k54pb", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Move the anchor positions upwards to their default positions."}]}, {"type": 8, "ID": "prod-8w9kah56sb4", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "low_corner_ps", "jsValue": "low_corner_ps_"}, {"name": "__model__"}, {"name": "entities", "value": "col_short_pl[0]#ps[-1]", "usedVars": ["col_short_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', col_short_pl_[pythonList(0, col_short_pl_.length)])[pythonList(-1, __modules__.query.Get(__params__.model, 'ps', col_short_pl_[pythonList(0, col_short_pl_.length)]).length)]"}, {"name": "vector", "value": "[0, 0, offset_from_roof]", "usedVars": ["offset_from_roof"], "jsValue": "[0, 0, offset_from_roof_]"}], "variable": "low_corner_ps", "terminate": false}, {"type": 8, "ID": "prod-ayr1jbwwnmd", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "high_corners_ps", "jsValue": "high_corners_ps_"}, {"name": "__model__"}, {"name": "entities", "value": "high_corners_ps", "usedVars": ["high_corners_ps"], "jsValue": "high_corners_ps_"}, {"name": "vector", "value": "[0, 0, offset_from_roof]", "usedVars": ["offset_from_roof"], "jsValue": "[0, 0, offset_from_roof_]"}], "variable": "high_corners_ps"}, {"type": 8, "ID": "prod-k8w0dwyyz5", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "high_corners_ps", "usedVars": ["high_corners_ps"], "jsValue": "high_corners_ps_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"roof_base_positions\"", "usedVars": [], "jsValue": "\"roof_base_positions\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false}, {"type": 8, "ID": "prod-wbsm9yuqltn", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "high_corners_ps[0]", "usedVars": ["high_corners_ps"], "jsValue": "high_corners_ps_[pythonList(0, high_corners_ps_.length)]"}, {"name": "vectors", "value": "[0, 0, FLOOR_HEIGHT]", "usedVars": ["FLOOR_HEIGHT"], "jsValue": "[0, 0, FLOOR_HEIGHT_]"}]}, {"type": 14, "ID": "prod-52uxha6ga86", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Offset all anchor positions inwards."}], "selectGeom": false}, {"type": 8, "ID": "prod-gouhxrmdq48", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Centroid"}, "argCount": 4, "args": [{"name": "var_name", "value": "center_xyz", "jsValue": "center_xyz_"}, {"name": "__model__"}, {"name": "entities", "value": "listJoin(low_corner_ps, high_corners_ps)", "usedVars": ["low_corner_ps", "high_corners_ps"], "jsValue": "listJoin(__debug__, low_corner_ps_, high_corners_ps_)"}, {"name": "method", "value": "'ps_average'", "usedVars": [], "jsValue": "'ps_average'"}], "variable": "center_xyz", "terminate": false}, {"type": 14, "ID": "prod-6ro3el25yjm", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "The anchor positions on the shorter sides are offset fully."}]}, {"type": 4, "ID": "prod-8sfdhki6cyc", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "corner_ps", "jsValue": "corner_ps_"}, {"name": "list", "value": "listJoin(low_corner_ps, high_corners_ps[0])", "usedVars": ["low_corner_ps", "high_corners_ps"], "jsValue": "listJoin(__debug__, low_corner_ps_, high_corners_ps_[pythonList(0, high_corners_ps_.length)])"}], "children": [{"type": 13, "ID": "prod-8sfdhki6cyc-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~20", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~20", "ID": "prod-15yty6h5bbb", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "dir_vector", "jsValue": "dir_vector_"}, {"name": "value", "value": "vecSub(center_xyz, corner_ps@xyz )", "usedVars": ["center_xyz", "corner_ps"], "jsValue": "vecSub(__debug__, center_xyz_,  __modules__.attrib.Get(__params__.model, corner_ps_, 'xyz'))"}], "variable": "dir_vector"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~20", "ID": "prod-8tz1spblpx4", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "dir_vector[2]", "jsValue": "dir_vector_[pythonList(2, dir_vector_.length)]", "usedVars": ["dir_vector"]}, {"name": "value", "value": "0", "usedVars": [], "jsValue": "0"}], "variable": null}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~20", "ID": "prod-a3k8t1ddtd9", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "dir_vector", "jsValue": "dir_vector_"}, {"name": "value", "value": "vecSetLen(vecNorm(dir_vector), offset_from_edge)", "usedVars": ["dir_vector", "offset_from_edge"], "jsValue": "vecSetLen(__debug__, vecNorm(__debug__, dir_vector_), offset_from_edge_)"}], "variable": "dir_vector"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~20", "ID": "prod-yg1n5ts06rf", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "corner_ps", "usedVars": ["corner_ps"], "jsValue": "corner_ps_"}, {"name": "vectors", "value": "dir_vector", "usedVars": ["dir_vector"], "jsValue": "dir_vector_"}]}], "variable": "corner_ps"}, {"type": 14, "ID": "prod-somggubvm8", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "The anchor positions on the higher sides are offset less."}], "selectGeom": false}, {"type": 4, "ID": "prod-w08wlzlv999", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "corner_ps", "jsValue": "corner_ps_"}, {"name": "list", "value": "high_corners_ps[1 :]", "usedVars": ["high_corners_ps"], "jsValue": "high_corners_ps_.slice(1)"}], "children": [{"type": 13, "ID": "prod-yu0c0i376m", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~22", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~22", "ID": "prod-2wklox40a22", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "dir_vector", "jsValue": "dir_vector_"}, {"name": "value", "value": "vecSub(center_xyz, corner_ps@xyz )", "usedVars": ["center_xyz", "corner_ps"], "jsValue": "vecSub(__debug__, center_xyz_,  __modules__.attrib.Get(__params__.model, corner_ps_, 'xyz'))"}], "variable": "dir_vector", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~22", "ID": "prod-grjwy2rx8tn", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "dir_vector[2]", "jsValue": "dir_vector_[pythonList(2, dir_vector_.length)]", "usedVars": ["dir_vector"]}, {"name": "value", "value": "0", "usedVars": [], "jsValue": "0"}], "variable": null, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~22", "ID": "prod-i4qxx2diwrh", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "dir_vector", "jsValue": "dir_vector_"}, {"name": "value", "value": "vecSetLen(vecNorm(dir_vector), offset_from_edge * 0.5)", "usedVars": ["dir_vector", "offset_from_edge"], "jsValue": "vecSetLen(__debug__, vecNorm(__debug__, dir_vector_), offset_from_edge_ * 0.5)"}], "variable": "dir_vector", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~22", "ID": "prod-trjscchmmy", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "corner_ps", "usedVars": ["corner_ps"], "jsValue": "corner_ps_"}, {"name": "vectors", "value": "dir_vector", "usedVars": ["dir_vector"], "jsValue": "dir_vector_"}], "selectGeom": false}], "variable": "corner_ps", "selectGeom": false}, {"type": 14, "ID": "prod-svy0pynnfjd", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create the base grid using the positions."}]}, {"type": 8, "ID": "prod-eisudddxd68", "enabled": true, "print": true, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "frame_pl", "jsValue": "frame_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "listJoin(low_corner_ps, high_corners_ps)", "usedVars": ["low_corner_ps", "high_corners_ps"], "jsValue": "listJoin(__debug__, low_corner_ps_, high_corners_ps_)"}, {"name": "close", "value": "'close'", "jsValue": "'close'", "usedVars": []}], "variable": "frame_pl", "selectGeom": false, "terminate": false}, {"type": 8, "ID": "prod-w8fqrg5cpai", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "created_pl", "usedVars": ["created_pl"], "jsValue": "created_pl_"}, {"name": "item", "value": "frame_pl", "usedVars": ["frame_pl"], "jsValue": "frame_pl_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "ID": "prod-iw1i8moxf1", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "frame_pl", "usedVars": ["frame_pl"], "jsValue": "frame_pl_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"roof_frame_base\"", "usedVars": [], "jsValue": "\"roof_frame_base\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false}, {"type": 14, "ID": "prod-zh1nm6jro7", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Get a list of all terraced roof horizontal polygons to use for collision checking."}]}, {"type": 8, "ID": "prod-dzjyjaq8jke", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_floors", "jsValue": "col_floors_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_floors\"", "usedVars": [], "jsValue": "\"tower_floors\""}], "variable": "col_floors"}, {"type": 8, "ID": "prod-1mb06b2c5p6g", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_roof_curves", "jsValue": "col_roof_curves_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_roof_curves\"", "usedVars": [], "jsValue": "\"tower_roof_curves\""}], "variable": "col_roof_curves", "selectGeom": false}, {"type": 0, "ID": "prod-vxt6fsxog", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_curves_pl", "jsValue": "roof_curves_pl_"}, {"name": "value", "value": "col_roof_curves#pl", "usedVars": ["col_roof_curves"], "jsValue": "__modules__.query.Get(__params__.model, 'pl', col_roof_curves_)"}], "variable": "roof_curves_pl", "selectGeom": false}, {"type": 0, "ID": "prod-cww8aylh6l9", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "terrace_pgs", "jsValue": "terrace_pgs_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "terrace_pgs"}, {"type": 4, "ID": "prod-2fknn3uyynj", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "floor", "jsValue": "floor_"}, {"name": "list", "value": "col_floors#pg", "usedVars": ["col_floors"], "jsValue": "__modules__.query.Get(__params__.model, 'pg', col_floors_)"}], "children": [{"type": 13, "ID": "prod-2fknn3uyynj-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~32", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~32", "ID": "prod-fcp8fd3u0vt", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "The floor is for the roof if it has a higher z position than the shorter side's highest position."}]}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~32", "ID": "prod-u94cx7h5ovs", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "floor#ps[0] @xyz[2] >= col_short_pl[0]#ps[-1] @xyz[2]", "usedVars": ["col_short_pl", "floor"], "jsValue": "__modules__.attrib.Get(__params__.model,  __modules__.query.Get(__params__.model, 'ps', floor_)[pythonList(0, __modules__.query.Get(__params__.model, 'ps', floor_).length)], ['xyz', 2])>=  __modules__.attrib.Get(__params__.model,  __modules__.query.Get(__params__.model, 'ps', col_short_pl_[pythonList(0, col_short_pl_.length)])[pythonList(-1, __modules__.query.Get(__params__.model, 'ps', col_short_pl_[pythonList(0, col_short_pl_.length)]).length)], ['xyz', 2])"}], "children": [{"type": 13, "ID": "prod-u94cx7h5ovs-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~32~children~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~32~children~2", "ID": "prod-vcnn7irl70j", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "terrace_pgs", "jsValue": "terrace_pgs_"}, {"name": "value", "value": "listJoin(terrace_pgs, floor)", "usedVars": ["terrace_pgs", "floor"], "jsValue": "listJoin(__debug__, terrace_pgs_, floor_)"}], "variable": "terrace_pgs"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~32~children~2", "ID": "prod-1tffkbjb1yz", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floor", "usedVars": ["floor"], "jsValue": "floor_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"terrace_roof\"", "usedVars": [], "jsValue": "\"terrace_roof\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}]}]}], "variable": "floor"}, {"type": 14, "ID": "prod-5qdzc5b2eh", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Move the higher anchors upwards until they do not intersect with any floor plane."}]}, {"type": 4, "ID": "prod-nnqp9tfx5zk", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "high_corner", "jsValue": "high_corner_"}, {"name": "list", "value": "high_corners_ps", "usedVars": ["high_corners_ps"], "jsValue": "high_corners_ps_"}], "children": [{"type": 13, "ID": "prod-nnqp9tfx5zk-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~34", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~34", "ID": "prod-5b3djfskpo", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "intersecting", "jsValue": "intersecting_"}, {"name": "value", "value": "true", "usedVars": [], "jsValue": "true"}], "variable": "intersecting"}, {"type": 5, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~34", "ID": "prod-9lcdjw50f8u", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "intersecting", "usedVars": ["intersecting"], "jsValue": "intersecting_"}], "children": [{"type": 13, "ID": "prod-9lcdjw50f8u-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~34~children~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~34~children~2", "ID": "prod-n4pwur2ns1k", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "ray", "jsValue": "ray_"}, {"name": "value", "value": "[high_corner@xyz , vecSub(low_corner_ps@xyz , high_corner@xyz )]", "usedVars": ["low_corner_ps", "high_corner"], "jsValue": "[ __modules__.attrib.Get(__params__.model, high_corner_, 'xyz'), vecSub(__debug__,  __modules__.attrib.Get(__params__.model, low_corner_ps_, 'xyz'),  __modules__.attrib.Get(__params__.model, high_corner_, 'xyz'))]"}], "variable": "ray", "selectGeom": false, "terminate": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~34~children~2", "ID": "prod-uw35vjodh5o", "enabled": true, "print": false, "meta": {"module": "analyze", "name": "Raytrace"}, "argCount": 6, "args": [{"name": "var_name", "value": "raytrace_results", "jsValue": "raytrace_results_"}, {"name": "__model__"}, {"name": "rays", "value": "ray", "usedVars": ["ray"], "jsValue": "ray_"}, {"name": "entities", "value": "terrace_pgs", "usedVars": ["terrace_pgs"], "jsValue": "terrace_pgs_"}, {"name": "dist", "value": "500", "usedVars": [], "jsValue": "500"}, {"name": "method", "value": "'hit_pgons'", "jsValue": "'hit_pgons'", "usedVars": []}], "variable": "raytrace_results"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~34~children~2", "ID": "prod-jbxejgeua5p", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "number_hits", "jsValue": "number_hits_"}, {"name": "value", "value": "len(listCull(dictGet(raytrace_results, \"hit_pgons\")))", "usedVars": ["raytrace_results"], "jsValue": "len(__debug__, listCull(__debug__, dictGet(__debug__, raytrace_results_, \"hit_pgons\")))"}], "variable": "number_hits"}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~34~children~2", "ID": "prod-s0z0fxretj", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "number_hits > 0", "usedVars": ["number_hits"], "jsValue": "number_hits_ > 0"}], "children": [{"type": 13, "ID": "prod-s0z0fxretj-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~34~children~2~children~4", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~34~children~2~children~4", "ID": "prod-5nx1bdl85l4", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "high_corner", "usedVars": ["high_corner"], "jsValue": "high_corner_"}, {"name": "vectors", "value": "[0, 0, 0.5]", "usedVars": [], "jsValue": "[0, 0, 0.5]"}]}]}, {"type": 3, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~34~children~2", "ID": "prod-6y1k3rxul2r", "enabled": true, "print": false, "argCount": 0, "args": [], "children": [{"type": 13, "ID": "prod-6y1k3rxul2r-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~34~children~2~children~5", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~34~children~2~children~5", "ID": "prod-o1pfg19loda", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "intersecting", "jsValue": "intersecting_"}, {"name": "value", "value": "false", "usedVars": [], "jsValue": "false"}], "variable": "intersecting"}]}]}], "variable": "high_corner"}, {"type": 14, "ID": "prod-e21q6r2bbfj", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create the upper grid of the frame. They have their own type attribute for reference downstream."}]}, {"type": 14, "ID": "prod-7wtruwolzpj", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Each position is moved offset at a different height to mimic the effect acheived by the precedent building."}]}, {"type": 8, "ID": "prod-4f53vsb8u06", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "frame_upper_ps", "jsValue": "frame_upper_ps_"}, {"name": "__model__"}, {"name": "entities", "value": "high_corners_ps", "usedVars": ["high_corners_ps"], "jsValue": "high_corners_ps_"}, {"name": "vector", "value": "[0, 0, 1]", "usedVars": [], "jsValue": "[0, 0, 1]"}], "variable": "frame_upper_ps"}, {"type": 8, "ID": "prod-1px052714n", "enabled": true, "print": true, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "frame_upper_pl", "jsValue": "frame_upper_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "listJoin(low_corner_ps, frame_upper_ps)", "usedVars": ["low_corner_ps", "frame_upper_ps"], "jsValue": "listJoin(__debug__, low_corner_ps_, frame_upper_ps_)"}, {"name": "close", "value": "'close'", "jsValue": "'close'", "usedVars": []}], "variable": "frame_upper_pl"}, {"type": 8, "ID": "prod-v0js9fyj3u", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "created_pl", "usedVars": ["created_pl"], "jsValue": "created_pl_"}, {"name": "item", "value": "frame_upper_pl", "usedVars": ["frame_upper_pl"], "jsValue": "frame_upper_pl_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false, "terminate": false}, {"type": 8, "ID": "prod-0e8jfrxdxxoc", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "frame_upper_pl", "usedVars": ["frame_upper_pl"], "jsValue": "frame_upper_pl_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"roof_frame_base\"", "usedVars": [], "jsValue": "\"roof_frame_base\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false}, {"type": 14, "ID": "prod-p5zr733774", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Allow the user to adjust the roof sharpness but the highest point will remain highest."}]}, {"type": 0, "ID": "prod-5ecxzodfkxa", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_final_offset", "jsValue": "roof_final_offset_"}, {"name": "value", "value": "BUILDING_HEIGHT * (0.15 + (ROOF_OFFSET * 0.01))", "usedVars": ["ROOF_OFFSET", "BUILDING_HEIGHT"], "jsValue": "BUILDING_HEIGHT_ * (0.15 + (ROOF_OFFSET_ * 0.01))"}], "variable": "roof_final_offset"}, {"type": 1, "ID": "prod-haoula7qea", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "roof_final_offset < (BUILDING_HEIGHT * 0.05)", "usedVars": ["BUILDING_HEIGHT", "roof_final_offset"], "jsValue": "roof_final_offset_ < (BUILDING_HEIGHT_ * 0.05)"}], "children": [{"type": 13, "ID": "prod-haoula7qea-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~43", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~43", "ID": "prod-pzeywimum5m", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_final_offset", "jsValue": "roof_final_offset_"}, {"name": "value", "value": "BUILDING_HEIGHT * 0.05", "usedVars": ["BUILDING_HEIGHT"], "jsValue": "BUILDING_HEIGHT_ * 0.05"}], "variable": "roof_final_offset"}]}, {"type": 8, "ID": "prod-yhf50jyklim", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "frame_upper_pl#ps[2]", "usedVars": ["frame_upper_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', frame_upper_pl_)[pythonList(2, __modules__.query.Get(__params__.model, 'ps', frame_upper_pl_).length)]"}, {"name": "vectors", "value": "[0, 0, roof_final_offset]", "usedVars": ["roof_final_offset"], "jsValue": "[0, 0, roof_final_offset_]"}]}, {"type": 8, "ID": "prod-w30rr9hizes", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "frame_upper_pl#ps[2]", "usedVars": ["frame_upper_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', frame_upper_pl_)[pythonList(2, __modules__.query.Get(__params__.model, 'ps', frame_upper_pl_).length)]"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"roof_frame_highest_point\"", "usedVars": [], "jsValue": "\"roof_frame_highest_point\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}]}, {"type": 8, "ID": "prod-3kx4n3sxd38", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "frame_upper_pl#ps[1]", "usedVars": ["frame_upper_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', frame_upper_pl_)[pythonList(1, __modules__.query.Get(__params__.model, 'ps', frame_upper_pl_).length)]"}, {"name": "vectors", "value": "[0, 0, high_corners_ps[1]@xyz[2] - frame_upper_pl#ps[1] @xyz[2] ]", "usedVars": ["high_corners_ps", "frame_upper_pl"], "jsValue": "[0, 0,  __modules__.attrib.Get(__params__.model, high_corners_ps_[pythonList(1, high_corners_ps_.length)], ['xyz', 2])-  __modules__.attrib.Get(__params__.model,  __modules__.query.Get(__params__.model, 'ps', frame_upper_pl_)[pythonList(1, __modules__.query.Get(__params__.model, 'ps', frame_upper_pl_).length)], ['xyz', 2])]"}], "selectGeom": false}, {"type": 8, "ID": "prod-zlfd34busc", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "frame_upper_pl#ps[3]", "usedVars": ["frame_upper_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', frame_upper_pl_)[pythonList(3, __modules__.query.Get(__params__.model, 'ps', frame_upper_pl_).length)]"}, {"name": "vectors", "value": "[0, 0, BUILDING_HEIGHT * 0.015]", "usedVars": ["BUILDING_HEIGHT"], "jsValue": "[0, 0, BUILDING_HEIGHT_ * 0.015]"}], "selectGeom": false}, {"type": 8, "ID": "prod-1cg569a7cw6", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "[frame_upper_pl#ps[3] ]", "usedVars": ["frame_upper_pl"], "jsValue": "[ __modules__.query.Get(__params__.model, 'ps', frame_upper_pl_)[pythonList(3, __modules__.query.Get(__params__.model, 'ps', frame_upper_pl_).length)]]"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"roof_frame_high_point\"", "usedVars": [], "jsValue": "\"roof_frame_high_point\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false, "terminate": false}, {"type": 14, "ID": "prod-6n52jedhouw", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create vertical supports for the frame."}], "selectGeom": false}, {"type": 4, "ID": "prod-318gc30adnj", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "frame_ps", "jsValue": "frame_ps_"}, {"name": "list", "value": "frame_upper_pl#ps", "usedVars": ["frame_upper_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', frame_upper_pl_)"}], "children": [{"type": 13, "ID": "prod-iw6xpb5p7kr", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~50", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~50", "ID": "prod-0clgy2a89he", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "ray", "jsValue": "ray_"}, {"name": "value", "value": "[frame_ps@xyz , [0, 0, -1]]", "usedVars": ["frame_ps"], "jsValue": "[ __modules__.attrib.Get(__params__.model, frame_ps_, 'xyz'), [0, 0, -1]]"}], "variable": "ray", "selectGeom": false, "terminate": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~50", "ID": "prod-46d4ifsa0io", "enabled": true, "print": false, "meta": {"module": "analyze", "name": "Raytrace"}, "argCount": 6, "args": [{"name": "var_name", "value": "raytrace_results", "jsValue": "raytrace_results_"}, {"name": "__model__"}, {"name": "rays", "value": "ray", "usedVars": ["ray"], "jsValue": "ray_"}, {"name": "entities", "value": "#pg", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pg', null)"}, {"name": "dist", "value": "500", "usedVars": [], "jsValue": "500"}, {"name": "method", "value": "'intersections'", "jsValue": "'intersections'", "usedVars": []}], "variable": "raytrace_results", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~50", "ID": "prod-nuisva15z5a", "enabled": true, "print": false, "meta": {"module": "make", "name": "Position"}, "argCount": 3, "args": [{"name": "var_name", "value": "frame_base_ps", "jsValue": "frame_base_ps_"}, {"name": "__model__"}, {"name": "coords", "value": "dictGet(raytrace_results, \"intersections\")[0]", "usedVars": ["raytrace_results"], "jsValue": "dictGet(__debug__, raytrace_results_, \"intersections\")[pythonList(0, dictGet(__debug__, raytrace_results_, \"intersections\").length)]"}], "variable": "frame_base_ps", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~50", "ID": "prod-m2e5thq5mf", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "frame_base_pl", "jsValue": "frame_base_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "[frame_base_ps, frame_ps]", "usedVars": ["frame_base_ps", "frame_ps"], "jsValue": "[frame_base_ps_, frame_ps_]"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "frame_base_pl", "selectGeom": false}, {"type": 8, "ID": "prod-7o1fs3gb3cv", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "created_pl", "usedVars": ["created_pl"], "jsValue": "created_pl_"}, {"name": "item", "value": "frame_base_pl", "usedVars": ["frame_base_pl"], "jsValue": "frame_base_pl_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~50"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~50", "ID": "prod-ugfuhescd6", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "frame_base_pl", "usedVars": ["frame_base_pl"], "jsValue": "frame_base_pl_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"roof_frame_vertical\"", "usedVars": [], "jsValue": "\"roof_frame_vertical\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false}], "variable": "frame_ps", "selectGeom": false}, {"type": 14, "ID": "prod-iftaydchcnr", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Divide the polylines so we can make a grid for the roof frame."}]}, {"type": 8, "ID": "prod-7ox3rbh8z2", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Divide"}, "argCount": 5, "args": [{"name": "var_name", "value": "frame_upper_e", "jsValue": "frame_upper_e_"}, {"name": "__model__"}, {"name": "entities", "value": "frame_upper_pl", "usedVars": ["frame_upper_pl"], "jsValue": "frame_upper_pl_"}, {"name": "divisor", "value": "5", "usedVars": [], "jsValue": "5"}, {"name": "method", "value": "'by_number'", "jsValue": "'by_number'", "usedVars": []}], "variable": "frame_upper_e"}, {"type": 8, "ID": "prod-but6adv2005", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Divide"}, "argCount": 5, "args": [{"name": "var_name", "value": "frame_lower_e", "jsValue": "frame_lower_e_"}, {"name": "__model__"}, {"name": "entities", "value": "frame_pl", "usedVars": ["frame_pl"], "jsValue": "frame_pl_"}, {"name": "divisor", "value": "5", "usedVars": [], "jsValue": "5"}, {"name": "method", "value": "'by_number'", "jsValue": "'by_number'", "usedVars": []}], "variable": "frame_lower_e", "selectGeom": false, "terminate": false}, {"type": 0, "ID": "prod-6f6jf4mi3vp", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "lower_horizontal_ps", "jsValue": "lower_horizontal_ps_"}, {"name": "value", "value": "frame_lower_e#ps[:10]", "usedVars": ["frame_lower_e"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', frame_lower_e_).slice(0,10)"}], "variable": "lower_horizontal_ps", "terminate": false}, {"type": 0, "ID": "prod-fr2qtfvnlgj", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "lower_horizontal_ps", "jsValue": "lower_horizontal_ps_"}, {"name": "value", "value": "lower_horizontal_ps#ps[6:]", "usedVars": ["lower_horizontal_ps"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', lower_horizontal_ps_).slice(6)"}], "variable": "lower_horizontal_ps", "terminate": false, "selectGeom": false}, {"type": 8, "ID": "prod-2jdf33cw1qw", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "lower_horizontal_ps", "usedVars": ["lower_horizontal_ps"], "jsValue": "lower_horizontal_ps_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"roof_lower_h_position\"", "usedVars": [], "jsValue": "\"roof_lower_h_position\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}]}, {"type": 8, "ID": "prod-4qifi2dnv2b", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "col_roof_frame", "jsValue": "col_roof_frame_"}, {"name": "__model__"}, {"name": "entities", "value": "[frame_upper_pl, frame_pl]", "usedVars": ["frame_pl", "frame_upper_pl"], "jsValue": "[frame_upper_pl_, frame_pl_]"}, {"name": "name", "value": "\"roof_frame\"", "usedVars": [], "jsValue": "\"roof_frame\""}], "variable": "col_roof_frame"}, {"type": 14, "ID": "prod-b1r3kqp53ul", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Fuse shared positions."}]}, {"type": 8, "ID": "prod-r1bgkw6rv8f", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Fuse"}, "argCount": 4, "args": [{"name": "var_name", "value": "base_pl", "jsValue": "base_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "created_pl", "usedVars": ["created_pl"], "jsValue": "created_pl_"}, {"name": "tolerance", "value": "0.1", "usedVars": [], "jsValue": "0.1"}], "variable": "base_pl"}, {"type": 14, "ID": "prod-pcefzuurr0l", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Now that collisions are checked for we can set the roof's base's attribute back as a terrace roof."}]}, {"type": 4, "ID": "prod-bqawp8cgqfg", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "floor", "jsValue": "floor_"}, {"name": "list", "value": "col_floors#pg", "usedVars": ["col_floors"], "jsValue": "__modules__.query.Get(__params__.model, 'pg', col_floors_)"}], "children": [{"type": 13, "ID": "prod-gppe71pev6r", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~61", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~61", "ID": "prod-17nd0vs20w9", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "floor#ps[0] @xyz[2] + 1 >= low_corner_ps@xyz[2]", "usedVars": ["low_corner_ps", "floor"], "jsValue": "__modules__.attrib.Get(__params__.model,  __modules__.query.Get(__params__.model, 'ps', floor_)[pythonList(0, __modules__.query.Get(__params__.model, 'ps', floor_).length)], ['xyz', 2])+ 1 >=  __modules__.attrib.Get(__params__.model, low_corner_ps_, ['xyz', 2])"}], "children": [{"type": 13, "ID": "prod-kig83he8pdq", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~61~children~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~61~children~1", "ID": "prod-be8uyy0hgi9", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floor", "usedVars": ["floor"], "jsValue": "floor_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"terrace_roof\"", "usedVars": [], "jsValue": "\"terrace_roof\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false}], "selectGeom": false}], "variable": "floor", "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Create Roof Skeleton (Grid)", "id": "node_xv68xc7gpce", "position": {"x": 5160, "y": 5780}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-o8dldzs1tsl", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "This node will create the intersecting grid skeleton for the roof frame."}]}, {"type": 14, "ID": "prod-rl5mh90z5u", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "The roof frame has three sides with verticals supports, and one side with only horizontal supports."}]}, {"type": 14, "ID": "prod-zzj5knropw", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Keep track of created polylines to fuse their positions."}]}, {"type": 0, "ID": "prod-3k7zknuxg3d", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "created_pl", "jsValue": "created_pl_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "created_pl"}, {"type": 14, "ID": "prod-0gvmn99en5l", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Get required references for this node."}]}, {"type": 8, "ID": "prod-d1ps1nc4ufr", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_roof_pl", "jsValue": "col_roof_pl_"}, {"name": "__model__"}, {"name": "names", "value": "\"roof_frame\"", "usedVars": [], "jsValue": "\"roof_frame\""}], "variable": "col_roof_pl"}, {"type": 0, "ID": "prod-at1o6co2fkt", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "upper_roof_ps", "jsValue": "upper_roof_ps_"}, {"name": "value", "value": "col_roof_pl#pl[0] #ps", "usedVars": ["col_roof_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_roof_pl_)[pythonList(0, __modules__.query.Get(__params__.model, 'pl', col_roof_pl_).length)])"}], "variable": "upper_roof_ps"}, {"type": 14, "ID": "prod-gh3jex2raff", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "We first create vertical supports for the vertical sides of the roof frame."}]}, {"type": 14, "ID": "prod-659slmziuew", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "The divisions in the roof frames are fixed, so we use hard coded indexes to access their positions."}]}, {"type": 14, "ID": "prod-cbs0qslp5ze", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "The frame has 6 positions on each side (divided into 5), so we use index 1-4."}]}, {"type": 0, "ID": "prod-qblxejm1oi", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "vertical_side_ps", "jsValue": "vertical_side_ps_"}, {"name": "value", "value": "upper_roof_ps[ : 5]", "usedVars": ["upper_roof_ps"], "jsValue": "upper_roof_ps_.slice(0,5)"}], "variable": "vertical_side_ps", "selectGeom": false}, {"type": 0, "ID": "prod-4wka5d2jy9d", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "vertical_side_ps", "jsValue": "vertical_side_ps_"}, {"name": "value", "value": "vertical_side_ps[1 :]", "usedVars": ["vertical_side_ps"], "jsValue": "vertical_side_ps_.slice(1)"}], "variable": "vertical_side_ps", "selectGeom": false}, {"type": 14, "ID": "prod-dvmmcpdt0wh", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Connect the edges to the roof for the lower side and save them to a collection."}]}, {"type": 4, "ID": "prod-fgq22lebi4u", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "ps", "jsValue": "ps_"}, {"name": "list", "value": "vertical_side_ps", "usedVars": ["vertical_side_ps"], "jsValue": "vertical_side_ps_"}], "children": [{"type": 13, "ID": "prod-fgq22lebi4u-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~14", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~14", "ID": "prod-phkpypca16a", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "ray", "jsValue": "ray_"}, {"name": "value", "value": "[ps@xyz , [0, 0, -1]]", "usedVars": ["ps"], "jsValue": "[ __modules__.attrib.Get(__params__.model, ps_, 'xyz'), [0, 0, -1]]"}], "variable": "ray", "selectGeom": false, "terminate": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~14", "ID": "prod-belwprpc524", "enabled": true, "print": false, "meta": {"module": "analyze", "name": "Raytrace"}, "argCount": 6, "args": [{"name": "var_name", "value": "raytrace_results", "jsValue": "raytrace_results_"}, {"name": "__model__"}, {"name": "rays", "value": "ray", "usedVars": ["ray"], "jsValue": "ray_"}, {"name": "entities", "value": "#pg", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pg', null)"}, {"name": "dist", "value": "1000", "usedVars": [], "jsValue": "1000"}, {"name": "method", "value": "'intersections'", "jsValue": "'intersections'", "usedVars": []}], "variable": "raytrace_results", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~14", "ID": "prod-wfhbcbiieo", "enabled": true, "print": false, "meta": {"module": "make", "name": "Position"}, "argCount": 3, "args": [{"name": "var_name", "value": "frame_base_ps", "jsValue": "frame_base_ps_"}, {"name": "__model__"}, {"name": "coords", "value": "dictGet(raytrace_results, \"intersections\")[0]", "usedVars": ["raytrace_results"], "jsValue": "dictGet(__debug__, raytrace_results_, \"intersections\")[pythonList(0, dictGet(__debug__, raytrace_results_, \"intersections\").length)]"}], "variable": "frame_base_ps", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~14", "ID": "prod-yp11siweurm", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "frame_base_pl", "jsValue": "frame_base_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "[frame_base_ps, ps]", "usedVars": ["frame_base_ps", "ps"], "jsValue": "[frame_base_ps_, ps_]"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "frame_base_pl", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~14", "ID": "prod-ldy729eni3i", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "created_pl", "usedVars": ["created_pl"], "jsValue": "created_pl_"}, {"name": "item", "value": "frame_base_pl", "usedVars": ["frame_base_pl"], "jsValue": "frame_base_pl_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~14", "ID": "prod-xbprutwl7pm", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "frame_base_pl", "usedVars": ["frame_base_pl"], "jsValue": "frame_base_pl_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"roof_frame_grid\"", "usedVars": [], "jsValue": "\"roof_frame_grid\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~14", "ID": "prod-b1oxtjexc7i", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_roof_pl", "usedVars": ["col_roof_pl"], "jsValue": "col_roof_pl_"}, {"name": "entities", "value": "frame_base_pl", "usedVars": ["frame_base_pl"], "jsValue": "frame_base_pl_"}]}], "variable": "ps"}, {"type": 14, "ID": "prod-way1z8gzruo", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Connect the lower frame to the opposite side (index 11-14)."}]}, {"type": 0, "ID": "prod-trc6unrj8ze", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "high_v_side_ps", "jsValue": "high_v_side_ps_"}, {"name": "value", "value": "upper_roof_ps[ : 15]", "usedVars": ["upper_roof_ps"], "jsValue": "upper_roof_ps_.slice(0,15)"}], "variable": "high_v_side_ps", "selectGeom": false}, {"type": 0, "ID": "prod-cjf7xzqw3wk", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "high_v_side_ps", "jsValue": "high_v_side_ps_"}, {"name": "value", "value": "high_v_side_ps[11 :]", "usedVars": ["high_v_side_ps"], "jsValue": "high_v_side_ps_.slice(11)"}], "variable": "high_v_side_ps", "selectGeom": false}, {"type": 4, "ID": "prod-1ekbpjki5yl", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, len(high_v_side_ps))", "usedVars": ["high_v_side_ps"], "jsValue": "range(__debug__, 0, len(__debug__, high_v_side_ps_))"}], "children": [{"type": 13, "ID": "prod-1ekbpjki5yl-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~18", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~18", "ID": "prod-i53urg82ki", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "v_frame", "jsValue": "v_frame_"}, {"name": "__model__"}, {"name": "entities", "value": "[listRev(high_v_side_ps)[index], vertical_side_ps[index]]", "usedVars": ["vertical_side_ps", "high_v_side_ps", "index"], "jsValue": "[listRev(__debug__, high_v_side_ps_)[pythonList(index_, listRev(__debug__, high_v_side_ps_).length)], vertical_side_ps_[pythonList(index_, vertical_side_ps_.length)]]"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "v_frame", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~18", "ID": "prod-4kr1y52qzcy", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "created_pl", "usedVars": ["created_pl"], "jsValue": "created_pl_"}, {"name": "item", "value": "v_frame", "usedVars": ["v_frame"], "jsValue": "v_frame_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~18", "ID": "prod-vole3c8u53", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "v_frame", "usedVars": ["v_frame"], "jsValue": "v_frame_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"roof_frame_grid\"", "usedVars": [], "jsValue": "\"roof_frame_grid\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~18", "ID": "prod-l1djikg5ebq", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_roof_pl", "usedVars": ["col_roof_pl"], "jsValue": "col_roof_pl_"}, {"name": "entities", "value": "v_frame", "usedVars": ["v_frame"], "jsValue": "v_frame_"}], "selectGeom": false}], "variable": "index"}, {"type": 14, "ID": "prod-mtruimxp4f", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Connect the edges to the roof across to the higher side."}]}, {"type": 4, "ID": "prod-02p8lindr02p", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "ps", "jsValue": "ps_"}, {"name": "list", "value": "high_v_side_ps", "usedVars": ["high_v_side_ps"], "jsValue": "high_v_side_ps_"}], "children": [{"type": 13, "ID": "prod-8k8fvs2g3pw", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~20", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~20", "ID": "prod-hux1f2mme6k", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "ray", "jsValue": "ray_"}, {"name": "value", "value": "[ps@xyz , [0, 0, -1]]", "usedVars": ["ps"], "jsValue": "[ __modules__.attrib.Get(__params__.model, ps_, 'xyz'), [0, 0, -1]]"}], "variable": "ray", "selectGeom": false, "terminate": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~20", "ID": "prod-jpm7fexpcq", "enabled": true, "print": false, "meta": {"module": "analyze", "name": "Raytrace"}, "argCount": 6, "args": [{"name": "var_name", "value": "raytrace_results", "jsValue": "raytrace_results_"}, {"name": "__model__"}, {"name": "rays", "value": "ray", "usedVars": ["ray"], "jsValue": "ray_"}, {"name": "entities", "value": "#pg", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pg', null)"}, {"name": "dist", "value": "1000", "usedVars": [], "jsValue": "1000"}, {"name": "method", "value": "'intersections'", "jsValue": "'intersections'", "usedVars": []}], "variable": "raytrace_results", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~20", "ID": "prod-3avbj9i9lp", "enabled": true, "print": false, "meta": {"module": "make", "name": "Position"}, "argCount": 3, "args": [{"name": "var_name", "value": "frame_base_ps", "jsValue": "frame_base_ps_"}, {"name": "__model__"}, {"name": "coords", "value": "dictGet(raytrace_results, \"intersections\")[0]", "usedVars": ["raytrace_results"], "jsValue": "dictGet(__debug__, raytrace_results_, \"intersections\")[pythonList(0, dictGet(__debug__, raytrace_results_, \"intersections\").length)]"}], "variable": "frame_base_ps", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~20", "ID": "prod-9m2kmx8vsy", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "frame_base_pl", "jsValue": "frame_base_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "[frame_base_ps, ps]", "usedVars": ["frame_base_ps", "ps"], "jsValue": "[frame_base_ps_, ps_]"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "frame_base_pl", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~20", "ID": "prod-jy7yhhhr06", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "created_pl", "usedVars": ["created_pl"], "jsValue": "created_pl_"}, {"name": "item", "value": "frame_base_pl", "usedVars": ["frame_base_pl"], "jsValue": "frame_base_pl_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~20", "ID": "prod-hd8okbn33d", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "frame_base_pl", "usedVars": ["frame_base_pl"], "jsValue": "frame_base_pl_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"roof_frame_grid\"", "usedVars": [], "jsValue": "\"roof_frame_grid\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~20", "ID": "prod-cp5m09ithc", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_roof_pl", "usedVars": ["col_roof_pl"], "jsValue": "col_roof_pl_"}, {"name": "entities", "value": "frame_base_pl", "usedVars": ["frame_base_pl"], "jsValue": "frame_base_pl_"}], "selectGeom": false}], "variable": "ps", "selectGeom": false}, {"type": 14, "ID": "prod-h055300l9fe", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Repeat this grid pattern for the perpendicular sides."}]}, {"type": 0, "ID": "prod-neli265kml", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "horizontal_side_ps", "jsValue": "horizontal_side_ps_"}, {"name": "value", "value": "upper_roof_ps[ : 10]", "usedVars": ["upper_roof_ps"], "jsValue": "upper_roof_ps_.slice(0,10)"}], "variable": "horizontal_side_ps", "selectGeom": false}, {"type": 0, "ID": "prod-jl8sp9f1uwl", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "horizontal_side_ps", "jsValue": "horizontal_side_ps_"}, {"name": "value", "value": "horizontal_side_ps[6 :]", "usedVars": ["horizontal_side_ps"], "jsValue": "horizontal_side_ps_.slice(6)"}], "variable": "horizontal_side_ps", "selectGeom": false}, {"type": 0, "ID": "prod-8q13hxf7yk5", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "high_h_side_ps", "jsValue": "high_h_side_ps_"}, {"name": "value", "value": "upper_roof_ps[ : 20]", "usedVars": ["upper_roof_ps"], "jsValue": "upper_roof_ps_.slice(0,20)"}], "variable": "high_h_side_ps", "selectGeom": false}, {"type": 0, "ID": "prod-69exygue6er", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "high_h_side_ps", "jsValue": "high_h_side_ps_"}, {"name": "value", "value": "high_h_side_ps[16 :]", "usedVars": ["high_h_side_ps"], "jsValue": "high_h_side_ps_.slice(16)"}], "variable": "high_h_side_ps", "selectGeom": false}, {"type": 14, "ID": "prod-bk9kpv0jbdd", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Connect the edges vertically down to the roof"}], "selectGeom": false}, {"type": 4, "ID": "prod-8cha6fahrs", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "ps", "jsValue": "ps_"}, {"name": "list", "value": "listJoin(high_h_side_ps)", "usedVars": ["high_h_side_ps"], "jsValue": "listJoin(__debug__, high_h_side_ps_)"}], "children": [{"type": 13, "ID": "prod-j5pvdglw7sh", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~27", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~27", "ID": "prod-5b52e8s6lue", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "ray", "jsValue": "ray_"}, {"name": "value", "value": "[ps@xyz , [0, 0, -1]]", "usedVars": ["ps"], "jsValue": "[ __modules__.attrib.Get(__params__.model, ps_, 'xyz'), [0, 0, -1]]"}], "variable": "ray", "selectGeom": false, "terminate": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~27", "ID": "prod-qygpdade1an", "enabled": true, "print": false, "meta": {"module": "analyze", "name": "Raytrace"}, "argCount": 6, "args": [{"name": "var_name", "value": "raytrace_results", "jsValue": "raytrace_results_"}, {"name": "__model__"}, {"name": "rays", "value": "ray", "usedVars": ["ray"], "jsValue": "ray_"}, {"name": "entities", "value": "#pg", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pg', null)"}, {"name": "dist", "value": "1000", "usedVars": [], "jsValue": "1000"}, {"name": "method", "value": "'intersections'", "jsValue": "'intersections'", "usedVars": []}], "variable": "raytrace_results", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~27", "ID": "prod-mjccepbjrzm", "enabled": true, "print": false, "meta": {"module": "make", "name": "Position"}, "argCount": 3, "args": [{"name": "var_name", "value": "frame_base_ps", "jsValue": "frame_base_ps_"}, {"name": "__model__"}, {"name": "coords", "value": "dictGet(raytrace_results, \"intersections\")[0]", "usedVars": ["raytrace_results"], "jsValue": "dictGet(__debug__, raytrace_results_, \"intersections\")[pythonList(0, dictGet(__debug__, raytrace_results_, \"intersections\").length)]"}], "variable": "frame_base_ps", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~27", "ID": "prod-dsmu8qz79jt", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "frame_base_pl", "jsValue": "frame_base_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "[frame_base_ps, ps]", "usedVars": ["frame_base_ps", "ps"], "jsValue": "[frame_base_ps_, ps_]"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "frame_base_pl", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~27", "ID": "prod-ed9onyvav1i", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "created_pl", "usedVars": ["created_pl"], "jsValue": "created_pl_"}, {"name": "item", "value": "frame_base_pl", "usedVars": ["frame_base_pl"], "jsValue": "frame_base_pl_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~27", "ID": "prod-ks0vvesxl8r", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "frame_base_pl", "usedVars": ["frame_base_pl"], "jsValue": "frame_base_pl_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"roof_frame_grid\"", "usedVars": [], "jsValue": "\"roof_frame_grid\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~27", "ID": "prod-knjjj3d704k", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_roof_pl", "usedVars": ["col_roof_pl"], "jsValue": "col_roof_pl_"}, {"name": "entities", "value": "frame_base_pl", "usedVars": ["frame_base_pl"], "jsValue": "frame_base_pl_"}], "selectGeom": false}], "variable": "ps", "selectGeom": false}, {"type": 14, "ID": "prod-4htsrgbfare", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "We create vertical supports for the last vertical sides of the roof frame."}], "selectGeom": false}, {"type": 4, "ID": "prod-sk4es3340f", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, len(high_h_side_ps))", "usedVars": ["high_h_side_ps"], "jsValue": "range(__debug__, 0, len(__debug__, high_h_side_ps_))"}], "children": [{"type": 13, "ID": "prod-tu633lbv7og", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~29", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~29", "ID": "prod-u8lxpd6qcf", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "v_frame", "jsValue": "v_frame_"}, {"name": "__model__"}, {"name": "entities", "value": "[listRev(high_h_side_ps)[index], horizontal_side_ps[index]]", "usedVars": ["horizontal_side_ps", "high_h_side_ps", "index"], "jsValue": "[listRev(__debug__, high_h_side_ps_)[pythonList(index_, listRev(__debug__, high_h_side_ps_).length)], horizontal_side_ps_[pythonList(index_, horizontal_side_ps_.length)]]"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "v_frame", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~29", "ID": "prod-kqqq10z767", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "created_pl", "usedVars": ["created_pl"], "jsValue": "created_pl_"}, {"name": "item", "value": "v_frame", "usedVars": ["v_frame"], "jsValue": "v_frame_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~29", "ID": "prod-n5rwom8zvh", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "v_frame", "usedVars": ["v_frame"], "jsValue": "v_frame_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"roof_frame_grid\"", "usedVars": [], "jsValue": "\"roof_frame_grid\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~29", "ID": "prod-nocbyvs5a6k", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_roof_pl", "usedVars": ["col_roof_pl"], "jsValue": "col_roof_pl_"}, {"name": "entities", "value": "v_frame", "usedVars": ["v_frame"], "jsValue": "v_frame_"}], "selectGeom": false}], "variable": "index", "selectGeom": false}, {"type": 14, "ID": "prod-4zmog0bq0kq", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Now we can connect the hozrizontal parts of the frame."}]}, {"type": 14, "ID": "prod-of5oansa7od", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create the horizontal frames on the highest side."}]}, {"type": 0, "ID": "prod-vzsah84ndm", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_highest_point", "jsValue": "roof_highest_point_"}, {"name": "value", "value": "#ps ?@type==\"roof_frame_highest_point\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'ps', null), ['type', null], '==', \"roof_frame_highest_point\")"}], "variable": "roof_highest_point"}, {"type": 0, "ID": "prod-2k5b1fb1o0g", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "goal_xy", "jsValue": "goal_xy_"}, {"name": "value", "value": "listFlat([roof_highest_point@xyz[0] , roof_highest_point@xyz[1] ])", "usedVars": ["roof_highest_point"], "jsValue": "listFlat(__debug__, [ __modules__.attrib.Get(__params__.model, roof_highest_point_, ['xyz', 0]),  __modules__.attrib.Get(__params__.model, roof_highest_point_, ['xyz', 1])])"}], "variable": "goal_xy"}, {"type": 4, "ID": "prod-0v4w5a9746t", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "ps", "jsValue": "ps_"}, {"name": "list", "value": "listJoin(high_v_side_ps, #ps ?@type==\"roof_frame_high_point\" , horizontal_side_ps)", "usedVars": ["high_v_side_ps", "horizontal_side_ps"], "jsValue": "listJoin(__debug__, high_v_side_ps_,  __modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'ps', null), ['type', null], '==', \"roof_frame_high_point\"), horizontal_side_ps_)"}], "children": [{"type": 13, "ID": "prod-0v4w5a9746t-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~34", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~34", "ID": "prod-nm43qeq1do", "enabled": true, "print": false, "meta": {"module": "make", "name": "Position"}, "argCount": 3, "args": [{"name": "var_name", "value": "goal_ps", "jsValue": "goal_ps_"}, {"name": "__model__"}, {"name": "coords", "value": "listJoin(goal_xy, ps@xyz[2] )", "usedVars": ["goal_xy", "ps"], "jsValue": "listJoin(__debug__, goal_xy_,  __modules__.attrib.Get(__params__.model, ps_, ['xyz', 2]))"}], "variable": "goal_ps"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~34", "ID": "prod-f001sj5n6qq", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "horizontal_frame_pl", "jsValue": "horizontal_frame_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "listJoin(ps, goal_ps)", "usedVars": ["goal_ps", "ps"], "jsValue": "listJoin(__debug__, ps_, goal_ps_)"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "horizontal_frame_pl"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~34", "ID": "prod-rp39wxitdth", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "created_pl", "usedVars": ["created_pl"], "jsValue": "created_pl_"}, {"name": "item", "value": "horizontal_frame_pl", "usedVars": ["horizontal_frame_pl"], "jsValue": "horizontal_frame_pl_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~34", "ID": "prod-s922cztak6l", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "horizontal_frame_pl", "usedVars": ["horizontal_frame_pl"], "jsValue": "horizontal_frame_pl_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"roof_frame_horizontal\"", "usedVars": [], "jsValue": "\"roof_frame_horizontal\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~34", "ID": "prod-ymfrps6fu69", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_roof_pl", "usedVars": ["col_roof_pl"], "jsValue": "col_roof_pl_"}, {"name": "entities", "value": "horizontal_frame_pl", "usedVars": ["horizontal_frame_pl"], "jsValue": "horizontal_frame_pl_"}], "selectGeom": false}], "variable": "ps"}, {"type": 14, "ID": "prod-jy72ykb4rc", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create the horizontal frame on the lower side"}]}, {"type": 0, "ID": "prod-uth6o2000jf", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "horizontal_base_ps", "jsValue": "horizontal_base_ps_"}, {"name": "value", "value": "#ps ?@type==\"roof_base_positions\"[1]", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'ps', null), ['type', null], '==', \"roof_base_positions\")[pythonList(1, \"roof_base_positions\".length)]"}], "variable": "horizontal_base_ps", "selectGeom": false}, {"type": 0, "ID": "prod-rguhcbjs2b", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "horizontal_low_ps", "jsValue": "horizontal_low_ps_"}, {"name": "value", "value": "#ps ?@type==\"roof_lower_h_position\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'ps', null), ['type', null], '==', \"roof_lower_h_position\")"}], "variable": "horizontal_low_ps", "selectGeom": false}, {"type": 0, "ID": "prod-58u38opminp", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_reference_point", "jsValue": "roof_reference_point_"}, {"name": "value", "value": "#ps ?@type==\"roof_base_positions\"[0]", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'ps', null), ['type', null], '==', \"roof_base_positions\")[pythonList(0, \"roof_base_positions\".length)]"}], "variable": "roof_reference_point", "selectGeom": false}, {"type": 0, "ID": "prod-ua3iz5deq2i", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "goal_xy", "jsValue": "goal_xy_"}, {"name": "value", "value": "listFlat([roof_reference_point@xyz[0] , roof_reference_point@xyz[1] ])", "usedVars": ["roof_reference_point"], "jsValue": "listFlat(__debug__, [ __modules__.attrib.Get(__params__.model, roof_reference_point_, ['xyz', 0]),  __modules__.attrib.Get(__params__.model, roof_reference_point_, ['xyz', 1])])"}], "variable": "goal_xy", "selectGeom": false}, {"type": 4, "ID": "prod-dqnce7a9yv4", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "ps", "jsValue": "ps_"}, {"name": "list", "value": "listJoin(horizontal_base_ps, horizontal_low_ps)", "usedVars": ["horizontal_base_ps", "horizontal_low_ps"], "jsValue": "listJoin(__debug__, horizontal_base_ps_, horizontal_low_ps_)"}], "children": [{"type": 13, "ID": "prod-aawmbzsw9e", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40", "ID": "prod-8f9miqka1gf", "enabled": true, "print": false, "meta": {"module": "make", "name": "Position"}, "argCount": 3, "args": [{"name": "var_name", "value": "goal_ps", "jsValue": "goal_ps_"}, {"name": "__model__"}, {"name": "coords", "value": "listJoin(goal_xy, ps@xyz[2] )", "usedVars": ["goal_xy", "ps"], "jsValue": "listJoin(__debug__, goal_xy_,  __modules__.attrib.Get(__params__.model, ps_, ['xyz', 2]))"}], "variable": "goal_ps", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40", "ID": "prod-lmmwxsztbj", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "horizontal_frame_pl", "jsValue": "horizontal_frame_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "listJoin(ps, goal_ps)", "usedVars": ["goal_ps", "ps"], "jsValue": "listJoin(__debug__, ps_, goal_ps_)"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "horizontal_frame_pl", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40", "ID": "prod-ipm7dojjj5", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "created_pl", "usedVars": ["created_pl"], "jsValue": "created_pl_"}, {"name": "item", "value": "horizontal_frame_pl", "usedVars": ["horizontal_frame_pl"], "jsValue": "horizontal_frame_pl_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40", "ID": "prod-prap8fbrj6h", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "horizontal_frame_pl", "usedVars": ["horizontal_frame_pl"], "jsValue": "horizontal_frame_pl_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"roof_frame_horizontal\"", "usedVars": [], "jsValue": "\"roof_frame_horizontal\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~40", "ID": "prod-xrl5f0jiuz", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_roof_pl", "usedVars": ["col_roof_pl"], "jsValue": "col_roof_pl_"}, {"name": "entities", "value": "horizontal_frame_pl", "usedVars": ["horizontal_frame_pl"], "jsValue": "horizontal_frame_pl_"}], "selectGeom": false}], "variable": "ps", "selectGeom": false}, {"type": 14, "ID": "prod-uj01wsecmj", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Clean up shared positions"}]}, {"type": 8, "ID": "prod-xw4ee5aer18", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Fuse"}, "argCount": 4, "args": [{"name": "var_name", "value": "fused_pl", "jsValue": "fused_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "created_pl", "usedVars": ["created_pl"], "jsValue": "created_pl_"}, {"name": "tolerance", "value": "0.1", "usedVars": [], "jsValue": "0.1"}], "variable": "fused_pl"}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Create Roof Frame", "id": "node_m8e7qb1e0e", "position": {"x": 5160, "y": 5880}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-k0g2m6g2ahk", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "This node creates the beams for the roof frame."}]}, {"type": 14, "ID": "prod-3b32t1d6bcx", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Get references to the entities we require for this node."}]}, {"type": 0, "ID": "prod-iytnedp76a", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_base_pl", "jsValue": "roof_base_pl_"}, {"name": "value", "value": "#pl ?@type==\"roof_frame_base\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pl', null), ['type', null], '==', \"roof_frame_base\")"}], "variable": "roof_base_pl"}, {"type": 0, "ID": "prod-anw2wuk9yd7", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_vertical_pl", "jsValue": "roof_vertical_pl_"}, {"name": "value", "value": "#pl ?@type==\"roof_frame_vertical\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pl', null), ['type', null], '==', \"roof_frame_vertical\")"}], "variable": "roof_vertical_pl", "selectGeom": false}, {"type": 0, "ID": "prod-os92h5iuqy", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_grid_pl", "jsValue": "roof_grid_pl_"}, {"name": "value", "value": "#pl ?@type==\"roof_frame_grid\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pl', null), ['type', null], '==', \"roof_frame_grid\")"}], "variable": "roof_grid_pl", "selectGeom": false}, {"type": 0, "ID": "prod-dxs3vndgmp4", "enabled": true, "print": true, "argCount": 2, "args": [{"name": "var_name", "value": "roof_horizontal_pl", "jsValue": "roof_horizontal_pl_"}, {"name": "value", "value": "#pl ?@type==\"roof_frame_horizontal\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pl', null), ['type', null], '==', \"roof_frame_horizontal\")"}], "variable": "roof_horizontal_pl", "selectGeom": false}, {"type": 8, "ID": "prod-celiarbklzq", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Rectangle"}, "argCount": 4, "args": [{"name": "var_name", "value": "main_frame_rect", "jsValue": "main_frame_rect_"}, {"name": "__model__"}, {"name": "origin", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "size", "value": "[2, 2]", "usedVars": [], "jsValue": "[2, 2]"}], "variable": "main_frame_rect"}, {"type": 8, "ID": "prod-s30hwahxtla", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Rectangle"}, "argCount": 4, "args": [{"name": "var_name", "value": "sub_frame_rect", "jsValue": "sub_frame_rect_"}, {"name": "__model__"}, {"name": "origin", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "size", "value": "[1, 1]", "usedVars": [], "jsValue": "[1, 1]"}], "variable": "sub_frame_rect", "selectGeom": false}, {"type": 8, "ID": "prod-kwahoou93vi", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "big_sec", "jsValue": "big_sec_"}, {"name": "__model__"}, {"name": "entities", "value": "main_frame_rect", "usedVars": ["main_frame_rect"], "jsValue": "main_frame_rect_"}, {"name": "close", "value": "'close'", "jsValue": "'close'", "usedVars": []}], "variable": "big_sec"}, {"type": 8, "ID": "prod-t6bsi2rwjqn", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "small_sec", "jsValue": "small_sec_"}, {"name": "__model__"}, {"name": "entities", "value": "sub_frame_rect", "usedVars": ["sub_frame_rect"], "jsValue": "sub_frame_rect_"}, {"name": "close", "value": "'close'", "jsValue": "'close'", "usedVars": []}], "variable": "small_sec", "selectGeom": false}, {"type": 0, "ID": "prod-0uo46teyvwri", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "frames_pg", "jsValue": "frames_pg_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "frames_pg"}, {"type": 14, "ID": "prod-2l2x3x2vtf", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create the beams for the roof frame's base."}]}, {"type": 4, "ID": "prod-av858oul7cm", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "pline", "jsValue": "pline_"}, {"name": "list", "value": "roof_base_pl", "usedVars": ["roof_base_pl"], "jsValue": "roof_base_pl_"}], "children": [{"type": 13, "ID": "prod-av858oul7cm-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~13", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~13", "ID": "prod-sedu5ex7xm", "enabled": true, "print": false, "meta": {"module": "make", "name": "Sweep"}, "argCount": 6, "args": [{"name": "var_name", "value": "frame_pg", "jsValue": "frame_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "pline", "usedVars": ["pline"], "jsValue": "pline_"}, {"name": "x_section", "value": "big_sec", "usedVars": ["big_sec"], "jsValue": "big_sec_"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "frame_pg"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~13", "ID": "prod-5rz2jchdzht", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "frames_pg", "usedVars": ["frames_pg"], "jsValue": "frames_pg_"}, {"name": "item", "value": "frame_pg", "usedVars": ["frame_pg"], "jsValue": "frame_pg_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}]}], "variable": "pline"}, {"type": 14, "ID": "prod-t88gt8z72d", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create the beams for the vertical supports of the roof frame."}], "selectGeom": false}, {"type": 4, "ID": "prod-uhi8bmigvsa", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "pline", "jsValue": "pline_"}, {"name": "list", "value": "roof_vertical_pl", "usedVars": ["roof_vertical_pl"], "jsValue": "roof_vertical_pl_"}], "children": [{"type": 13, "ID": "prod-ckvpkqv0rpm", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~15", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~15", "ID": "prod-8iqqeog1p6d", "enabled": true, "print": false, "meta": {"module": "make", "name": "Sweep"}, "argCount": 6, "args": [{"name": "var_name", "value": "frame_pg", "jsValue": "frame_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "pline", "usedVars": ["pline"], "jsValue": "pline_"}, {"name": "x_section", "value": "big_sec", "usedVars": ["big_sec"], "jsValue": "big_sec_"}, {"name": "divisions", "value": "2", "usedVars": [], "jsValue": "2"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "frame_pg", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~15", "ID": "prod-owl2xikz1", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "frames_pg", "usedVars": ["frames_pg"], "jsValue": "frames_pg_"}, {"name": "item", "value": "frame_pg", "usedVars": ["frame_pg"], "jsValue": "frame_pg_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "pline", "selectGeom": false}, {"type": 14, "ID": "prod-0jx5hqgz1qgr", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create the beams for the roof grid."}], "selectGeom": false}, {"type": 4, "ID": "prod-5waav29z04t", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "pline", "jsValue": "pline_"}, {"name": "list", "value": "roof_grid_pl", "usedVars": ["roof_grid_pl"], "jsValue": "roof_grid_pl_"}], "children": [{"type": 13, "ID": "prod-mx2rxb1mtld", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~17", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~17", "ID": "prod-k1jqkvo65y", "enabled": true, "print": false, "meta": {"module": "make", "name": "Sweep"}, "argCount": 6, "args": [{"name": "var_name", "value": "frame_pg", "jsValue": "frame_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "pline", "usedVars": ["pline"], "jsValue": "pline_"}, {"name": "x_section", "value": "small_sec", "usedVars": ["small_sec"], "jsValue": "small_sec_"}, {"name": "divisions", "value": "2", "usedVars": [], "jsValue": "2"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "frame_pg", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~17", "ID": "prod-fccvuz276yu", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "frames_pg", "usedVars": ["frames_pg"], "jsValue": "frames_pg_"}, {"name": "item", "value": "frame_pg", "usedVars": ["frame_pg"], "jsValue": "frame_pg_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "pline", "selectGeom": false}, {"type": 14, "ID": "prod-ol58m570mwj", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create the beams for the horizontal parts of the roof frame."}], "selectGeom": false}, {"type": 4, "ID": "prod-7hyeg97426g", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "pline", "jsValue": "pline_"}, {"name": "list", "value": "roof_horizontal_pl", "usedVars": ["roof_horizontal_pl"], "jsValue": "roof_horizontal_pl_"}], "children": [{"type": 13, "ID": "prod-qck9mtsszr", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~19", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~19", "ID": "prod-wxhf1zevw1p", "enabled": true, "print": false, "meta": {"module": "make", "name": "Sweep"}, "argCount": 6, "args": [{"name": "var_name", "value": "frame_pg", "jsValue": "frame_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "pline", "usedVars": ["pline"], "jsValue": "pline_"}, {"name": "x_section", "value": "small_sec", "usedVars": ["small_sec"], "jsValue": "small_sec_"}, {"name": "divisions", "value": "2", "usedVars": [], "jsValue": "2"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "frame_pg", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~19", "ID": "prod-vltapou1a7h", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "frames_pg", "usedVars": ["frames_pg"], "jsValue": "frames_pg_"}, {"name": "item", "value": "frame_pg", "usedVars": ["frame_pg"], "jsValue": "frame_pg_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "pline", "selectGeom": false}, {"type": 8, "ID": "prod-1hnv1psd4fe", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "frames_pg", "usedVars": ["frames_pg"], "jsValue": "frames_pg_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"roof_beams\"", "usedVars": [], "jsValue": "\"roof_beams\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}]}, {"type": 8, "ID": "prod-vcmop402k0r", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "col_roof_beams", "jsValue": "col_roof_beams_"}, {"name": "__model__"}, {"name": "entities", "value": "frames_pg", "usedVars": ["frames_pg"], "jsValue": "frames_pg_"}, {"name": "name", "value": "\"roof_beams\"", "usedVars": [], "jsValue": "\"roof_beams\""}], "variable": "col_roof_beams"}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Split Roof Plates (grass and concrete)", "id": "node_r8zwvzwg4v", "position": {"x": 5160, "y": 5980}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-xrbp9wxyqbq", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "This node splits the terrace roof plates into floor/grass areas."}]}, {"type": 0, "ID": "prod-yuidc0f30a", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "terrace_roof_pgons", "jsValue": "terrace_roof_pgons_"}, {"name": "value", "value": "(#pg ?@type==\"terrace_roof\" )", "usedVars": [], "jsValue": "( __modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"terrace_roof\"))"}], "variable": "terrace_roof_pgons"}, {"type": 8, "ID": "prod-za2mxwoqijq", "enabled": true, "print": false, "meta": {"module": "make", "name": "Clone"}, "argCount": 3, "args": [{"name": "var_name", "value": "terrace_roof_pgons", "jsValue": "terrace_roof_pgons_"}, {"name": "__model__"}, {"name": "entities", "value": "terrace_roof_pgons", "usedVars": ["terrace_roof_pgons"], "jsValue": "terrace_roof_pgons_"}], "variable": "terrace_roof_pgons"}, {"type": 8, "ID": "prod-1b07u88hrbd", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_roof_curves", "jsValue": "col_roof_curves_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_roof_curves\"", "usedVars": [], "jsValue": "\"tower_roof_curves\""}], "variable": "col_roof_curves"}, {"type": 0, "ID": "prod-arfyqxu7v6a", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_pl", "jsValue": "roof_pl_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "roof_pl"}, {"type": 14, "ID": "prod-96l4d1e2ljp", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Filter out the roof curves so only the inner arrays remain,"}]}, {"type": 4, "ID": "prod-tl1ij2il1pc", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(1, len(col_roof_curves#pl ) - 1, 2)", "usedVars": ["col_roof_curves"], "jsValue": "range(__debug__, 1, len(__debug__,  __modules__.query.Get(__params__.model, 'pl', col_roof_curves_)) - 1, 2)"}], "children": [{"type": 13, "ID": "prod-tl1ij2il1pc-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7", "ID": "prod-v0lrtlhfcx9", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_pl", "jsValue": "roof_pl_"}, {"name": "value", "value": "listJoin(roof_pl, col_roof_curves#pl[index] )", "usedVars": ["col_roof_curves", "roof_pl", "index"], "jsValue": "listJoin(__debug__, roof_pl_,  __modules__.query.Get(__params__.model, 'pl', col_roof_curves_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pl', col_roof_curves_).length)])"}], "variable": "roof_pl"}], "variable": "index"}, {"type": 14, "ID": "prod-18xvertie1k", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Get the facade h curves on the same z axis to pair with the roof curves."}]}, {"type": 8, "ID": "prod-33uvbetrc4d", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_h_beziers", "jsValue": "col_h_beziers_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_long_h_beziers\"", "usedVars": [], "jsValue": "\"tower_long_h_beziers\""}], "variable": "col_h_beziers"}, {"type": 8, "ID": "prod-8djh2q1d6hx", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_s_beziers", "jsValue": "col_s_beziers_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_short_h_beziers\"", "usedVars": [], "jsValue": "\"tower_short_h_beziers\""}], "variable": "col_s_beziers"}, {"type": 0, "ID": "prod-pv7osko8w2", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "facade_h_curve", "jsValue": "facade_h_curve_"}, {"name": "value", "value": "(col_h_beziers#pl )[len(col_s_beziers#pl ) - 1 :]", "usedVars": ["col_h_beziers", "col_s_beziers"], "jsValue": "( __modules__.query.Get(__params__.model, 'pl', col_h_beziers_)).slice(len(__debug__,  __modules__.query.Get(__params__.model, 'pl', col_s_beziers_)) - 1)"}], "variable": "facade_h_curve", "terminate": false}, {"type": 14, "ID": "prod-0sp0pnreb8pb", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create the inner floor polygon for each terrace step"}]}, {"type": 4, "ID": "prod-e43e984inyr", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, len(roof_pl))", "usedVars": ["roof_pl"], "jsValue": "range(__debug__, 0, len(__debug__, roof_pl_))"}], "children": [{"type": 13, "ID": "prod-e43e984inyr-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~13", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~13", "ID": "prod-ug8greb832s", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "floor_pgon", "jsValue": "floor_pgon_"}, {"name": "__model__"}, {"name": "entities", "value": "listJoin(listRev(roof_pl[index]#ps ), facade_h_curve[index]#ps )", "usedVars": ["roof_pl", "facade_h_curve", "index"], "jsValue": "listJoin(__debug__, listRev(__debug__,  __modules__.query.Get(__params__.model, 'ps', roof_pl_[pythonList(index_, roof_pl_.length)])),  __modules__.query.Get(__params__.model, 'ps', facade_h_curve_[pythonList(index_, facade_h_curve_.length)]))"}], "variable": "floor_pgon"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~13", "ID": "prod-uxr2ohngcsc", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floor_pgon", "usedVars": ["floor_pgon"], "jsValue": "floor_pgon_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"terrace_roof_floor\"", "usedVars": [], "jsValue": "\"terrace_roof_floor\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~13", "ID": "prod-9hmkjil8cv", "enabled": true, "print": true, "meta": {"module": "edit", "name": "Hole"}, "argCount": 4, "args": [{"name": "var_name", "value": "hole", "jsValue": "hole_"}, {"name": "__model__"}, {"name": "pgon", "value": "terrace_roof_pgons[index]", "usedVars": ["terrace_roof_pgons", "index"], "jsValue": "terrace_roof_pgons_[pythonList(index_, terrace_roof_pgons_.length)]"}, {"name": "entities", "value": "floor_pgon#ps", "usedVars": ["floor_pgon"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', floor_pgon_)"}], "variable": "hole"}], "variable": "index"}, {"type": 14, "ID": "prod-6sex4obszf3", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Set the outer terrace roof type's as terrace_roof_grass."}]}, {"type": 8, "ID": "prod-vnuicyfq2vd", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "terrace_roof_pgons", "usedVars": ["terrace_roof_pgons"], "jsValue": "terrace_roof_pgons_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"terrace_roof_grass\"", "usedVars": [], "jsValue": "\"terrace_roof_grass\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}]}, {"type": 14, "ID": "prod-0bn9dvtlu758", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Give inner floor plates a thickness"}], "selectGeom": false}, {"type": 8, "ID": "prod-5xuet9y2l9e", "enabled": true, "print": false, "meta": {"module": "make", "name": "Clone"}, "argCount": 3, "args": [{"name": "var_name", "value": "floor_plates", "jsValue": "floor_plates_"}, {"name": "__model__"}, {"name": "entities", "value": "#pg ?@type==\"terrace_roof_floor\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"terrace_roof_floor\")"}], "variable": "floor_plates"}, {"type": 8, "ID": "prod-hlgiosrgfg8", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "floor_plates", "jsValue": "floor_plates_"}, {"name": "__model__"}, {"name": "entities", "value": "floor_plates", "usedVars": ["floor_plates"], "jsValue": "floor_plates_"}, {"name": "dist", "value": "0.1", "usedVars": [], "jsValue": "0.1"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "floor_plates"}, {"type": 8, "ID": "prod-gxxnghxvby", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floor_plates", "usedVars": ["floor_plates"], "jsValue": "floor_plates_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"terrace_roof_floor\"", "usedVars": [], "jsValue": "\"terrace_roof_floor\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", {"source": {"name": "output", "type": 1, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1"], "meta": {"mode": 0}, "parentNode": {"name": "Create Curved Side Facade", "id": "node_qx2ddeihkyj", "position": {"x": 5520, "y": 5580}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-p3gmlhdahqa", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "This node prepares the skin that wraps around the tower and assigns it a temporary translucent material."}], "selectGeom": false}, {"type": 8, "ID": "prod-85ggnwois4d", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_short_h_curves", "jsValue": "col_short_h_curves_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_short_h_beziers\"", "usedVars": [], "jsValue": "\"tower_short_h_beziers\""}], "variable": "col_short_h_curves", "selectGeom": false}, {"type": 8, "ID": "prod-ap5mcl23ri5", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_long_h_curves", "jsValue": "col_long_h_curves_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_long_h_beziers\"", "usedVars": [], "jsValue": "\"tower_long_h_beziers\""}], "variable": "col_long_h_curves", "selectGeom": false}, {"type": 0, "ID": "prod-ynafi21ggd", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "short_h_pl", "jsValue": "short_h_pl_"}, {"name": "value", "value": "col_short_h_curves#pl", "usedVars": ["col_short_h_curves"], "jsValue": "__modules__.query.Get(__params__.model, 'pl', col_short_h_curves_)"}], "variable": "short_h_pl", "selectGeom": false}, {"type": 0, "ID": "prod-aeetvmxn367", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "long_h_pl", "jsValue": "long_h_pl_"}, {"name": "value", "value": "col_long_h_curves#pl", "usedVars": ["col_long_h_curves"], "jsValue": "__modules__.query.Get(__params__.model, 'pl', col_long_h_curves_)"}], "variable": "long_h_pl", "selectGeom": false}, {"type": 8, "ID": "prod-4y0o4xznk86", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "col_curve_facade_pg", "jsValue": "col_curve_facade_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "[]", "usedVars": [], "jsValue": "[]"}, {"name": "name", "value": "\"tower_curved_facade\"", "usedVars": [], "jsValue": "\"tower_curved_facade\""}], "variable": "col_curve_facade_pg", "selectGeom": false}, {"type": 14, "ID": "prod-u9c99nqile", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Use the h curves from the upstream node to create reference polygons for the curved sides, and save them into a collection."}], "selectGeom": false}, {"type": 4, "ID": "prod-k3zp3m6dgp", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, len(short_h_pl) - 1)", "usedVars": ["short_h_pl"], "jsValue": "range(__debug__, 0, len(__debug__, short_h_pl_) - 1)"}], "children": [{"type": 13, "ID": "prod-om8jwr1x8ql", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~8", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-nayep5ex8yn", "enabled": true, "print": false, "meta": {"module": "make", "name": "Loft"}, "argCount": 5, "args": [{"name": "var_name", "value": "short_facade_pg", "jsValue": "short_facade_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "[short_h_pl[index + 1], short_h_pl[index]]", "usedVars": ["short_h_pl", "index"], "jsValue": "[short_h_pl_[pythonList(index_ + 1, short_h_pl_.length)], short_h_pl_[pythonList(index_, short_h_pl_.length)]]"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'open_quads'", "jsValue": "'open_quads'", "usedVars": []}], "variable": "short_facade_pg", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~8"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~8", "ID": "prod-70mu4ndtm3h", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_curve_facade_pg", "usedVars": ["col_curve_facade_pg"], "jsValue": "col_curve_facade_pg_"}, {"name": "entities", "value": "short_facade_pg", "usedVars": ["short_facade_pg"], "jsValue": "short_facade_pg_"}], "selectGeom": false}], "variable": "index", "selectGeom": false}, {"type": 4, "ID": "prod-1vl0wuuc8j", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, len(long_h_pl) - 1)", "usedVars": ["long_h_pl"], "jsValue": "range(__debug__, 0, len(__debug__, long_h_pl_) - 1)"}], "children": [{"type": 13, "ID": "prod-i8r319iijo", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~9", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-54yup3juvcs", "enabled": true, "print": false, "meta": {"module": "make", "name": "Loft"}, "argCount": 5, "args": [{"name": "var_name", "value": "long_facade_pg", "jsValue": "long_facade_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "[long_h_pl[index], long_h_pl[index + 1]]", "usedVars": ["long_h_pl", "index"], "jsValue": "[long_h_pl_[pythonList(index_, long_h_pl_.length)], long_h_pl_[pythonList(index_ + 1, long_h_pl_.length)]]"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'open_quads'", "jsValue": "'open_quads'", "usedVars": []}], "variable": "long_facade_pg", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~9"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~9", "ID": "prod-pdotz9utrho", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_curve_facade_pg", "usedVars": ["col_curve_facade_pg"], "jsValue": "col_curve_facade_pg_"}, {"name": "entities", "value": "long_facade_pg", "usedVars": ["long_facade_pg"], "jsValue": "long_facade_pg_"}], "selectGeom": false, "terminate": false}], "variable": "index", "selectGeom": false}, {"type": 14, "ID": "prod-m3feq7jzga", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Use the roof edges list to prepare the reference skin polygons for the curved side of the roof."}], "selectGeom": false}, {"type": 14, "ID": "prod-2vefg3ia0le", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "We skip the first and last elements (they are already part of the frame)"}], "selectGeom": false}, {"type": 8, "ID": "prod-0pldbjl1htm", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_roof_pl", "jsValue": "col_roof_pl_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_roof_curves\"", "usedVars": [], "jsValue": "\"tower_roof_curves\""}], "variable": "col_roof_pl", "selectGeom": false}, {"type": 0, "ID": "prod-fnqcirvma6c", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_pl", "jsValue": "roof_pl_"}, {"name": "value", "value": "col_roof_pl#pl[1:-1]", "usedVars": ["col_roof_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'pl', col_roof_pl_).slice(1, -1)"}], "variable": "roof_pl", "selectGeom": false}, {"type": 0, "ID": "prod-8414bi83z0b", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "index", "jsValue": "index_"}, {"name": "value", "value": "0", "usedVars": [], "jsValue": "0"}], "variable": "index", "terminate": false, "selectGeom": false}, {"type": 5, "ID": "prod-5rllkzkar17", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "index < len(roof_pl)", "usedVars": ["roof_pl", "index"], "jsValue": "index_ < len(__debug__, roof_pl_)"}], "children": [{"type": 13, "ID": "prod-smf7tzyffxg", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~15", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~15", "ID": "prod-dh428lwd3la", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Reverse the polylines so the skin faces out."}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~15", "ID": "prod-vax1pfijxy", "enabled": true, "print": false, "meta": {"module": "make", "name": "Clone"}, "argCount": 3, "args": [{"name": "var_name", "value": "roof_pl[index]", "jsValue": "roof_pl_[pythonList(index_, roof_pl_.length)]", "usedVars": ["roof_pl", "index"]}, {"name": "__model__"}, {"name": "entities", "value": "roof_pl[index]", "usedVars": ["roof_pl", "index"], "jsValue": "roof_pl_[pythonList(index_, roof_pl_.length)]"}], "variable": null, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~15", "ID": "prod-b4gcbdnh8or", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Reverse"}, "argCount": 3, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "roof_pl[index]", "usedVars": ["roof_pl", "index"], "jsValue": "roof_pl_[pythonList(index_, roof_pl_.length)]"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~15", "ID": "prod-gkpo7ld3om5", "enabled": true, "print": false, "meta": {"module": "make", "name": "Clone"}, "argCount": 3, "args": [{"name": "var_name", "value": "roof_pl[index + 1]", "jsValue": "roof_pl_[pythonList(index_ + 1, roof_pl_.length)]", "usedVars": ["roof_pl", "index"]}, {"name": "__model__"}, {"name": "entities", "value": "roof_pl[index + 1]", "usedVars": ["roof_pl", "index"], "jsValue": "roof_pl_[pythonList(index_ + 1, roof_pl_.length)]"}], "variable": null, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~15", "ID": "prod-vhfuk6tm0rp", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Reverse"}, "argCount": 3, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "roof_pl[index + 1]", "usedVars": ["roof_pl", "index"], "jsValue": "roof_pl_[pythonList(index_ + 1, roof_pl_.length)]"}], "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~15", "ID": "prod-hwm0dgjw5kt", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "index == 0", "usedVars": ["index"], "jsValue": "index_ == 0"}], "children": [{"type": 13, "ID": "prod-6evhs5tz1fv", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~15~children~6", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~15~children~6", "ID": "prod-ip6fhvytttm", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Do not loft the panel that will be blocked by the dormer."}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~15~children~6", "ID": "prod-glqxpxaxdy9", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "truncated_roof_pl", "jsValue": "truncated_roof_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "roof_pl[index]#ps[1:]", "usedVars": ["roof_pl", "index"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', roof_pl_[pythonList(index_, roof_pl_.length)]).slice(1)"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "truncated_roof_pl", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~15~children~6", "ID": "prod-j4ndbb14pk", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "truncated_roof2_pl", "jsValue": "truncated_roof2_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "roof_pl[index + 1]#ps[1:]", "usedVars": ["roof_pl", "index"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', roof_pl_[pythonList(index_ + 1, roof_pl_.length)]).slice(1)"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "truncated_roof2_pl", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~15~children~6", "ID": "prod-2un6tjxp52v", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_pl[index]", "jsValue": "roof_pl_[pythonList(index_, roof_pl_.length)]", "usedVars": ["roof_pl", "index"]}, {"name": "value", "value": "truncated_roof_pl", "usedVars": ["truncated_roof_pl"], "jsValue": "truncated_roof_pl_"}], "variable": null, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~15~children~6", "ID": "prod-sdbb5fsxkyc", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_pl[index + 1]", "jsValue": "roof_pl_[pythonList(index_ + 1, roof_pl_.length)]", "usedVars": ["roof_pl", "index"]}, {"name": "value", "value": "truncated_roof2_pl", "usedVars": ["truncated_roof2_pl"], "jsValue": "truncated_roof2_pl_"}], "variable": null, "selectGeom": false}], "selectGeom": false}, {"type": 8, "ID": "prod-puaj8hxbitn", "enabled": true, "print": false, "meta": {"module": "make", "name": "Loft"}, "argCount": 5, "args": [{"name": "var_name", "value": "roof_facade_pg", "jsValue": "roof_facade_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "[roof_pl[index], roof_pl[index + 1]]", "usedVars": ["roof_pl", "index"], "jsValue": "[roof_pl_[pythonList(index_, roof_pl_.length)], roof_pl_[pythonList(index_ + 1, roof_pl_.length)]]"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'open_quads'", "jsValue": "'open_quads'", "usedVars": []}], "variable": "roof_facade_pg", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~15"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~15", "ID": "prod-hmj393swa25", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_curve_facade_pg", "usedVars": ["col_curve_facade_pg"], "jsValue": "col_curve_facade_pg_"}, {"name": "entities", "value": "roof_facade_pg", "usedVars": ["roof_facade_pg"], "jsValue": "roof_facade_pg_"}], "selectGeom": false, "terminate": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~15", "ID": "prod-xskmjmld8s", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "index", "jsValue": "index_"}, {"name": "value", "value": "index + 2", "usedVars": ["index"], "jsValue": "index_ + 2"}], "variable": "index", "selectGeom": false}], "selectGeom": false}, {"type": 14, "ID": "prod-1hjgml1g09z", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Prepare the skin for the dormer"}], "selectGeom": false}, {"type": 0, "ID": "prod-onzpwvz6k1p", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "dormer_pl", "jsValue": "dormer_pl_"}, {"name": "value", "value": "#pl ?@type==\"dormer\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pl', null), ['type', null], '==', \"dormer\")"}], "variable": "dormer_pl", "selectGeom": false}, {"type": 8, "ID": "prod-3q51fbxpm0m", "enabled": true, "print": false, "meta": {"module": "make", "name": "Loft"}, "argCount": 5, "args": [{"name": "var_name", "value": "dormer_pg", "jsValue": "dormer_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "[dormer_pl[1], dormer_pl[0]]", "usedVars": ["dormer_pl"], "jsValue": "[dormer_pl_[pythonList(1, dormer_pl_.length)], dormer_pl_[pythonList(0, dormer_pl_.length)]]"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'open_quads'", "jsValue": "'open_quads'", "usedVars": []}], "variable": "dormer_pg", "selectGeom": false}, {"type": 8, "ID": "prod-0zu048poxgd", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_curve_facade_pg", "usedVars": ["col_curve_facade_pg"], "jsValue": "col_curve_facade_pg_"}, {"name": "entities", "value": "dormer_pg", "usedVars": ["dormer_pg"], "jsValue": "dormer_pg_"}], "selectGeom": false, "terminate": false}, {"type": 14, "ID": "prod-qfj4errxjx", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Tag the curved facade panels so we can assign them materials downstream."}], "selectGeom": false}, {"type": 8, "ID": "prod-pq3kww7vf", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "col_curve_facade_pg#pg", "usedVars": ["col_curve_facade_pg"], "jsValue": "__modules__.query.Get(__params__.model, 'pg', col_curve_facade_pg_)"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"glass_facade\"", "usedVars": [], "jsValue": "\"glass_facade\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": {"name": "input", "type": 0, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~input", "selected": false}], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode"}, "output": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source", "hasError": false, "hasExecuted": true, "model": 15}}, "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "selected": false}, {"source": {"name": "output", "type": 1, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2"], "meta": {"mode": 0}, "parentNode": {"name": "Prepare panels for sun shading", "id": "node_kximj27h7kk", "position": {"x": 5340, "y": 5680}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-xewq8w2m7q", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "If we want to use sunshading, change the type of all the facade panels to sunshading_facade so we can reference them"}]}, {"type": 1, "ID": "prod-p6pz690tu2p", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "BOOL_SUNSHADING", "usedVars": ["BOOL_SUNSHADING"], "jsValue": "BOOL_SUNSHADING_"}], "children": [{"type": 13, "ID": "prod-l64urfztku8", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~procedure~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~procedure~2", "ID": "prod-evuq4yaquc", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "affectedpanels", "jsValue": "affectedpanels_"}, {"name": "value", "value": "listJoin(#pg ?@type==\"glass_facade\" , #pg ?@type==\"solid_panels\" )", "usedVars": [], "jsValue": "listJoin(__debug__,  __modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"glass_facade\"),  __modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"solid_panels\"))"}], "variable": "affectedpanels"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~procedure~2", "ID": "prod-tq8s8hyy4b9", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "affectedpanels", "usedVars": ["affectedpanels"], "jsValue": "affectedpanels_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"sunshading_facade\"", "usedVars": [], "jsValue": "\"sunshading_facade\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false, "terminate": false}], "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": {"name": "input", "type": 0, "edges": [{"source": {"name": "output", "type": 1, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0"], "meta": {"mode": 0}, "parentNode": {"name": "Create Flat Side Facade (West)", "id": "node_ilwu018pm5", "position": {"x": 5280, "y": 5580}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-yai8w06vlln", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "This node creates a bezier curve along the flat side to use as a reference to split the facade vertically."}]}, {"type": 14, "ID": "prod-uykc19ojzxl", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "The facade will use two materials to mimic the pattern on the actual building, one opaque and one translucent."}]}, {"type": 14, "ID": "prod-u1e3qr1o7q", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Prepare the collections and references we will be using for this node."}]}, {"type": 8, "ID": "prod-fsbcir45otq", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_west_h_lines", "jsValue": "col_west_h_lines_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_west_h_lines\"", "usedVars": [], "jsValue": "\"tower_west_h_lines\""}], "variable": "col_west_h_lines", "selectGeom": false}, {"type": 8, "ID": "prod-lig9mc3bema", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_east_h_lines", "jsValue": "col_east_h_lines_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_east_h_lines\"", "usedVars": [], "jsValue": "\"tower_east_h_lines\""}], "variable": "col_east_h_lines", "selectGeom": false}, {"type": 0, "ID": "prod-6kyt66b0x9y", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "facade_pl", "jsValue": "facade_pl_"}, {"name": "value", "value": "#pl ?@type==\"west_facade_edge\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pl', null), ['type', null], '==', \"west_facade_edge\")"}], "variable": "facade_pl"}, {"type": 8, "ID": "prod-e3d2j5knx15", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "base_edge_pl", "jsValue": "base_edge_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "facade_pl[0]", "usedVars": ["facade_pl"], "jsValue": "facade_pl_[pythonList(0, facade_pl_.length)]"}, {"name": "vector", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}], "variable": "base_edge_pl"}, {"type": 8, "ID": "prod-helopenh2k", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_west_bezier", "jsValue": "col_west_bezier_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_short_bezier1\"", "usedVars": [], "jsValue": "\"tower_short_bezier1\""}], "variable": "col_west_bezier"}, {"type": 0, "ID": "prod-3sc1wwaw1h3", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "bezier_pl", "jsValue": "bezier_pl_"}, {"name": "value", "value": "col_west_bezier#pl", "usedVars": ["col_west_bezier"], "jsValue": "__modules__.query.Get(__params__.model, 'pl', col_west_bezier_)"}], "variable": "bezier_pl"}, {"type": 8, "ID": "prod-nfeghrgbzhe", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_short_h_pl", "jsValue": "col_short_h_pl_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_short_h_beziers\"", "usedVars": [], "jsValue": "\"tower_short_h_beziers\""}], "variable": "col_short_h_pl", "selectGeom": false}, {"type": 8, "ID": "prod-x92adz48rb", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_long_h_pl", "jsValue": "col_long_h_pl_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_long_h_beziers\"", "usedVars": [], "jsValue": "\"tower_long_h_beziers\""}], "variable": "col_long_h_pl", "selectGeom": false}, {"type": 14, "ID": "prod-mth02zy9rvg", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Some helpful variables we will refer to."}]}, {"type": 0, "ID": "prod-f6f9jrwvy86", "enabled": true, "print": true, "argCount": 2, "args": [{"name": "var_name", "value": "floor_difference", "jsValue": "floor_difference_"}, {"name": "value", "value": "len(col_long_h_pl#pl ) - len(col_short_h_pl#pl )", "usedVars": ["col_short_h_pl", "col_long_h_pl"], "jsValue": "len(__debug__,  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)) - len(__debug__,  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_))"}], "variable": "floor_difference", "selectGeom": false}, {"type": 0, "ID": "prod-fjb5n5u1ej9", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "short_side_height", "jsValue": "short_side_height_"}, {"name": "value", "value": "BUILDING_HEIGHT * 0.9", "usedVars": ["BUILDING_HEIGHT"], "jsValue": "BUILDING_HEIGHT_ * 0.9"}], "variable": "short_side_height", "selectGeom": false}, {"type": 14, "ID": "prod-u6e1xx2c7ng", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Start with the West facade. Divide the roof edge and the ground edge so we have points of references. (According to the number of terraces on the roof)"}]}, {"type": 0, "ID": "prod-uk0d9z4jtfq", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_edge_pl", "jsValue": "roof_edge_pl_"}, {"name": "value", "value": "#pl ?@type==\"undivided_roof_edge\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pl', null), ['type', null], '==', \"undivided_roof_edge\")"}], "variable": "roof_edge_pl"}, {"type": 8, "ID": "prod-bfqs6ecshb6", "enabled": true, "print": false, "meta": {"module": "make", "name": "Clone"}, "argCount": 3, "args": [{"name": "var_name", "value": "west_roof_edge_pl", "jsValue": "west_roof_edge_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "roof_edge_pl[0]", "usedVars": ["roof_edge_pl"], "jsValue": "roof_edge_pl_[pythonList(0, roof_edge_pl_.length)]"}], "variable": "west_roof_edge_pl"}, {"type": 8, "ID": "prod-5hvdaelu16q", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "facade_pl", "usedVars": ["facade_pl"], "jsValue": "facade_pl_"}, {"name": "item", "value": "west_roof_edge_pl", "usedVars": ["west_roof_edge_pl"], "jsValue": "west_roof_edge_pl_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "terminate": false}, {"type": 0, "ID": "prod-jg8q2cnz9zk", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_edge_pl", "jsValue": "roof_edge_pl_"}, {"name": "value", "value": "#pl ?@type==\"roof_edge\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pl', null), ['type', null], '==', \"roof_edge\")"}], "variable": "roof_edge_pl"}, {"type": 8, "ID": "prod-eowm1fcmh3i", "enabled": true, "print": false, "meta": {"module": "make", "name": "Clone"}, "argCount": 3, "args": [{"name": "var_name", "value": "west_roof_edge_pl", "jsValue": "west_roof_edge_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "roof_edge_pl[0]", "usedVars": ["roof_edge_pl"], "jsValue": "roof_edge_pl_[pythonList(0, roof_edge_pl_.length)]"}], "variable": "west_roof_edge_pl", "selectGeom": false}, {"type": 8, "ID": "prod-j5rjtbvwphr", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Divide"}, "argCount": 5, "args": [{"name": "var_name", "value": "base_edge_pl", "jsValue": "base_edge_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "base_edge_pl", "usedVars": ["base_edge_pl"], "jsValue": "base_edge_pl_"}, {"name": "divisor", "value": "floor_difference + 1", "usedVars": ["floor_difference"], "jsValue": "floor_difference_ + 1"}, {"name": "method", "value": "'by_number'", "jsValue": "'by_number'", "usedVars": []}], "variable": "base_edge_pl", "terminate": false}, {"type": 14, "ID": "prod-t3eafix96pp", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create a bezier curve for each point of reference."}]}, {"type": 4, "ID": "prod-legyf3vyeo", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, floor_difference)", "usedVars": ["floor_difference"], "jsValue": "range(__debug__, 0, floor_difference_)"}], "children": [{"type": 13, "ID": "prod-legyf3vyeo-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~23", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~23", "ID": "prod-99buulhnshi", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "mid_bezier_pl", "jsValue": "mid_bezier_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "bezier_pl", "usedVars": ["bezier_pl"], "jsValue": "bezier_pl_"}, {"name": "vector", "value": "vecSub(west_roof_edge_pl#ps[index+1] @xyz , west_roof_edge_pl#ps[0] @xyz )", "usedVars": ["west_roof_edge_pl", "index"], "jsValue": "vecSub(__debug__,  __modules__.attrib.Get(__params__.model,  __modules__.query.Get(__params__.model, 'ps', west_roof_edge_pl_)[pythonList(index_ + 1, __modules__.query.Get(__params__.model, 'ps', west_roof_edge_pl_).length)], 'xyz'),  __modules__.attrib.Get(__params__.model,  __modules__.query.Get(__params__.model, 'ps', west_roof_edge_pl_)[pythonList(0, __modules__.query.Get(__params__.model, 'ps', west_roof_edge_pl_).length)], 'xyz'))"}], "variable": "mid_bezier_pl"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~23", "ID": "prod-d5f9i52mmgi", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "From each point in the bezier curve, draw a vertical line downwards to the lower floor."}]}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~23", "ID": "prod-x18l3xuv0q", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "mid_bezier_ps", "jsValue": "mid_bezier_ps_"}, {"name": "value", "value": "mid_bezier_pl#ps", "usedVars": ["mid_bezier_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', mid_bezier_pl_)"}], "variable": "mid_bezier_ps", "terminate": false}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~23", "ID": "prod-t2p1maboijj", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index2", "jsValue": "index2_"}, {"name": "list", "value": "range(1, len(mid_bezier_ps))", "usedVars": ["mid_bezier_ps"], "jsValue": "range(__debug__, 1, len(__debug__, mid_bezier_ps_))"}], "children": [{"type": 13, "ID": "prod-t2p1maboijj-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~23~children~4", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~23~children~4", "ID": "prod-1yi4yuhr3u7", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Draw a vertical line downwards to the position on the bottom line."}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~23~children~4", "ID": "prod-tb7pacxd1xo", "enabled": true, "print": false, "meta": {"module": "make", "name": "Position"}, "argCount": 3, "args": [{"name": "var_name", "value": "bottom_ps", "jsValue": "bottom_ps_"}, {"name": "__model__"}, {"name": "coords", "value": "[mid_bezier_ps[index2]@xyz[0] , mid_bezier_ps[index2]@xyz[1] , mid_bezier_ps[index2 - 1]@xyz[2] ]", "usedVars": ["mid_bezier_ps", "index2"], "jsValue": "[ __modules__.attrib.Get(__params__.model, mid_bezier_ps_[pythonList(index2_, mid_bezier_ps_.length)], ['xyz', 0]),  __modules__.attrib.Get(__params__.model, mid_bezier_ps_[pythonList(index2_, mid_bezier_ps_.length)], ['xyz', 1]),  __modules__.attrib.Get(__params__.model, mid_bezier_ps_[pythonList(index2_ - 1, mid_bezier_ps_.length)], ['xyz', 2])]"}], "variable": "bottom_ps", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~23~children~4", "ID": "prod-p14ve3plm8a", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "facade_vertical_pl", "jsValue": "facade_vertical_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "listJoin(mid_bezier_ps[index2], bottom_ps)", "usedVars": ["bottom_ps", "mid_bezier_ps", "index2"], "jsValue": "listJoin(__debug__, mid_bezier_ps_[pythonList(index2_, mid_bezier_ps_.length)], bottom_ps_)"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "facade_vertical_pl"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~23~children~4", "ID": "prod-d8folr1nsba", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "facade_vertical_pl", "usedVars": ["facade_vertical_pl"], "jsValue": "facade_vertical_pl_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"temp_vertical_edge\"", "usedVars": [], "jsValue": "\"temp_vertical_edge\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}]}], "variable": "index2"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~23", "ID": "prod-m9qldy03538", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Clean up the bezier curves used for the references"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~23", "ID": "prod-64x97hrq9fw", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "mid_bezier_pl", "usedVars": ["mid_bezier_pl"], "jsValue": "mid_bezier_pl_"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}]}], "variable": "index"}, {"type": 14, "ID": "prod-7ycz3fzoh3", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "From each vertical line, extrude them in the direction of the bottom polyline."}]}, {"type": 0, "ID": "prod-7fx0823j2mg", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "facade_vertical_pl", "jsValue": "facade_vertical_pl_"}, {"name": "value", "value": "listRev(#pl ?@type==\"temp_vertical_edge\" )", "usedVars": [], "jsValue": "listRev(__debug__,  __modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pl', null), ['type', null], '==', \"temp_vertical_edge\"))"}], "variable": "facade_vertical_pl", "terminate": false}, {"type": 0, "ID": "prod-ag0g790e4ho", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "facade_pl", "jsValue": "facade_pl_"}, {"name": "value", "value": "listRev(facade_pl)", "usedVars": ["facade_pl"], "jsValue": "listRev(__debug__, facade_pl_)"}], "variable": "facade_pl"}, {"type": 4, "ID": "prod-c43ezorlvhi", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, len(facade_vertical_pl))", "usedVars": ["facade_vertical_pl"], "jsValue": "range(__debug__, 0, len(__debug__, facade_vertical_pl_))"}], "children": [{"type": 13, "ID": "prod-c43ezorlvhi-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~27", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~27", "ID": "prod-07llbxv7xrfv", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "extrude_direction", "jsValue": "extrude_direction_"}, {"name": "value", "value": "0", "usedVars": [], "jsValue": "0"}], "variable": "extrude_direction"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~27", "ID": "prod-zjlpnlbi06g", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "facade_vertical", "jsValue": "facade_vertical_", "usedVars": ["facade_vertical_pl", "index"]}, {"name": "value", "value": "facade_vertical_pl[index]", "usedVars": ["facade_vertical_pl", "index"], "jsValue": "facade_vertical_pl_[pythonList(index_, facade_vertical_pl_.length)]"}], "variable": "facade_vertical"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~27", "ID": "prod-hzglva2huyf", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Determine the direction to extrude the opaque panel in."}]}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~27", "ID": "prod-9k5a3u1ejg", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "(index < len(facade_vertical_pl) - 1)", "usedVars": ["facade_vertical_pl", "index"], "jsValue": "(index_ < len(__debug__, facade_vertical_pl_) - 1)"}], "children": [{"type": 13, "ID": "prod-9k5a3u1ejg-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~27~children~4", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~27~children~4", "ID": "prod-21tn527n4i3h", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "localFunc", "name": "CheckDirection"}, "args": [{"name": "var_name", "value": "extrude_direction", "jsValue": "extrude_direction_"}, {"name": "entity1", "value": "facade_vertical_pl[index]", "usedVars": ["facade_vertical_pl", "index"], "jsValue": "facade_vertical_pl_[pythonList(index_, facade_vertical_pl_.length)]"}, {"name": "entity2", "value": "facade_vertical_pl[index + 1]", "usedVars": ["facade_vertical_pl", "index"], "jsValue": "facade_vertical_pl_[pythonList(index_ + 1, facade_vertical_pl_.length)]"}], "variable": "extrude_direction"}]}, {"type": 3, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~27", "ID": "prod-tjur6q1q1nd", "enabled": true, "print": false, "argCount": 0, "args": [], "children": [{"type": 13, "ID": "prod-tjur6q1q1nd-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~27~children~5", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~27~children~5", "ID": "prod-0bvfrg8w6yc6", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "extrude_direction", "jsValue": "extrude_direction_"}, {"name": "value", "value": "-1", "usedVars": [], "jsValue": "-1"}], "variable": "extrude_direction", "selectGeom": false}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~27", "ID": "prod-8pamq3xvy8c", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Add randomization to make the facade look more interesting (based on the building's width)"}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~27", "ID": "prod-epokknaqatq", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "We extrude the opaque panel along the direction of the building's curvature."}]}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~27", "ID": "prod-ix45bdkzrxc", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "random_width", "jsValue": "random_width_"}, {"name": "value", "value": "rand(BUILDING_SIZE_X * 0.05, BUILDING_SIZE_X * 0.1)", "usedVars": ["BUILDING_SIZE_X"], "jsValue": "rand(__debug__, BUILDING_SIZE_X_ * 0.05, BUILDING_SIZE_X_ * 0.1)"}], "variable": "random_width", "terminate": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~27", "ID": "prod-qcad5riyrf", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Vector"}, "argCount": 3, "args": [{"name": "var_name", "value": "edge_vec", "jsValue": "edge_vec_"}, {"name": "__model__"}, {"name": "entities", "usedVars": ["facade_pl", "index"], "value": "facade_pl[index % len(facade_pl)]", "jsValue": "facade_pl_[pythonList(index_ % len(__debug__, facade_pl_), facade_pl_.length)]"}], "selectGeom": false, "variable": "edge_vec"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~27", "ID": "prod-hx05yqnacon", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "edge_vec", "jsValue": "edge_vec_"}, {"name": "value", "value": "vecMult(vecSetLen(listFlat(edge_vec), random_width), extrude_direction)", "usedVars": ["extrude_direction", "random_width", "edge_vec"], "jsValue": "vecMult(__debug__, vecSetLen(__debug__, listFlat(__debug__, edge_vec_), random_width_), extrude_direction_)"}], "variable": "edge_vec"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~27", "ID": "prod-bdwpcghfykf", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "extruded_pg", "jsValue": "extruded_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "facade_vertical", "usedVars": ["facade_vertical"], "jsValue": "facade_vertical_"}, {"name": "dist", "usedVars": ["edge_vec"], "value": "edge_vec", "jsValue": "edge_vec_"}, {"name": "divisions", "usedVars": [], "value": "1", "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "extruded_pg", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~27", "ID": "prod-ox1qpor7eui", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "extruded_pg", "usedVars": ["extruded_pg"], "jsValue": "extruded_pg_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"solid_panels\"", "usedVars": [], "jsValue": "\"solid_panels\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}]}], "variable": "index"}, {"type": 0, "ID": "prod-upo1rful1vl", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "extruded_pgs", "jsValue": "extruded_pgs_"}, {"name": "value", "value": "listRev(#pg ?@type==\"solid_panels\" )", "usedVars": [], "jsValue": "listRev(__debug__,  __modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"solid_panels\"))"}], "variable": "extruded_pgs", "terminate": false}, {"type": 14, "ID": "prod-fc10wy1qjqh", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "We need to set the normals for the extruded polygons so their positions index are correct."}]}, {"type": 18, "ID": "prod-f2k6lfw8hn", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "localFunc", "name": "FixNormals"}, "args": [{"name": "__none__"}, {"name": "pgon_entities", "value": "extruded_pgs", "usedVars": ["extruded_pgs"], "jsValue": "extruded_pgs_"}], "selectGeom": false}, {"type": 14, "ID": "prod-ulg03q6rt7q", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Clean up the collection holding the old reference horizontal flat facade lines so we can re-generate them."}]}, {"type": 8, "ID": "prod-w5mwwfd7bki", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "facade_pl", "usedVars": ["facade_pl"], "jsValue": "facade_pl_"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}]}, {"type": 0, "ID": "prod-dumq2btv60k", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "flat_west_h_pl", "jsValue": "flat_west_h_pl_"}, {"name": "value", "value": "col_west_h_lines#pl", "usedVars": ["col_west_h_lines"], "jsValue": "__modules__.query.Get(__params__.model, 'pl', col_west_h_lines_)"}], "variable": "flat_west_h_pl", "selectGeom": false}, {"type": 8, "ID": "prod-1zw9b94y7ij", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Delete"}, "argCount": 3, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_west_h_lines", "usedVars": ["col_west_h_lines"], "jsValue": "col_west_h_lines_"}]}, {"type": 8, "ID": "prod-gjyc0i8wd8p", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "col_west_h_lines", "jsValue": "col_west_h_lines_"}, {"name": "__model__"}, {"name": "entities", "value": "[]", "usedVars": [], "jsValue": "[]"}, {"name": "name", "value": "\"glass_facade\"", "usedVars": [], "jsValue": "\"glass_facade\""}], "variable": "col_west_h_lines"}, {"type": 14, "ID": "prod-ubql7o4j9rp", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create new reference horizontal facade polylines that also pass through the opaque panels."}]}, {"type": 0, "ID": "prod-kn4m32rbwbr", "enabled": true, "print": true, "argCount": 2, "args": [{"name": "var_name", "value": "number_of_curves", "jsValue": "number_of_curves_"}, {"name": "value", "value": "len(col_short_h_pl#pl )", "usedVars": ["col_short_h_pl"], "jsValue": "len(__debug__,  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_))"}], "variable": "number_of_curves"}, {"type": 0, "ID": "prod-a0u2to5qz0r", "enabled": true, "print": true, "argCount": 2, "args": [{"name": "var_name", "value": "column_size", "jsValue": "column_size_"}, {"name": "value", "value": "len(extruded_pgs) / floor_difference", "usedVars": ["floor_difference", "extruded_pgs"], "jsValue": "len(__debug__, extruded_pgs_) / floor_difference_"}], "variable": "column_size"}, {"type": 4, "ID": "prod-6lwrbncjmwv", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, number_of_curves - 1)", "usedVars": ["number_of_curves"], "jsValue": "range(__debug__, 0, number_of_curves_ - 1)"}], "children": [{"type": 13, "ID": "prod-6lwrbncjmwv-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39", "ID": "prod-35aoalwthd7", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Find the positions along the same lower height to generate the facade polyline"}]}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39", "ID": "prod-ehonyv8e188", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "tmp_polyline_ps", "jsValue": "tmp_polyline_ps_"}, {"name": "value", "value": "[col_short_h_pl#pl[index] #ps[0] ]", "usedVars": ["col_short_h_pl", "index"], "jsValue": "[ __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_).length)])[pythonList(0, __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_).length)]).length)]]"}], "variable": "tmp_polyline_ps"}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39", "ID": "prod-0jtd0y5m32lt", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "intersection_index", "jsValue": "intersection_index_"}, {"name": "list", "value": "range(0, floor_difference)", "usedVars": ["floor_difference"], "jsValue": "range(__debug__, 0, floor_difference_)"}], "children": [{"type": 13, "ID": "prod-sys8eqnjrzg", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39~children~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39~children~3", "ID": "prod-qettj94pay", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "reference_extruded_ps", "jsValue": "reference_extruded_ps_"}, {"name": "value", "value": "extruded_pgs[index + ((column_size) * intersection_index)]#ps", "usedVars": ["intersection_index", "extruded_pgs", "column_size", "index"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', extruded_pgs_[pythonList(index_ + ((column_size_) * intersection_index_), extruded_pgs_.length)])"}], "variable": "reference_extruded_ps", "terminate": false, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39~children~3", "ID": "prod-lgtgxp7j2x", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "tmp_polyline_ps", "usedVars": ["tmp_polyline_ps"], "jsValue": "tmp_polyline_ps_"}, {"name": "item", "usedVars": ["reference_extruded_ps"], "value": "[reference_extruded_ps[1], reference_extruded_ps[2]]", "jsValue": "[reference_extruded_ps_[pythonList(1, reference_extruded_ps_.length)], reference_extruded_ps_[pythonList(2, reference_extruded_ps_.length)]]"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "intersection_index", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39", "ID": "prod-mjafbx7wsfe", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "tmp_polyline_ps", "usedVars": ["tmp_polyline_ps"], "jsValue": "tmp_polyline_ps_"}, {"name": "item", "value": "col_long_h_pl#pl[index] #ps[0]", "usedVars": ["col_long_h_pl", "index"], "jsValue": "__modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_).length)])[pythonList(0, __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_).length)]).length)]"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39", "ID": "prod-ugoxw7ce46r", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "west_h_pl", "jsValue": "west_h_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "listFlat(tmp_polyline_ps)", "usedVars": ["tmp_polyline_ps"], "jsValue": "listFlat(__debug__, tmp_polyline_ps_)"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "west_h_pl", "terminate": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39", "ID": "prod-j52fko6styc", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "west_h_pl", "usedVars": ["west_h_pl"], "jsValue": "west_h_pl_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"west_h_lines\"", "usedVars": [], "jsValue": "\"west_h_lines\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39", "ID": "prod-07wrtk6wcw5o", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_west_h_lines", "usedVars": ["col_west_h_lines"], "jsValue": "col_west_h_lines_"}, {"name": "entities", "value": "west_h_pl", "usedVars": ["west_h_pl"], "jsValue": "west_h_pl_"}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39", "ID": "prod-ptju3bv8qao", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Find the positions along the same upper height to generate the proper facade polyline"}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39", "ID": "prod-htkem49cv", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "tmp_polyline_ps", "jsValue": "tmp_polyline_ps_"}, {"name": "value", "value": "[col_short_h_pl#pl[index+1] #ps[0] ]", "usedVars": ["col_short_h_pl", "index"], "jsValue": "[ __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)[pythonList(index_ + 1, __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_).length)])[pythonList(0, __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)[pythonList(index_ + 1, __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_).length)]).length)]]"}], "variable": "tmp_polyline_ps", "selectGeom": false}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39", "ID": "prod-4eknuzq1v6x", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "intersection_index", "jsValue": "intersection_index_"}, {"name": "list", "value": "range(0, floor_difference)", "usedVars": ["floor_difference"], "jsValue": "range(__debug__, 0, floor_difference_)"}], "children": [{"type": 13, "ID": "prod-s5bl7a3s5wp", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39~children~10", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39~children~10", "ID": "prod-ktuip86orb8", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "reference_extruded_ps", "jsValue": "reference_extruded_ps_"}, {"name": "value", "value": "extruded_pgs[index + ((column_size) * intersection_index)]#ps", "usedVars": ["intersection_index", "extruded_pgs", "column_size", "index"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', extruded_pgs_[pythonList(index_ + ((column_size_) * intersection_index_), extruded_pgs_.length)])"}], "variable": "reference_extruded_ps", "terminate": false, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39~children~10", "ID": "prod-kgi3xeeowzk", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "tmp_polyline_ps", "usedVars": ["tmp_polyline_ps"], "jsValue": "tmp_polyline_ps_"}, {"name": "item", "usedVars": ["reference_extruded_ps"], "value": "[reference_extruded_ps[0], reference_extruded_ps[3]]", "jsValue": "[reference_extruded_ps_[pythonList(0, reference_extruded_ps_.length)], reference_extruded_ps_[pythonList(3, reference_extruded_ps_.length)]]"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "intersection_index", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39", "ID": "prod-urxlfd58t6", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "tmp_polyline_ps", "usedVars": ["tmp_polyline_ps"], "jsValue": "tmp_polyline_ps_"}, {"name": "item", "value": "col_long_h_pl#pl[index+1] #ps[0]", "usedVars": ["col_long_h_pl", "index"], "jsValue": "__modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)[pythonList(index_ + 1, __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_).length)])[pythonList(0, __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)[pythonList(index_ + 1, __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_).length)]).length)]"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39", "ID": "prod-ngdn4oskji", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "west_h_upper_pl", "jsValue": "west_h_upper_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "listFlat(tmp_polyline_ps)", "usedVars": ["tmp_polyline_ps"], "jsValue": "listFlat(__debug__, tmp_polyline_ps_)"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "west_h_upper_pl", "terminate": false, "selectGeom": false}, {"type": 8, "ID": "prod-rwuzm13s889", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "west_h_pl", "usedVars": ["west_h_pl"], "jsValue": "west_h_pl_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"west_h_lines\"", "usedVars": [], "jsValue": "\"west_h_lines\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39"}, {"type": 8, "ID": "prod-nrs9o9wqd5o", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_west_h_lines", "usedVars": ["col_west_h_lines"], "jsValue": "col_west_h_lines_"}, {"name": "entities", "value": "west_h_upper_pl", "usedVars": ["west_h_upper_pl"], "jsValue": "west_h_upper_pl_"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~39"}], "variable": "index"}, {"type": 14, "ID": "prod-yqx4pj685sh", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create new horizontal flat facade line for the top roof edge"}]}, {"type": 0, "ID": "prod-s3uasiyioos", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "tmp_polyline_ps", "jsValue": "tmp_polyline_ps_"}, {"name": "value", "value": "[col_short_h_pl#pl[number_of_curves-1] #ps[0] ]", "usedVars": ["col_short_h_pl", "number_of_curves"], "jsValue": "[ __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)[pythonList(number_of_curves_ - 1, __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_).length)])[pythonList(0, __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)[pythonList(number_of_curves_ - 1, __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_).length)]).length)]]"}], "variable": "tmp_polyline_ps", "selectGeom": false, "terminate": false}, {"type": 4, "ID": "prod-urgv8bg9c5", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "intersection_index", "jsValue": "intersection_index_"}, {"name": "list", "value": "range(0, floor_difference)", "usedVars": ["floor_difference"], "jsValue": "range(__debug__, 0, floor_difference_)"}], "children": [{"type": 13, "ID": "prod-l2ebybx521", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~42", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~42", "ID": "prod-yg225nrqz3c", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "reference_extruded_ps", "jsValue": "reference_extruded_ps_"}, {"name": "value", "value": "extruded_pgs[column_size - 1 + (column_size * intersection_index)]#ps", "usedVars": ["extruded_pgs", "column_size", "intersection_index"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', extruded_pgs_[pythonList(column_size_ - 1 + (column_size_ * intersection_index_), extruded_pgs_.length)])"}], "variable": "reference_extruded_ps", "terminate": false, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~42", "ID": "prod-8r60yp0ui6r", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "tmp_polyline_ps", "usedVars": ["tmp_polyline_ps"], "jsValue": "tmp_polyline_ps_"}, {"name": "item", "usedVars": ["reference_extruded_ps"], "value": "[reference_extruded_ps[3], reference_extruded_ps[0]]", "jsValue": "[reference_extruded_ps_[pythonList(3, reference_extruded_ps_.length)], reference_extruded_ps_[pythonList(0, reference_extruded_ps_.length)]]"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "intersection_index", "selectGeom": false}, {"type": 8, "ID": "prod-g59ck7d12rn", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "tmp_polyline_ps", "usedVars": ["tmp_polyline_ps"], "jsValue": "tmp_polyline_ps_"}, {"name": "item", "value": "col_long_h_pl#pl[number_of_curves-1] #ps[0]", "usedVars": ["col_long_h_pl", "number_of_curves"], "jsValue": "__modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)[pythonList(number_of_curves_ - 1, __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_).length)])[pythonList(0, __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)[pythonList(number_of_curves_ - 1, __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_).length)]).length)]"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "ID": "prod-l3vopscav3", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "west_h_pl", "jsValue": "west_h_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "listFlat(tmp_polyline_ps)", "usedVars": ["tmp_polyline_ps"], "jsValue": "listFlat(__debug__, tmp_polyline_ps_)"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "west_h_pl", "terminate": false, "selectGeom": false}, {"type": 8, "ID": "prod-idckp0wg3t", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "west_h_pl", "usedVars": ["west_h_pl"], "jsValue": "west_h_pl_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"west_h_lines\"", "usedVars": [], "jsValue": "\"west_h_lines\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false, "terminate": false}, {"type": 8, "ID": "prod-rzsxxywt36f", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_west_h_lines", "usedVars": ["col_west_h_lines"], "jsValue": "col_west_h_lines_"}, {"name": "entities", "value": "[west_h_pl, flat_west_h_pl]", "usedVars": ["flat_west_h_pl", "west_h_pl"], "jsValue": "[west_h_pl_, flat_west_h_pl_]"}]}, {"type": 14, "ID": "prod-dderjpeq9ap", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Reset the reference to the collection now that we have prepared all the polylines."}]}, {"type": 0, "ID": "prod-lmm7dno49o", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "flat_west_h_pl", "jsValue": "flat_west_h_pl_"}, {"name": "value", "value": "col_west_h_lines#pl", "usedVars": ["col_west_h_lines"], "jsValue": "__modules__.query.Get(__params__.model, 'pl', col_west_h_lines_)"}], "variable": "flat_west_h_pl", "selectGeom": false}, {"type": 14, "ID": "prod-zm2v5kv996d", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create the actual facade polygons for the tower's West side."}], "selectGeom": false}, {"type": 8, "ID": "prod-d3bikwq1gde", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "short_h_pl", "jsValue": "short_h_pl_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_short_h_beziers\"", "usedVars": [], "jsValue": "\"tower_short_h_beziers\""}], "variable": "short_h_pl"}, {"type": 4, "ID": "prod-rc95jc2s93", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, len(flat_west_h_pl) - 1)", "usedVars": ["flat_west_h_pl"], "jsValue": "range(__debug__, 0, len(__debug__, flat_west_h_pl_) - 1)"}], "children": [{"type": 13, "ID": "prod-4jkrk0dy7it", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51", "ID": "prod-l01jvfchp6", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "len(flat_west_h_pl[index]#_e ) == len(flat_west_h_pl[index + 1]#_e )", "usedVars": ["flat_west_h_pl", "index"], "jsValue": "len(__debug__,  __modules__.query.Get(__params__.model, '_e', flat_west_h_pl_[pythonList(index_, flat_west_h_pl_.length)])) == len(__debug__,  __modules__.query.Get(__params__.model, '_e', flat_west_h_pl_[pythonList(index_ + 1, flat_west_h_pl_.length)]))"}], "children": [{"type": 13, "ID": "prod-9uxyvshclti", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-a0se00zoxkb", "enabled": true, "print": false, "meta": {"module": "make", "name": "Loft"}, "argCount": 5, "args": [{"name": "var_name", "value": "west_facade_pg", "jsValue": "west_facade_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "[flat_west_h_pl[index], flat_west_h_pl[index + 1]]", "usedVars": ["flat_west_h_pl", "index"], "jsValue": "[flat_west_h_pl_[pythonList(index_, flat_west_h_pl_.length)], flat_west_h_pl_[pythonList(index_ + 1, flat_west_h_pl_.length)]]"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'open_quads'", "jsValue": "'open_quads'", "usedVars": []}], "variable": "west_facade_pg", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1", "terminate": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1", "ID": "prod-p7pcouwc8iq", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "index < len(col_west_bezier#ps ) * 2", "usedVars": ["col_west_bezier", "index"], "jsValue": "index_ < len(__debug__,  __modules__.query.Get(__params__.model, 'ps', col_west_bezier_)) * 2"}], "children": [{"type": 13, "ID": "prod-p7pcouwc8iq-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~2", "ID": "prod-781b3i1t548", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "For the tower's facade, there will be a regular number of opaque/glass panels."}]}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~2", "ID": "prod-eajaxts5xlu", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "intersection_index", "jsValue": "intersection_index_"}, {"name": "list", "value": "range(1, len(west_facade_pg), 2)", "usedVars": ["west_facade_pg"], "jsValue": "range(__debug__, 1, len(__debug__, west_facade_pg_), 2)"}], "children": [{"type": 13, "ID": "prod-eajaxts5xlu-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~2~children~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~2~children~2", "ID": "prod-l6k5obi3itq", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Delete overlapping opaque/glass panels."}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~2~children~2", "ID": "prod-i2r8wc1ijk", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "hole_pgon", "jsValue": "hole_pgon_"}, {"name": "value", "value": "west_facade_pg[intersection_index]", "usedVars": ["intersection_index", "west_facade_pg"], "jsValue": "west_facade_pg_[pythonList(intersection_index_, west_facade_pg_.length)]"}], "variable": "hole_pgon", "terminate": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~2~children~2", "ID": "prod-urqisb52hna", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "hole_pgon", "usedVars": ["hole_pgon"], "jsValue": "hole_pgon_"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}], "terminate": false}], "variable": "intersection_index"}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~2", "ID": "prod-v4baizh6d2i", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "intersection_index", "jsValue": "intersection_index_"}, {"name": "list", "value": "range(0, len(west_facade_pg), 2)", "usedVars": ["west_facade_pg"], "jsValue": "range(__debug__, 0, len(__debug__, west_facade_pg_), 2)"}], "children": [{"type": 13, "ID": "prod-fkvadzkas9n", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~2~children~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~2~children~3", "ID": "prod-0hkcj4oksz1", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Split the glass panels further."}], "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~2~children~3", "ID": "prod-gd7l8bj0md", "enabled": true, "print": false, "argCount": 5, "meta": {"module": "localFunc", "name": "SplitPgon"}, "args": [{"name": "var_name", "value": "glass_pgon", "jsValue": "glass_pgon_"}, {"name": "pgon_to_split", "value": "west_facade_pg[intersection_index]", "usedVars": ["intersection_index", "west_facade_pg"], "jsValue": "west_facade_pg_[pythonList(intersection_index_, west_facade_pg_.length)]"}, {"name": "number_of_splits", "value": "3", "usedVars": [], "jsValue": "3"}, {"name": "edge_index_to_split1", "value": "2", "usedVars": [], "jsValue": "2"}, {"name": "edge_index_to_split2", "value": "0", "usedVars": [], "jsValue": "0"}], "variable": "glass_pgon", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~2~children~3", "ID": "prod-kybnqrwh60i", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "glass_pgon", "usedVars": ["glass_pgon"], "jsValue": "glass_pgon_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"glass_facade\"", "usedVars": [], "jsValue": "\"glass_facade\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false, "terminate": false}], "variable": "intersection_index", "selectGeom": false}]}, {"type": 3, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1", "ID": "prod-0zuv92twyec", "enabled": true, "print": false, "argCount": 0, "args": [], "children": [{"type": 13, "ID": "prod-0zuv92twyec-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~3", "ID": "prod-ixzcp5gvy5", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "For the tower's roof's facade, we will split each glass roof panel into four, and choose one of them to make opaque."}]}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~3", "ID": "prod-by2h6swez1m", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_split", "jsValue": "roof_split_"}, {"name": "value", "value": "4", "usedVars": [], "jsValue": "4"}], "variable": "roof_split"}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~3", "ID": "prod-yikxu4coma", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "roof_pg", "jsValue": "roof_pg_"}, {"name": "list", "value": "west_facade_pg", "usedVars": ["west_facade_pg"], "jsValue": "west_facade_pg_"}], "children": [{"type": 13, "ID": "prod-yikxu4coma-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~3~children~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~3~children~3", "ID": "prod-j87lwq0byvg", "enabled": true, "print": false, "argCount": 5, "meta": {"module": "localFunc", "name": "SplitPgon"}, "args": [{"name": "var_name", "value": "roof_split_pg", "jsValue": "roof_split_pg_"}, {"name": "pgon_to_split", "value": "roof_pg", "usedVars": ["roof_pg"], "jsValue": "roof_pg_"}, {"name": "number_of_splits", "value": "roof_split", "usedVars": ["roof_split"], "jsValue": "roof_split_"}, {"name": "edge_index_to_split1", "value": "2", "usedVars": [], "jsValue": "2"}, {"name": "edge_index_to_split2", "value": "0", "usedVars": [], "jsValue": "0"}], "variable": "roof_split_pg"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~3~children~3", "ID": "prod-ibbd50m2x4", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "opaque_index", "jsValue": "opaque_index_"}, {"name": "value", "value": "round(rand(0, len(roof_split_pg) - 1))", "usedVars": ["roof_split_pg"], "jsValue": "round(__debug__, rand(__debug__, 0, len(__debug__, roof_split_pg_) - 1))"}], "variable": "opaque_index"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~3~children~3", "ID": "prod-3n6eze8ebhd", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "roof_split_pg[opaque_index]", "usedVars": ["roof_split_pg", "opaque_index"], "jsValue": "roof_split_pg_[pythonList(opaque_index_, roof_split_pg_.length)]"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"solid_panels\"", "usedVars": [], "jsValue": "\"solid_panels\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false, "terminate": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~3~children~3", "ID": "prod-hnua1kd82p", "enabled": true, "print": false, "meta": {"module": "list", "name": "Remove"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "roof_split_pg", "usedVars": ["roof_split_pg"], "jsValue": "roof_split_pg_"}, {"name": "item", "value": "opaque_index", "usedVars": ["opaque_index"], "jsValue": "opaque_index_"}, {"name": "method", "value": "'index'", "jsValue": "'index'", "usedVars": []}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~procedure~51~children~1~children~3~children~3", "ID": "prod-e2s40w6olwa", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "roof_split_pg", "usedVars": ["roof_split_pg"], "jsValue": "roof_split_pg_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"glass_facade\"", "usedVars": [], "jsValue": "\"glass_facade\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false, "terminate": false}], "variable": "roof_pg"}]}], "selectGeom": false}], "variable": "index", "selectGeom": false}, {"type": 14, "ID": "prod-n87t1qo64fm", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Make sure the normals of the East facades pgons are facing out"}], "selectGeom": false}, {"type": 0, "ID": "prod-su996monxa", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "west_pgons", "jsValue": "west_pgons_"}, {"name": "value", "value": "listJoin(#pg ?@type==\"glass_facade\" , #pg ?@type==\"solid_panels\" )", "usedVars": [], "jsValue": "listJoin(__debug__,  __modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"glass_facade\"),  __modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"solid_panels\"))"}], "variable": "west_pgons", "selectGeom": false}, {"type": 18, "ID": "prod-ears2mlfi0e", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "localFunc", "name": "FixNormals"}, "args": [{"name": "__none__"}, {"name": "pgon_entities", "value": "west_pgons", "usedVars": ["west_pgons"], "jsValue": "west_pgons_"}]}, {"type": 14, "ID": "prod-4qcxydh8ji", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "The following lines are for diagram visualization in the report. The materials are actually assigned in node 13."}]}, {"type": 8, "ID": "prod-kakv1zqb5ip", "enabled": false, "print": false, "meta": {"module": "material", "name": "Physical"}, "argCount": 7, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "name", "value": "\"opaque_facade\"", "usedVars": [], "jsValue": "\"opaque_facade\""}, {"name": "emissive", "value": "[0.9, 0.9, 1]", "usedVars": [], "jsValue": "[0.9, 0.9, 1]"}, {"name": "roughness", "value": "0.1", "usedVars": [], "jsValue": "0.1"}, {"name": "metalness", "value": "1.0", "usedVars": [], "jsValue": "1.0"}, {"name": "reflectivity", "value": "0.8", "usedVars": [], "jsValue": "0.8"}], "selectGeom": false}, {"type": 8, "ID": "prod-us0ner4gibt", "enabled": false, "print": false, "meta": {"module": "material", "name": "Glass"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "name", "value": "\"glass\"", "usedVars": [], "jsValue": "\"glass\""}, {"name": "opacity", "value": "0.5", "usedVars": [], "jsValue": "0.5"}], "selectGeom": false}, {"type": 8, "ID": "prod-ycql8k65z89", "enabled": false, "print": false, "meta": {"module": "material", "name": "Set"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "#pg ?@type==\"glass_facade\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"glass_facade\")"}, {"name": "material", "value": "\"glass\"", "usedVars": [], "jsValue": "\"glass\""}], "selectGeom": false}, {"type": 8, "ID": "prod-omkon23foei", "enabled": false, "print": false, "meta": {"module": "material", "name": "Set"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "#pg ?@type==\"solid_panels\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"solid_panels\")"}, {"name": "material", "value": "\"opaque_facade\"", "usedVars": [], "jsValue": "\"opaque_facade\""}], "selectGeom": false, "terminate": true}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 16, "ID": "prod-c3jsv0myrm", "enabled": true, "print": false, "argCount": 5, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "SplitPgon", "num_returns": 1, "collapsed": true, "deletedArgs": []}}, "args": [{"name": "func_name", "value": "SplitPgon", "jsValue": "SplitPgon_"}, {"name": "arg_1", "value": "pgon_to_split", "jsValue": "pgon_to_split_", "usedVars": ["pgon_to_split"]}, {"name": "arg_2", "value": "number_of_splits", "jsValue": "number_of_splits_", "usedVars": ["number_of_splits"]}, {"name": "arg_3", "value": "edge_index_to_split1", "jsValue": "edge_index_to_split1_", "usedVars": ["edge_index_to_split1"]}, {"name": "arg_4", "value": "edge_index_to_split2", "jsValue": "edge_index_to_split2_", "usedVars": ["edge_index_to_split2"]}], "children": [{"type": 13, "ID": "prod-c3jsv0myrm-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~1", "ID": "prod-wixs9h5rpq9", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Splits a polygon according to the edge index specified, by the number of splits specified."}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~1", "ID": "prod-qbgrbg0hgy", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Returns the list of split polygons."}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~1", "ID": "prod-68pi580ks2", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Divide"}, "argCount": 5, "args": [{"name": "var_name", "value": "edge_1", "jsValue": "edge_1_"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_to_split#_e[edge_index_to_split1]", "usedVars": ["pgon_to_split", "edge_index_to_split1"], "jsValue": "__modules__.query.Get(__params__.model, '_e', pgon_to_split_)[pythonList(edge_index_to_split1_, __modules__.query.Get(__params__.model, '_e', pgon_to_split_).length)]"}, {"name": "divisor", "value": "number_of_splits", "usedVars": ["number_of_splits"], "jsValue": "number_of_splits_"}, {"name": "method", "value": "'by_number'", "jsValue": "'by_number'", "usedVars": []}], "variable": "edge_1", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~1", "ID": "prod-4kd44jra1ff", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Divide"}, "argCount": 5, "args": [{"name": "var_name", "value": "edge_2", "jsValue": "edge_2_"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_to_split#_e[edge_index_to_split2]", "usedVars": ["pgon_to_split", "edge_index_to_split2"], "jsValue": "__modules__.query.Get(__params__.model, '_e', pgon_to_split_)[pythonList(edge_index_to_split2_, __modules__.query.Get(__params__.model, '_e', pgon_to_split_).length)]"}, {"name": "divisor", "value": "number_of_splits", "usedVars": ["number_of_splits"], "jsValue": "number_of_splits_"}, {"name": "method", "value": "'by_number'", "jsValue": "'by_number'", "usedVars": []}], "variable": "edge_2", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~1", "ID": "prod-nqmcjvnygx", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "pl_1", "jsValue": "pl_1_"}, {"name": "__model__"}, {"name": "entities", "value": "edge_1#ps", "usedVars": ["edge_1"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', edge_1_)"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "pl_1", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~1", "ID": "prod-wvian65folg", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "pl_2", "jsValue": "pl_2_"}, {"name": "__model__"}, {"name": "entities", "value": "listRev(edge_2#ps )", "usedVars": ["edge_2"], "jsValue": "listRev(__debug__,  __modules__.query.Get(__params__.model, 'ps', edge_2_))"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "pl_2", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~1", "ID": "prod-vcxpx94rv5", "enabled": true, "print": false, "meta": {"module": "make", "name": "Loft"}, "argCount": 5, "args": [{"name": "var_name", "value": "split_pg", "jsValue": "split_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "[pl_1, pl_2]", "usedVars": ["pl_1", "pl_2"], "jsValue": "[pl_1_, pl_2_]"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'open_quads'", "jsValue": "'open_quads'", "usedVars": []}], "variable": "split_pg", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~1", "ID": "prod-lhbz73te8fn", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_to_split", "usedVars": ["pgon_to_split"], "jsValue": "pgon_to_split_"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}], "terminate": false, "selectGeom": false}, {"type": 17, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~1", "ID": "prod-8lx712ja988", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "Value", "value": "split_pg", "usedVars": ["split_pg"], "jsValue": "split_pg_"}]}], "variable": null}, {"type": 16, "ID": "prod-tm29vnq3ukg", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "CheckDirection", "num_returns": 2, "collapsed": true}}, "args": [{"name": "func_name", "value": "CheckDirection", "jsValue": "CheckDirection_"}, {"name": "arg_1", "value": "entity1", "jsValue": "entity1_", "usedVars": ["entity1"]}, {"name": "arg_2", "value": "entity2", "jsValue": "entity2_", "usedVars": ["entity2"]}], "children": [{"type": 13, "ID": "prod-tm29vnq3ukg-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~2", "ID": "prod-jsppcv2n20h", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Returns the relative position of entity 2 to 1, represented as a sign (for multiplying)."}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~2", "ID": "prod-3eij2jsyxrr", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Centroid"}, "argCount": 4, "args": [{"name": "var_name", "value": "upper_centroid", "jsValue": "upper_centroid_"}, {"name": "__model__"}, {"name": "entities", "value": "entity1", "usedVars": ["entity1"], "jsValue": "entity1_"}, {"name": "method", "value": "'ps_average'", "usedVars": [], "jsValue": "'ps_average'"}], "variable": "upper_centroid", "terminate": false, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~2", "ID": "prod-23gk32ljsbj", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Centroid"}, "argCount": 4, "args": [{"name": "var_name", "value": "lower_centroid", "jsValue": "lower_centroid_"}, {"name": "__model__"}, {"name": "entities", "value": "entity2", "usedVars": ["entity2"], "jsValue": "entity2_"}, {"name": "method", "value": "'ps_average'", "usedVars": [], "jsValue": "'ps_average'"}], "variable": "lower_centroid", "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~2", "ID": "prod-cn1haptiyzv", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "upper_centroid[0] < lower_centroid[0]", "usedVars": ["upper_centroid", "lower_centroid"], "jsValue": "upper_centroid_[pythonList(0, upper_centroid_.length)] < lower_centroid_[pythonList(0, lower_centroid_.length)]"}], "children": [{"type": 13, "ID": "prod-0joy02wzunnj", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~2~children~4", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~2~children~4", "ID": "prod-nc100voo6ze", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Entity1 is on the left of Entity2"}], "selectGeom": false}, {"type": 17, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~2~children~4", "ID": "prod-znyvymxkxx", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "Value", "value": "-1", "usedVars": [], "jsValue": "-1"}]}], "selectGeom": false}, {"type": 3, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~2", "ID": "prod-77e39y5elm", "enabled": true, "print": false, "argCount": 0, "args": [], "children": [{"type": 13, "ID": "prod-8tajwuehz4y", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~2~children~5", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~2~children~5", "ID": "prod-u2dlvr7ua1h", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Entity2 is on the left of Entity1"}], "selectGeom": false}, {"type": 17, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~2~children~5", "ID": "prod-tvnkqi7loj", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "Value", "value": "1", "usedVars": [], "jsValue": "1"}]}], "selectGeom": false}], "variable": null}, {"type": 16, "ID": "prod-r0nthcjyn1h", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "FixNormals", "num_returns": 0, "collapsed": true}}, "args": [{"name": "func_name", "value": "FixNormals", "jsValue": "FixNormals_"}, {"name": "arg_1", "value": "pgon_entities", "jsValue": "pgon_entities_", "usedVars": ["pgon_entities"]}], "children": [{"type": 13, "ID": "prod-r0nthcjyn1h-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 4, "ID": "prod-l4cjcl56k8", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, len(pgon_entities))", "usedVars": ["pgon_entities"], "jsValue": "range(__debug__, 0, len(__debug__, pgon_entities_))"}], "children": [{"type": 13, "ID": "prod-n39kox211k", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~3~children~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~3~children~1", "ID": "prod-4j9vikudc3", "enabled": false, "print": false, "meta": {"module": "calc", "name": "Centroid"}, "argCount": 4, "args": [{"name": "var_name", "value": "avg_coord", "jsValue": "avg_coord_"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_entities#pg[index]", "usedVars": ["index", "pgon_entities"], "jsValue": "__modules__.query.Get(__params__.model, 'pg', pgon_entities_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pg', pgon_entities_).length)]"}, {"name": "method", "value": "'ps_average'", "usedVars": [], "jsValue": "'ps_average'"}], "variable": "avg_coord", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~3~children~1", "ID": "prod-9pwt85ocq8w", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Normal"}, "argCount": 4, "args": [{"name": "var_name", "value": "panel_normal", "jsValue": "panel_normal_"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_entities#pg[index]", "usedVars": ["index", "pgon_entities"], "jsValue": "__modules__.query.Get(__params__.model, 'pg', pgon_entities_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pg', pgon_entities_).length)]"}, {"name": "scale", "value": "10", "usedVars": [], "jsValue": "10"}], "variable": "panel_normal", "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~3~children~1", "ID": "prod-z48z1wq0ps", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "panel_normal[1] > 0", "usedVars": ["panel_normal"], "jsValue": "panel_normal_[pythonList(1, panel_normal_.length)] > 0"}], "children": [{"type": 13, "ID": "prod-zduxk6ay3mh", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~3~children~1~children~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~3~children~1~children~3", "ID": "prod-f9c95fb1rjj", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Reverse"}, "argCount": 3, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_entities#pg[index]", "usedVars": ["index", "pgon_entities"], "jsValue": "__modules__.query.Get(__params__.model, 'pg', pgon_entities_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pg', pgon_entities_).length)]"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~3~children~1~children~3", "ID": "prod-rokuzsd9u1", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Shift"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_entities#pg[index]", "usedVars": ["index", "pgon_entities"], "jsValue": "__modules__.query.Get(__params__.model, 'pg', pgon_entities_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pg', pgon_entities_).length)]"}, {"name": "offset", "value": "1", "usedVars": [], "jsValue": "1"}], "selectGeom": false}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~3~children~1", "ID": "prod-tl84b0ja8o", "enabled": false, "print": false, "meta": {"module": "calc", "name": "Normal"}, "argCount": 4, "args": [{"name": "var_name", "value": "panel_normal", "jsValue": "panel_normal_"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_entities#pg[index]", "usedVars": ["index", "pgon_entities"], "jsValue": "__modules__.query.Get(__params__.model, 'pg', pgon_entities_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pg', pgon_entities_).length)]"}, {"name": "scale", "value": "10", "usedVars": [], "jsValue": "10"}], "variable": "panel_normal", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~3~children~1", "ID": "prod-wgkw0blceg", "enabled": false, "print": false, "meta": {"module": "visualize", "name": "Ray"}, "argCount": 4, "args": [{"name": "var_name", "value": "viz_ray", "jsValue": "viz_ray_"}, {"name": "__model__"}, {"name": "rays", "value": "[avg_coord, panel_normal]", "usedVars": ["avg_coord", "panel_normal"], "jsValue": "[avg_coord_, panel_normal_]"}, {"name": "scale", "value": "1", "usedVars": [], "jsValue": "1"}], "variable": "viz_ray", "selectGeom": false}], "variable": "index", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~localFunc~3"}], "variable": null}], "state": {"procedure": [], "show_code": true, "show_func": true}, "hasError": false, "hasExecuted": true, "input": {"name": "input", "type": 0, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~input", "selected": false}], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode"}, "output": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source", "model": 12}}, "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input", "selected": false}, {"source": {"name": "output", "type": 1, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1"], "meta": {"mode": 0}, "parentNode": {"name": "Create Flat Side Facade (East)", "id": "node_ebz41hd3mmv", "position": {"x": 5400, "y": 5580}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-yai8w06vlln", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "This node creates a bezier curve along the flat side to use as a reference to split the facade vertically."}]}, {"type": 14, "ID": "prod-uykc19ojzxl", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "The facade uses two materials to mimic the pattern on the actual building, one opaque and one translucent."}]}, {"type": 8, "ID": "prod-cxbez1xa726", "enabled": true, "print": false, "meta": {"module": "material", "name": "Physical"}, "argCount": 7, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "name", "value": "\"opaque_glass\"", "usedVars": [], "jsValue": "\"opaque_glass\""}, {"name": "emissive", "value": "[0.9, 0.9, 1]", "usedVars": [], "jsValue": "[0.9, 0.9, 1]"}, {"name": "roughness", "value": "0.1", "usedVars": [], "jsValue": "0.1"}, {"name": "metalness", "value": "1.0", "usedVars": [], "jsValue": "1.0"}, {"name": "reflectivity", "value": "0.8", "usedVars": [], "jsValue": "0.8"}], "selectGeom": false}, {"type": 8, "ID": "prod-7706z486goi", "enabled": true, "print": false, "meta": {"module": "material", "name": "Glass"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "name", "value": "\"glass\"", "usedVars": [], "jsValue": "\"glass\""}, {"name": "opacity", "value": "0.5", "usedVars": [], "jsValue": "0.5"}], "selectGeom": false}, {"type": 14, "ID": "prod-u1e3qr1o7q", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Prepare the collections and references we will be using for this node."}]}, {"type": 8, "ID": "prod-fsbcir45otq", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_west_h_lines", "jsValue": "col_west_h_lines_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_west_h_lines\"", "usedVars": [], "jsValue": "\"tower_west_h_lines\""}], "variable": "col_west_h_lines", "selectGeom": false}, {"type": 8, "ID": "prod-lig9mc3bema", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_east_h_lines", "jsValue": "col_east_h_lines_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_east_h_lines\"", "usedVars": [], "jsValue": "\"tower_east_h_lines\""}], "variable": "col_east_h_lines", "selectGeom": false}, {"type": 0, "ID": "prod-6kyt66b0x9y", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "facade_pl", "jsValue": "facade_pl_"}, {"name": "value", "value": "#pl ?@type==\"east_facade_edge\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pl', null), ['type', null], '==', \"east_facade_edge\")"}], "variable": "facade_pl"}, {"type": 8, "ID": "prod-e3d2j5knx15", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "base_edge_pl", "jsValue": "base_edge_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "facade_pl[0]", "usedVars": ["facade_pl"], "jsValue": "facade_pl_[pythonList(0, facade_pl_.length)]"}, {"name": "vector", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}], "variable": "base_edge_pl"}, {"type": 8, "ID": "prod-helopenh2k", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_east_bezier", "jsValue": "col_east_bezier_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_short_bezier2\"", "usedVars": [], "jsValue": "\"tower_short_bezier2\""}], "variable": "col_east_bezier"}, {"type": 0, "ID": "prod-3sc1wwaw1h3", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "bezier_pl", "jsValue": "bezier_pl_"}, {"name": "value", "value": "col_east_bezier#pl", "usedVars": ["col_east_bezier"], "jsValue": "__modules__.query.Get(__params__.model, 'pl', col_east_bezier_)"}], "variable": "bezier_pl"}, {"type": 8, "ID": "prod-nfeghrgbzhe", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_short_h_pl", "jsValue": "col_short_h_pl_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_short_h_beziers\"", "usedVars": [], "jsValue": "\"tower_short_h_beziers\""}], "variable": "col_short_h_pl", "selectGeom": false}, {"type": 8, "ID": "prod-x92adz48rb", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "col_long_h_pl", "jsValue": "col_long_h_pl_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_long_h_beziers\"", "usedVars": [], "jsValue": "\"tower_long_h_beziers\""}], "variable": "col_long_h_pl", "selectGeom": false}, {"type": 14, "ID": "prod-mth02zy9rvg", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Some helpful variables we will refer to."}]}, {"type": 0, "ID": "prod-f6f9jrwvy86", "enabled": true, "print": true, "argCount": 2, "args": [{"name": "var_name", "value": "floor_difference", "jsValue": "floor_difference_"}, {"name": "value", "value": "len(col_long_h_pl#pl ) - len(col_short_h_pl#pl )", "usedVars": ["col_short_h_pl", "col_long_h_pl"], "jsValue": "len(__debug__,  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)) - len(__debug__,  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_))"}], "variable": "floor_difference", "selectGeom": false}, {"type": 0, "ID": "prod-fjb5n5u1ej9", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "short_side_height", "jsValue": "short_side_height_"}, {"name": "value", "value": "BUILDING_HEIGHT * 0.9", "usedVars": ["BUILDING_HEIGHT"], "jsValue": "BUILDING_HEIGHT_ * 0.9"}], "variable": "short_side_height", "selectGeom": false}, {"type": 14, "ID": "prod-u6e1xx2c7ng", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Divide the roof edge and the ground edge so we have points of references. (According to the number of terraces on the roof)"}]}, {"type": 0, "ID": "prod-uk0d9z4jtfq", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_edge_pl", "jsValue": "roof_edge_pl_"}, {"name": "value", "value": "#pl ?@type==\"undivided_roof_edge\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pl', null), ['type', null], '==', \"undivided_roof_edge\")"}], "variable": "roof_edge_pl"}, {"type": 8, "ID": "prod-bfqs6ecshb6", "enabled": true, "print": false, "meta": {"module": "make", "name": "Clone"}, "argCount": 3, "args": [{"name": "var_name", "value": "east_roof_edge_pl", "jsValue": "east_roof_edge_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "roof_edge_pl[1]", "usedVars": ["roof_edge_pl"], "jsValue": "roof_edge_pl_[pythonList(1, roof_edge_pl_.length)]"}], "variable": "east_roof_edge_pl"}, {"type": 8, "ID": "prod-5hvdaelu16q", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "facade_pl", "usedVars": ["facade_pl"], "jsValue": "facade_pl_"}, {"name": "item", "value": "east_roof_edge_pl", "usedVars": ["east_roof_edge_pl"], "jsValue": "east_roof_edge_pl_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "terminate": false}, {"type": 0, "ID": "prod-jg8q2cnz9zk", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_edge_pl", "jsValue": "roof_edge_pl_"}, {"name": "value", "value": "#pl ?@type==\"roof_edge\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pl', null), ['type', null], '==', \"roof_edge\")"}], "variable": "roof_edge_pl"}, {"type": 8, "ID": "prod-eowm1fcmh3i", "enabled": true, "print": false, "meta": {"module": "make", "name": "Clone"}, "argCount": 3, "args": [{"name": "var_name", "value": "east_roof_edge_pl", "jsValue": "east_roof_edge_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "roof_edge_pl[1]", "usedVars": ["roof_edge_pl"], "jsValue": "roof_edge_pl_[pythonList(1, roof_edge_pl_.length)]"}], "variable": "east_roof_edge_pl", "selectGeom": false}, {"type": 8, "ID": "prod-j5rjtbvwphr", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Divide"}, "argCount": 5, "args": [{"name": "var_name", "value": "base_edge_pl", "jsValue": "base_edge_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "base_edge_pl", "usedVars": ["base_edge_pl"], "jsValue": "base_edge_pl_"}, {"name": "divisor", "value": "floor_difference + 1", "usedVars": ["floor_difference"], "jsValue": "floor_difference_ + 1"}, {"name": "method", "value": "'by_number'", "jsValue": "'by_number'", "usedVars": []}], "variable": "base_edge_pl"}, {"type": 14, "ID": "prod-t3eafix96pp", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create a bezier curve for each point of reference."}]}, {"type": 4, "ID": "prod-legyf3vyeo", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, floor_difference)", "usedVars": ["floor_difference"], "jsValue": "range(__debug__, 0, floor_difference_)"}], "children": [{"type": 13, "ID": "prod-legyf3vyeo-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~25", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~25", "ID": "prod-99buulhnshi", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "mid_bezier_pl", "jsValue": "mid_bezier_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "bezier_pl", "usedVars": ["bezier_pl"], "jsValue": "bezier_pl_"}, {"name": "vector", "value": "vecSub(east_roof_edge_pl#ps[index+1] @xyz , east_roof_edge_pl#ps[0] @xyz )", "usedVars": ["east_roof_edge_pl", "index"], "jsValue": "vecSub(__debug__,  __modules__.attrib.Get(__params__.model,  __modules__.query.Get(__params__.model, 'ps', east_roof_edge_pl_)[pythonList(index_ + 1, __modules__.query.Get(__params__.model, 'ps', east_roof_edge_pl_).length)], 'xyz'),  __modules__.attrib.Get(__params__.model,  __modules__.query.Get(__params__.model, 'ps', east_roof_edge_pl_)[pythonList(0, __modules__.query.Get(__params__.model, 'ps', east_roof_edge_pl_).length)], 'xyz'))"}], "variable": "mid_bezier_pl"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~25", "ID": "prod-d5f9i52mmgi", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "From each point in the bezier curve, draw a vertical line downwards to the lower floor."}]}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~25", "ID": "prod-x18l3xuv0q", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "mid_bezier_ps", "jsValue": "mid_bezier_ps_"}, {"name": "value", "value": "mid_bezier_pl#ps", "usedVars": ["mid_bezier_pl"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', mid_bezier_pl_)"}], "variable": "mid_bezier_ps", "terminate": false}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~25", "ID": "prod-t2p1maboijj", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index2", "jsValue": "index2_"}, {"name": "list", "value": "range(1, len(mid_bezier_ps))", "usedVars": ["mid_bezier_ps"], "jsValue": "range(__debug__, 1, len(__debug__, mid_bezier_ps_))"}], "children": [{"type": 13, "ID": "prod-t2p1maboijj-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~25~children~4", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~25~children~4", "ID": "prod-1yi4yuhr3u7", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Draw a vertical line downwards to the position on the bottom line."}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~25~children~4", "ID": "prod-tb7pacxd1xo", "enabled": true, "print": false, "meta": {"module": "make", "name": "Position"}, "argCount": 3, "args": [{"name": "var_name", "value": "bottom_ps", "jsValue": "bottom_ps_"}, {"name": "__model__"}, {"name": "coords", "value": "[mid_bezier_ps[index2]@xyz[0] , mid_bezier_ps[index2]@xyz[1] , mid_bezier_ps[index2 - 1]@xyz[2] ]", "usedVars": ["mid_bezier_ps", "index2"], "jsValue": "[ __modules__.attrib.Get(__params__.model, mid_bezier_ps_[pythonList(index2_, mid_bezier_ps_.length)], ['xyz', 0]),  __modules__.attrib.Get(__params__.model, mid_bezier_ps_[pythonList(index2_, mid_bezier_ps_.length)], ['xyz', 1]),  __modules__.attrib.Get(__params__.model, mid_bezier_ps_[pythonList(index2_ - 1, mid_bezier_ps_.length)], ['xyz', 2])]"}], "variable": "bottom_ps", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~25~children~4", "ID": "prod-p14ve3plm8a", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "facade_vertical_pl", "jsValue": "facade_vertical_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "listJoin(mid_bezier_ps[index2], bottom_ps)", "usedVars": ["bottom_ps", "mid_bezier_ps", "index2"], "jsValue": "listJoin(__debug__, mid_bezier_ps_[pythonList(index2_, mid_bezier_ps_.length)], bottom_ps_)"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "facade_vertical_pl"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~25~children~4", "ID": "prod-d8folr1nsba", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "facade_vertical_pl", "usedVars": ["facade_vertical_pl"], "jsValue": "facade_vertical_pl_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"temp_vertical_edge\"", "usedVars": [], "jsValue": "\"temp_vertical_edge\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}]}], "variable": "index2"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~25", "ID": "prod-m9qldy03538", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Clean up the bezier curves used for the references"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~25", "ID": "prod-64x97hrq9fw", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "mid_bezier_pl", "usedVars": ["mid_bezier_pl"], "jsValue": "mid_bezier_pl_"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}]}], "variable": "index"}, {"type": 14, "ID": "prod-7ycz3fzoh3", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "From each vertical line, extrude them in the direction of the bottom polyline."}]}, {"type": 0, "ID": "prod-7fx0823j2mg", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "facade_vertical_pl", "jsValue": "facade_vertical_pl_"}, {"name": "value", "value": "listRev(#pl ?@type==\"temp_vertical_edge\" )", "usedVars": [], "jsValue": "listRev(__debug__,  __modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pl', null), ['type', null], '==', \"temp_vertical_edge\"))"}], "variable": "facade_vertical_pl"}, {"type": 0, "ID": "prod-ag0g790e4ho", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "facade_pl", "jsValue": "facade_pl_"}, {"name": "value", "value": "listRev(facade_pl)", "usedVars": ["facade_pl"], "jsValue": "listRev(__debug__, facade_pl_)"}], "variable": "facade_pl"}, {"type": 4, "ID": "prod-c43ezorlvhi", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, len(facade_vertical_pl))", "usedVars": ["facade_vertical_pl"], "jsValue": "range(__debug__, 0, len(__debug__, facade_vertical_pl_))"}], "children": [{"type": 13, "ID": "prod-c43ezorlvhi-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~29", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~29", "ID": "prod-07llbxv7xrfv", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "extrude_direction", "jsValue": "extrude_direction_"}, {"name": "value", "value": "0", "usedVars": [], "jsValue": "0"}], "variable": "extrude_direction"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~29", "ID": "prod-zjlpnlbi06g", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "facade_vertical", "jsValue": "facade_vertical_", "usedVars": ["facade_vertical_pl", "index"]}, {"name": "value", "value": "facade_vertical_pl[index]", "usedVars": ["facade_vertical_pl", "index"], "jsValue": "facade_vertical_pl_[pythonList(index_, facade_vertical_pl_.length)]"}], "variable": "facade_vertical"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~29", "ID": "prod-hzglva2huyf", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Determine the direction to extrude the opaque panel in."}]}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~29", "ID": "prod-9k5a3u1ejg", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "(index < len(facade_vertical_pl) - 1)", "usedVars": ["facade_vertical_pl", "index"], "jsValue": "(index_ < len(__debug__, facade_vertical_pl_) - 1)"}], "children": [{"type": 13, "ID": "prod-9k5a3u1ejg-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~29~children~4", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~29~children~4", "ID": "prod-21tn527n4i3h", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "localFunc", "name": "CheckDirection"}, "args": [{"name": "var_name", "value": "extrude_direction", "jsValue": "extrude_direction_"}, {"name": "entity1", "value": "facade_vertical_pl[index]", "usedVars": ["facade_vertical_pl", "index"], "jsValue": "facade_vertical_pl_[pythonList(index_, facade_vertical_pl_.length)]"}, {"name": "entity2", "value": "facade_vertical_pl[index + 1]", "usedVars": ["facade_vertical_pl", "index"], "jsValue": "facade_vertical_pl_[pythonList(index_ + 1, facade_vertical_pl_.length)]"}], "variable": "extrude_direction"}]}, {"type": 3, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~29", "ID": "prod-tjur6q1q1nd", "enabled": true, "print": false, "argCount": 0, "args": [], "children": [{"type": 13, "ID": "prod-tjur6q1q1nd-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~29~children~5", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~29~children~5", "ID": "prod-0bvfrg8w6yc6", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "extrude_direction", "jsValue": "extrude_direction_"}, {"name": "value", "value": "-1", "usedVars": [], "jsValue": "-1"}], "variable": "extrude_direction", "selectGeom": false}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~29", "ID": "prod-8pamq3xvy8c", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Add randomization to make the facade look more interesting (based on the building's width)"}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~29", "ID": "prod-epokknaqatq", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "We extrude the opaque panel along the direction of the building's curvature."}]}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~29", "ID": "prod-ix45bdkzrxc", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "random_width", "jsValue": "random_width_"}, {"name": "value", "value": "rand(BUILDING_SIZE_X * 0.05, BUILDING_SIZE_X * 0.1)", "usedVars": ["BUILDING_SIZE_X"], "jsValue": "rand(__debug__, BUILDING_SIZE_X_ * 0.05, BUILDING_SIZE_X_ * 0.1)"}], "variable": "random_width"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~29", "ID": "prod-qcad5riyrf", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Vector"}, "argCount": 3, "args": [{"name": "var_name", "value": "edge_vec", "jsValue": "edge_vec_"}, {"name": "__model__"}, {"name": "entities", "usedVars": ["facade_pl", "index"], "value": "facade_pl[index % len(facade_pl)]", "jsValue": "facade_pl_[pythonList(index_ % len(__debug__, facade_pl_), facade_pl_.length)]"}], "selectGeom": false, "variable": "edge_vec"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~29", "ID": "prod-hx05yqnacon", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "edge_vec", "jsValue": "edge_vec_"}, {"name": "value", "value": "vecMult(vecSetLen(listFlat(edge_vec), random_width), -extrude_direction)", "usedVars": ["extrude_direction", "random_width", "edge_vec"], "jsValue": "vecMult(__debug__, vecSetLen(__debug__, listFlat(__debug__, edge_vec_), random_width_), -extrude_direction_)"}], "variable": "edge_vec"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~29", "ID": "prod-bdwpcghfykf", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "extruded_pg", "jsValue": "extruded_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "facade_vertical", "usedVars": ["facade_vertical"], "jsValue": "facade_vertical_"}, {"name": "dist", "usedVars": ["edge_vec"], "value": "edge_vec", "jsValue": "edge_vec_"}, {"name": "divisions", "usedVars": [], "value": "1", "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "extruded_pg", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~29", "ID": "prod-ox1qpor7eui", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "extruded_pg", "usedVars": ["extruded_pg"], "jsValue": "extruded_pg_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"solid_panels\"", "usedVars": [], "jsValue": "\"solid_panels\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}]}], "variable": "index"}, {"type": 0, "ID": "prod-upo1rful1vl", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "extruded_pgs", "jsValue": "extruded_pgs_"}, {"name": "value", "value": "listRev(#pg ?@type==\"solid_panels\" )", "usedVars": [], "jsValue": "listRev(__debug__,  __modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"solid_panels\"))"}], "variable": "extruded_pgs"}, {"type": 14, "ID": "prod-w1bvsw8n6x", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "We need to set the normals for the extruded polygons so their positions index are correct."}], "selectGeom": false}, {"type": 18, "ID": "prod-t40azh6hvk", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "localFunc", "name": "FixNormals"}, "args": [{"name": "__none__"}, {"name": "pgon_entities", "value": "extruded_pgs", "usedVars": ["extruded_pgs"], "jsValue": "extruded_pgs_"}], "selectGeom": false}, {"type": 14, "ID": "prod-ulg03q6rt7q", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Clean up the collection holding the old reference horizontal flat facade lines so we can re-generate them."}]}, {"type": 8, "ID": "prod-w5mwwfd7bki", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "facade_pl", "usedVars": ["facade_pl"], "jsValue": "facade_pl_"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}]}, {"type": 0, "ID": "prod-dumq2btv60k", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "flat_east_h_pl", "jsValue": "flat_east_h_pl_"}, {"name": "value", "value": "col_east_h_lines#pl", "usedVars": ["col_east_h_lines"], "jsValue": "__modules__.query.Get(__params__.model, 'pl', col_east_h_lines_)"}], "variable": "flat_east_h_pl", "selectGeom": false}, {"type": 8, "ID": "prod-1zw9b94y7ij", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Delete"}, "argCount": 3, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_east_h_lines", "usedVars": ["col_east_h_lines"], "jsValue": "col_east_h_lines_"}]}, {"type": 8, "ID": "prod-gjyc0i8wd8p", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "col_east_h_lines", "jsValue": "col_east_h_lines_"}, {"name": "__model__"}, {"name": "entities", "value": "[]", "usedVars": [], "jsValue": "[]"}, {"name": "name", "value": "\"glass_facade\"", "usedVars": [], "jsValue": "\"glass_facade\""}], "variable": "col_east_h_lines"}, {"type": 14, "ID": "prod-ubql7o4j9rp", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create new reference horizontal facade polylines that also pass through the opaque panels."}]}, {"type": 0, "ID": "prod-kn4m32rbwbr", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "number_of_curves", "jsValue": "number_of_curves_"}, {"name": "value", "value": "len(col_short_h_pl#pl )", "usedVars": ["col_short_h_pl"], "jsValue": "len(__debug__,  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_))"}], "variable": "number_of_curves"}, {"type": 0, "ID": "prod-a0u2to5qz0r", "enabled": true, "print": true, "argCount": 2, "args": [{"name": "var_name", "value": "column_size", "jsValue": "column_size_"}, {"name": "value", "value": "len(extruded_pgs) / floor_difference", "usedVars": ["floor_difference", "extruded_pgs"], "jsValue": "len(__debug__, extruded_pgs_) / floor_difference_"}], "variable": "column_size"}, {"type": 4, "ID": "prod-6lwrbncjmwv", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, number_of_curves - 1)", "usedVars": ["number_of_curves"], "jsValue": "range(__debug__, 0, number_of_curves_ - 1)"}], "children": [{"type": 13, "ID": "prod-6lwrbncjmwv-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41", "ID": "prod-35aoalwthd7", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Find the positions along the same lower height to generate the facade polyline"}]}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41", "ID": "prod-ehonyv8e188", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "tmp_polyline_ps", "jsValue": "tmp_polyline_ps_"}, {"name": "value", "value": "[col_short_h_pl#pl[index] #ps[len(col_short_h_pl#pl[index]#ps)-1] ]", "usedVars": ["col_short_h_pl", "index"], "jsValue": "[ __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_).length)])[pythonList(len(__debug__,  __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_).length)])) - 1, __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_).length)]).length)]]"}], "variable": "tmp_polyline_ps"}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41", "ID": "prod-0jtd0y5m32lt", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "intersection_index", "jsValue": "intersection_index_"}, {"name": "list", "value": "range(0, floor_difference)", "usedVars": ["floor_difference"], "jsValue": "range(__debug__, 0, floor_difference_)"}], "children": [{"type": 13, "ID": "prod-sys8eqnjrzg", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41~children~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41~children~3", "ID": "prod-qettj94pay", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "reference_extruded_ps", "jsValue": "reference_extruded_ps_"}, {"name": "value", "value": "extruded_pgs[index + ((column_size) * intersection_index)]#ps", "usedVars": ["intersection_index", "extruded_pgs", "column_size", "index"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', extruded_pgs_[pythonList(index_ + ((column_size_) * intersection_index_), extruded_pgs_.length)])"}], "variable": "reference_extruded_ps", "terminate": false, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41~children~3", "ID": "prod-lgtgxp7j2x", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "tmp_polyline_ps", "usedVars": ["tmp_polyline_ps"], "jsValue": "tmp_polyline_ps_"}, {"name": "item", "usedVars": ["reference_extruded_ps"], "value": "[reference_extruded_ps[2], reference_extruded_ps[1]]", "jsValue": "[reference_extruded_ps_[pythonList(2, reference_extruded_ps_.length)], reference_extruded_ps_[pythonList(1, reference_extruded_ps_.length)]]"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "intersection_index", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41", "ID": "prod-mjafbx7wsfe", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "tmp_polyline_ps", "usedVars": ["tmp_polyline_ps"], "jsValue": "tmp_polyline_ps_"}, {"name": "item", "value": "col_long_h_pl#pl[index] #ps[len(col_long_h_pl#pl[index]#ps)-1]", "usedVars": ["col_long_h_pl", "index"], "jsValue": "__modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_).length)])[pythonList(len(__debug__,  __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_).length)])) - 1, __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_).length)]).length)]"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41", "ID": "prod-ugoxw7ce46r", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "east_h_pl", "jsValue": "east_h_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "listFlat(tmp_polyline_ps)", "usedVars": ["tmp_polyline_ps"], "jsValue": "listFlat(__debug__, tmp_polyline_ps_)"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "east_h_pl", "terminate": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41", "ID": "prod-j52fko6styc", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "east_h_pl", "usedVars": ["east_h_pl"], "jsValue": "east_h_pl_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"east_h_lines\"", "usedVars": [], "jsValue": "\"east_h_lines\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41", "ID": "prod-07wrtk6wcw5o", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_east_h_lines", "usedVars": ["col_east_h_lines"], "jsValue": "col_east_h_lines_"}, {"name": "entities", "value": "east_h_pl", "usedVars": ["east_h_pl"], "jsValue": "east_h_pl_"}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41", "ID": "prod-ptju3bv8qao", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Find the positions along the same upper height to generate the proper facade polyline"}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41", "ID": "prod-htkem49cv", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "tmp_polyline_ps", "jsValue": "tmp_polyline_ps_"}, {"name": "value", "value": "[col_short_h_pl#pl[index+1] #ps[len(col_short_h_pl#pl[index]#ps)-1] ]", "usedVars": ["col_short_h_pl", "index"], "jsValue": "[ __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)[pythonList(index_ + 1, __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_).length)])[pythonList(len(__debug__,  __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_).length)])) - 1, __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)[pythonList(index_ + 1, __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_).length)]).length)]]"}], "variable": "tmp_polyline_ps", "selectGeom": false}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41", "ID": "prod-4eknuzq1v6x", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "intersection_index", "jsValue": "intersection_index_"}, {"name": "list", "value": "range(0, floor_difference)", "usedVars": ["floor_difference"], "jsValue": "range(__debug__, 0, floor_difference_)"}], "children": [{"type": 13, "ID": "prod-s5bl7a3s5wp", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41~children~10", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41~children~10", "ID": "prod-ktuip86orb8", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "reference_extruded_ps", "jsValue": "reference_extruded_ps_"}, {"name": "value", "value": "extruded_pgs[index + ((column_size) * intersection_index)]#ps", "usedVars": ["intersection_index", "extruded_pgs", "column_size", "index"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', extruded_pgs_[pythonList(index_ + ((column_size_) * intersection_index_), extruded_pgs_.length)])"}], "variable": "reference_extruded_ps", "terminate": false, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41~children~10", "ID": "prod-kgi3xeeowzk", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "tmp_polyline_ps", "usedVars": ["tmp_polyline_ps"], "jsValue": "tmp_polyline_ps_"}, {"name": "item", "usedVars": ["reference_extruded_ps"], "value": "[reference_extruded_ps[3], reference_extruded_ps[0]]", "jsValue": "[reference_extruded_ps_[pythonList(3, reference_extruded_ps_.length)], reference_extruded_ps_[pythonList(0, reference_extruded_ps_.length)]]"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "intersection_index", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41", "ID": "prod-urxlfd58t6", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "tmp_polyline_ps", "usedVars": ["tmp_polyline_ps"], "jsValue": "tmp_polyline_ps_"}, {"name": "item", "value": "col_long_h_pl#pl[index+1] #ps[len(col_long_h_pl#pl[index]#ps)-1]", "usedVars": ["col_long_h_pl", "index"], "jsValue": "__modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)[pythonList(index_ + 1, __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_).length)])[pythonList(len(__debug__,  __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_).length)])) - 1, __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)[pythonList(index_ + 1, __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_).length)]).length)]"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41", "ID": "prod-ngdn4oskji", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "east_h_upper_pl", "jsValue": "east_h_upper_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "listFlat(tmp_polyline_ps)", "usedVars": ["tmp_polyline_ps"], "jsValue": "listFlat(__debug__, tmp_polyline_ps_)"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "east_h_upper_pl", "terminate": false, "selectGeom": false}, {"type": 8, "ID": "prod-rwuzm13s889", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "east_h_pl", "usedVars": ["east_h_pl"], "jsValue": "east_h_pl_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"east_h_lines\"", "usedVars": [], "jsValue": "\"east_h_lines\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41"}, {"type": 8, "ID": "prod-nrs9o9wqd5o", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_east_h_lines", "usedVars": ["col_east_h_lines"], "jsValue": "col_east_h_lines_"}, {"name": "entities", "value": "east_h_upper_pl", "usedVars": ["east_h_upper_pl"], "jsValue": "east_h_upper_pl_"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~41", "terminate": false}], "variable": "index"}, {"type": 14, "ID": "prod-yqx4pj685sh", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create new horizontal flat facade line for the top roof edge"}]}, {"type": 0, "ID": "prod-s3uasiyioos", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "tmp_polyline_ps", "jsValue": "tmp_polyline_ps_"}, {"name": "value", "value": "[col_short_h_pl#pl[number_of_curves-1] #ps[len(col_short_h_pl#pl[number_of_curves-1]#ps)-1] ]", "usedVars": ["col_short_h_pl", "number_of_curves"], "jsValue": "[ __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)[pythonList(number_of_curves_ - 1, __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_).length)])[pythonList(len(__debug__,  __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)[pythonList(number_of_curves_ - 1, __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_).length)])) - 1, __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_)[pythonList(number_of_curves_ - 1, __modules__.query.Get(__params__.model, 'pl', col_short_h_pl_).length)]).length)]]"}], "variable": "tmp_polyline_ps", "selectGeom": false, "terminate": false}, {"type": 4, "ID": "prod-urgv8bg9c5", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "intersection_index", "jsValue": "intersection_index_"}, {"name": "list", "value": "range(0, floor_difference)", "usedVars": ["floor_difference"], "jsValue": "range(__debug__, 0, floor_difference_)"}], "children": [{"type": 13, "ID": "prod-l2ebybx521", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~44", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~44", "ID": "prod-yg225nrqz3c", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "reference_extruded_ps", "jsValue": "reference_extruded_ps_"}, {"name": "value", "value": "extruded_pgs[column_size - 1 + (column_size * intersection_index)]#ps", "usedVars": ["extruded_pgs", "column_size", "intersection_index"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', extruded_pgs_[pythonList(column_size_ - 1 + (column_size_ * intersection_index_), extruded_pgs_.length)])"}], "variable": "reference_extruded_ps", "terminate": false, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~44", "ID": "prod-8r60yp0ui6r", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "tmp_polyline_ps", "usedVars": ["tmp_polyline_ps"], "jsValue": "tmp_polyline_ps_"}, {"name": "item", "usedVars": ["reference_extruded_ps"], "value": "[reference_extruded_ps[0], reference_extruded_ps[3]]", "jsValue": "[reference_extruded_ps_[pythonList(0, reference_extruded_ps_.length)], reference_extruded_ps_[pythonList(3, reference_extruded_ps_.length)]]"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "intersection_index", "selectGeom": false}, {"type": 8, "ID": "prod-g59ck7d12rn", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "tmp_polyline_ps", "usedVars": ["tmp_polyline_ps"], "jsValue": "tmp_polyline_ps_"}, {"name": "item", "value": "col_long_h_pl#pl[number_of_curves-1] #ps[len(col_long_h_pl#pl[number_of_curves-1]#ps)-1]", "usedVars": ["col_long_h_pl", "number_of_curves"], "jsValue": "__modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)[pythonList(number_of_curves_ - 1, __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_).length)])[pythonList(len(__debug__,  __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)[pythonList(number_of_curves_ - 1, __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_).length)])) - 1, __modules__.query.Get(__params__.model, 'ps',  __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_)[pythonList(number_of_curves_ - 1, __modules__.query.Get(__params__.model, 'pl', col_long_h_pl_).length)]).length)]"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "ID": "prod-l3vopscav3", "enabled": true, "print": true, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "east_h_pl", "jsValue": "east_h_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "listFlat(tmp_polyline_ps)", "usedVars": ["tmp_polyline_ps"], "jsValue": "listFlat(__debug__, tmp_polyline_ps_)"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "east_h_pl", "terminate": false, "selectGeom": false}, {"type": 8, "ID": "prod-idckp0wg3t", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "east_h_pl", "usedVars": ["east_h_pl"], "jsValue": "east_h_pl_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"east_h_lines\"", "usedVars": [], "jsValue": "\"east_h_lines\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false, "terminate": false}, {"type": 8, "ID": "prod-rzsxxywt36f", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "col_east_h_lines", "usedVars": ["col_east_h_lines"], "jsValue": "col_east_h_lines_"}, {"name": "entities", "value": "[east_h_pl, flat_east_h_pl]", "usedVars": ["flat_east_h_pl", "east_h_pl"], "jsValue": "[east_h_pl_, flat_east_h_pl_]"}]}, {"type": 14, "ID": "prod-dderjpeq9ap", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Reset the reference to the collection now that we have prepared all the polylines."}]}, {"type": 0, "ID": "prod-lmm7dno49o", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "flat_east_h_pl", "jsValue": "flat_east_h_pl_"}, {"name": "value", "value": "col_east_h_lines#pl", "usedVars": ["col_east_h_lines"], "jsValue": "__modules__.query.Get(__params__.model, 'pl', col_east_h_lines_)"}], "variable": "flat_east_h_pl", "selectGeom": false}, {"type": 14, "ID": "prod-zm2v5kv996d", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create the actual facade polygons for the tower's East side."}], "selectGeom": false}, {"type": 8, "ID": "prod-d3bikwq1gde", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Get"}, "argCount": 3, "args": [{"name": "var_name", "value": "short_h_pl", "jsValue": "short_h_pl_"}, {"name": "__model__"}, {"name": "names", "value": "\"tower_short_h_beziers\"", "usedVars": [], "jsValue": "\"tower_short_h_beziers\""}], "variable": "short_h_pl"}, {"type": 4, "ID": "prod-rc95jc2s93", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, len(flat_east_h_pl) - 1)", "usedVars": ["flat_east_h_pl"], "jsValue": "range(__debug__, 0, len(__debug__, flat_east_h_pl_) - 1)"}], "children": [{"type": 13, "ID": "prod-4jkrk0dy7it", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53", "ID": "prod-l01jvfchp6", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "len(flat_east_h_pl[index]#_e ) == len(flat_east_h_pl[index + 1]#_e )", "usedVars": ["flat_east_h_pl", "index"], "jsValue": "len(__debug__,  __modules__.query.Get(__params__.model, '_e', flat_east_h_pl_[pythonList(index_, flat_east_h_pl_.length)])) == len(__debug__,  __modules__.query.Get(__params__.model, '_e', flat_east_h_pl_[pythonList(index_ + 1, flat_east_h_pl_.length)]))"}], "children": [{"type": 13, "ID": "prod-9uxyvshclti", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-a0se00zoxkb", "enabled": true, "print": false, "meta": {"module": "make", "name": "Loft"}, "argCount": 5, "args": [{"name": "var_name", "value": "east_facade_pg", "jsValue": "east_facade_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "[flat_east_h_pl[index], flat_east_h_pl[index + 1]]", "usedVars": ["flat_east_h_pl", "index"], "jsValue": "[flat_east_h_pl_[pythonList(index_, flat_east_h_pl_.length)], flat_east_h_pl_[pythonList(index_ + 1, flat_east_h_pl_.length)]]"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'open_quads'", "jsValue": "'open_quads'", "usedVars": []}], "variable": "east_facade_pg", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1", "terminate": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1", "ID": "prod-p7pcouwc8iq", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "index < len(col_east_bezier#ps ) * 2", "usedVars": ["col_east_bezier", "index"], "jsValue": "index_ < len(__debug__,  __modules__.query.Get(__params__.model, 'ps', col_east_bezier_)) * 2"}], "children": [{"type": 13, "ID": "prod-p7pcouwc8iq-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~2", "ID": "prod-781b3i1t548", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "For the tower's facade, there will be a regular number of opaque/glass panels."}]}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~2", "ID": "prod-eajaxts5xlu", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "intersection_index", "jsValue": "intersection_index_"}, {"name": "list", "value": "range(1, len(east_facade_pg), 2)", "usedVars": ["east_facade_pg"], "jsValue": "range(__debug__, 1, len(__debug__, east_facade_pg_), 2)"}], "children": [{"type": 13, "ID": "prod-eajaxts5xlu-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~2~children~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~2~children~2", "ID": "prod-l6k5obi3itq", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Delete overlapping opaque/glass panels."}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~2~children~2", "ID": "prod-i2r8wc1ijk", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "hole_pgon", "jsValue": "hole_pgon_"}, {"name": "value", "value": "east_facade_pg[intersection_index]", "usedVars": ["intersection_index", "east_facade_pg"], "jsValue": "east_facade_pg_[pythonList(intersection_index_, east_facade_pg_.length)]"}], "variable": "hole_pgon", "terminate": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~2~children~2", "ID": "prod-urqisb52hna", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "hole_pgon", "usedVars": ["hole_pgon"], "jsValue": "hole_pgon_"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}], "terminate": false}], "variable": "intersection_index"}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~2", "ID": "prod-v4baizh6d2i", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "intersection_index", "jsValue": "intersection_index_"}, {"name": "list", "value": "range(0, len(east_facade_pg), 2)", "usedVars": ["east_facade_pg"], "jsValue": "range(__debug__, 0, len(__debug__, east_facade_pg_), 2)"}], "children": [{"type": 13, "ID": "prod-fkvadzkas9n", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~2~children~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~2~children~3", "ID": "prod-0hkcj4oksz1", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Split the glass panels further."}], "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~2~children~3", "ID": "prod-gd7l8bj0md", "enabled": true, "print": false, "argCount": 5, "meta": {"module": "localFunc", "name": "SplitPgon"}, "args": [{"name": "var_name", "value": "glass_pgon", "jsValue": "glass_pgon_"}, {"name": "pgon_to_split", "value": "east_facade_pg[intersection_index]", "usedVars": ["intersection_index", "east_facade_pg"], "jsValue": "east_facade_pg_[pythonList(intersection_index_, east_facade_pg_.length)]"}, {"name": "number_of_splits", "value": "3", "usedVars": [], "jsValue": "3"}, {"name": "edge_index_to_split1", "value": "2", "usedVars": [], "jsValue": "2"}, {"name": "edge_index_to_split2", "value": "0", "usedVars": [], "jsValue": "0"}], "variable": "glass_pgon", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~2~children~3", "ID": "prod-kybnqrwh60i", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "glass_pgon", "usedVars": ["glass_pgon"], "jsValue": "glass_pgon_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"glass_facade\"", "usedVars": [], "jsValue": "\"glass_facade\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false, "terminate": false}], "variable": "intersection_index", "selectGeom": false}]}, {"type": 3, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1", "ID": "prod-0zuv92twyec", "enabled": true, "print": false, "argCount": 0, "args": [], "children": [{"type": 13, "ID": "prod-0zuv92twyec-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~3", "ID": "prod-ixzcp5gvy5", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "For the tower's roof's facade, we will split each glass roof panel into four, and choose one of them to make opaque."}]}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~3", "ID": "prod-by2h6swez1m", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_split", "jsValue": "roof_split_"}, {"name": "value", "value": "4", "usedVars": [], "jsValue": "4"}], "variable": "roof_split"}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~3", "ID": "prod-yikxu4coma", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "roof_pg", "jsValue": "roof_pg_"}, {"name": "list", "value": "east_facade_pg", "usedVars": ["east_facade_pg"], "jsValue": "east_facade_pg_"}], "children": [{"type": 13, "ID": "prod-yikxu4coma-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~3~children~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~3~children~3", "ID": "prod-j87lwq0byvg", "enabled": true, "print": false, "argCount": 5, "meta": {"module": "localFunc", "name": "SplitPgon"}, "args": [{"name": "var_name", "value": "roof_split_pg", "jsValue": "roof_split_pg_"}, {"name": "pgon_to_split", "value": "roof_pg", "usedVars": ["roof_pg"], "jsValue": "roof_pg_"}, {"name": "number_of_splits", "value": "roof_split", "usedVars": ["roof_split"], "jsValue": "roof_split_"}, {"name": "edge_index_to_split1", "value": "2", "usedVars": [], "jsValue": "2"}, {"name": "edge_index_to_split2", "value": "0", "usedVars": [], "jsValue": "0"}], "variable": "roof_split_pg"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~3~children~3", "ID": "prod-ibbd50m2x4", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "opaque_index", "jsValue": "opaque_index_"}, {"name": "value", "value": "round(rand(0, len(roof_split_pg) - 1))", "usedVars": ["roof_split_pg"], "jsValue": "round(__debug__, rand(__debug__, 0, len(__debug__, roof_split_pg_) - 1))"}], "variable": "opaque_index"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~3~children~3", "ID": "prod-3n6eze8ebhd", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "roof_split_pg[opaque_index]", "usedVars": ["roof_split_pg", "opaque_index"], "jsValue": "roof_split_pg_[pythonList(opaque_index_, roof_split_pg_.length)]"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"solid_panels\"", "usedVars": [], "jsValue": "\"solid_panels\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false, "terminate": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~3~children~3", "ID": "prod-hnua1kd82p", "enabled": true, "print": false, "meta": {"module": "list", "name": "Remove"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "roof_split_pg", "usedVars": ["roof_split_pg"], "jsValue": "roof_split_pg_"}, {"name": "item", "value": "opaque_index", "usedVars": ["opaque_index"], "jsValue": "opaque_index_"}, {"name": "method", "value": "'index'", "jsValue": "'index'", "usedVars": []}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~procedure~53~children~1~children~3~children~3", "ID": "prod-e2s40w6olwa", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "roof_split_pg", "usedVars": ["roof_split_pg"], "jsValue": "roof_split_pg_"}, {"name": "attrib", "value": "\"type\"", "usedVars": [], "jsValue": "\"type\""}, {"name": "value", "value": "\"glass_facade\"", "usedVars": [], "jsValue": "\"glass_facade\""}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}], "selectGeom": false, "terminate": false}], "variable": "roof_pg"}]}], "selectGeom": false}], "variable": "index", "selectGeom": false}, {"type": 14, "ID": "prod-5w9ltdk3wwt", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Make sure the normals of the East facades pgons are facing out"}]}, {"type": 0, "ID": "prod-9i18lyepkbq", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "east_pgons", "jsValue": "east_pgons_"}, {"name": "value", "value": "listJoin(#pg ?@type==\"glass_facade\" , #pg ?@type==\"solid_panels\" )", "usedVars": [], "jsValue": "listJoin(__debug__,  __modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"glass_facade\"),  __modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"solid_panels\"))"}], "variable": "east_pgons"}, {"type": 18, "ID": "prod-1f7btmmezsgh", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "localFunc", "name": "FixNormals"}, "args": [{"name": "__none__"}, {"name": "pgon_entities", "usedVars": ["east_pgons"], "value": "east_pgons", "jsValue": "east_pgons_"}], "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 16, "ID": "prod-c3jsv0myrm", "enabled": true, "print": false, "argCount": 5, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "SplitPgon", "num_returns": 1, "collapsed": true, "deletedArgs": []}}, "args": [{"name": "func_name", "value": "SplitPgon", "jsValue": "SplitPgon_"}, {"name": "arg_1", "value": "pgon_to_split", "jsValue": "pgon_to_split_", "usedVars": ["pgon_to_split"]}, {"name": "arg_2", "value": "number_of_splits", "jsValue": "number_of_splits_", "usedVars": ["number_of_splits"]}, {"name": "arg_3", "value": "edge_index_to_split1", "jsValue": "edge_index_to_split1_", "usedVars": ["edge_index_to_split1"]}, {"name": "arg_4", "value": "edge_index_to_split2", "jsValue": "edge_index_to_split2_", "usedVars": ["edge_index_to_split2"]}], "children": [{"type": 13, "ID": "prod-c3jsv0myrm-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~1", "ID": "prod-wixs9h5rpq9", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Splits a polygon according to the edge index specified, by the number of splits specified."}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~1", "ID": "prod-qbgrbg0hgy", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Returns the list of split polygons."}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~1", "ID": "prod-68pi580ks2", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Divide"}, "argCount": 5, "args": [{"name": "var_name", "value": "edge_1", "jsValue": "edge_1_"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_to_split#_e[edge_index_to_split1]", "usedVars": ["pgon_to_split", "edge_index_to_split1"], "jsValue": "__modules__.query.Get(__params__.model, '_e', pgon_to_split_)[pythonList(edge_index_to_split1_, __modules__.query.Get(__params__.model, '_e', pgon_to_split_).length)]"}, {"name": "divisor", "value": "number_of_splits", "usedVars": ["number_of_splits"], "jsValue": "number_of_splits_"}, {"name": "method", "value": "'by_number'", "jsValue": "'by_number'", "usedVars": []}], "variable": "edge_1", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~1", "ID": "prod-4kd44jra1ff", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Divide"}, "argCount": 5, "args": [{"name": "var_name", "value": "edge_2", "jsValue": "edge_2_"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_to_split#_e[edge_index_to_split2]", "usedVars": ["pgon_to_split", "edge_index_to_split2"], "jsValue": "__modules__.query.Get(__params__.model, '_e', pgon_to_split_)[pythonList(edge_index_to_split2_, __modules__.query.Get(__params__.model, '_e', pgon_to_split_).length)]"}, {"name": "divisor", "value": "number_of_splits", "usedVars": ["number_of_splits"], "jsValue": "number_of_splits_"}, {"name": "method", "value": "'by_number'", "jsValue": "'by_number'", "usedVars": []}], "variable": "edge_2", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~1", "ID": "prod-nqmcjvnygx", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "pl_1", "jsValue": "pl_1_"}, {"name": "__model__"}, {"name": "entities", "value": "edge_1#ps", "usedVars": ["edge_1"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', edge_1_)"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "pl_1", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~1", "ID": "prod-wvian65folg", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "pl_2", "jsValue": "pl_2_"}, {"name": "__model__"}, {"name": "entities", "value": "listRev(edge_2#ps )", "usedVars": ["edge_2"], "jsValue": "listRev(__debug__,  __modules__.query.Get(__params__.model, 'ps', edge_2_))"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "pl_2", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~1", "ID": "prod-vcxpx94rv5", "enabled": true, "print": false, "meta": {"module": "make", "name": "Loft"}, "argCount": 5, "args": [{"name": "var_name", "value": "split_pg", "jsValue": "split_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "[pl_1, pl_2]", "usedVars": ["pl_1", "pl_2"], "jsValue": "[pl_1_, pl_2_]"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'open_quads'", "jsValue": "'open_quads'", "usedVars": []}], "variable": "split_pg", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~1", "ID": "prod-lhbz73te8fn", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_to_split", "usedVars": ["pgon_to_split"], "jsValue": "pgon_to_split_"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}], "terminate": false, "selectGeom": false}, {"type": 17, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~1", "ID": "prod-8lx712ja988", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "Value", "value": "split_pg", "usedVars": ["split_pg"], "jsValue": "split_pg_"}]}], "variable": null}, {"type": 16, "ID": "prod-tm29vnq3ukg", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "CheckDirection", "num_returns": 2, "collapsed": true}}, "args": [{"name": "func_name", "value": "CheckDirection", "jsValue": "CheckDirection_"}, {"name": "arg_1", "value": "entity1", "jsValue": "entity1_", "usedVars": ["entity1"]}, {"name": "arg_2", "value": "entity2", "jsValue": "entity2_", "usedVars": ["entity2"]}], "children": [{"type": 13, "ID": "prod-tm29vnq3ukg-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~2", "ID": "prod-jsppcv2n20h", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Returns the relative position of entity 2 to 1, represented as a sign (for multiplying)."}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~2", "ID": "prod-3eij2jsyxrr", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Centroid"}, "argCount": 4, "args": [{"name": "var_name", "value": "upper_centroid", "jsValue": "upper_centroid_"}, {"name": "__model__"}, {"name": "entities", "value": "entity1", "usedVars": ["entity1"], "jsValue": "entity1_"}, {"name": "method", "value": "'ps_average'", "usedVars": [], "jsValue": "'ps_average'"}], "variable": "upper_centroid", "terminate": false, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~2", "ID": "prod-23gk32ljsbj", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Centroid"}, "argCount": 4, "args": [{"name": "var_name", "value": "lower_centroid", "jsValue": "lower_centroid_"}, {"name": "__model__"}, {"name": "entities", "value": "entity2", "usedVars": ["entity2"], "jsValue": "entity2_"}, {"name": "method", "value": "'ps_average'", "usedVars": [], "jsValue": "'ps_average'"}], "variable": "lower_centroid", "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~2", "ID": "prod-cn1haptiyzv", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "upper_centroid[0] < lower_centroid[0]", "usedVars": ["upper_centroid", "lower_centroid"], "jsValue": "upper_centroid_[pythonList(0, upper_centroid_.length)] < lower_centroid_[pythonList(0, lower_centroid_.length)]"}], "children": [{"type": 13, "ID": "prod-0joy02wzunnj", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~2~children~4", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~2~children~4", "ID": "prod-nc100voo6ze", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Entity1 is on the left of Entity2"}], "selectGeom": false}, {"type": 17, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~2~children~4", "ID": "prod-znyvymxkxx", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "Value", "value": "-1", "usedVars": [], "jsValue": "-1"}]}], "selectGeom": false}, {"type": 3, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~2", "ID": "prod-77e39y5elm", "enabled": true, "print": false, "argCount": 0, "args": [], "children": [{"type": 13, "ID": "prod-8tajwuehz4y", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~2~children~5", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~2~children~5", "ID": "prod-u2dlvr7ua1h", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Entity2 is on the left of Entity1"}], "selectGeom": false}, {"type": 17, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~2~children~5", "ID": "prod-tvnkqi7loj", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "Value", "value": "1", "usedVars": [], "jsValue": "1"}]}], "selectGeom": false}], "variable": null}, {"type": 16, "ID": "prod-11hylv3bypg", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "FixNormals", "num_returns": 0, "collapsed": false}}, "args": [{"name": "func_name", "value": "FixNormals", "jsValue": "FixNormals_"}, {"name": "arg_1", "value": "pgon_entities", "jsValue": "pgon_entities_", "usedVars": ["pgon_entities"]}], "children": [{"type": 13, "ID": "prod-idzrt696xq", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 4, "ID": "prod-4j3x35da0na", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, len(pgon_entities))", "usedVars": ["pgon_entities"], "jsValue": "range(__debug__, 0, len(__debug__, pgon_entities_))"}], "children": [{"type": 13, "ID": "prod-lh18ndor5t", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~3~children~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~3~children~1", "ID": "prod-oocqo8ynsvh", "enabled": false, "print": false, "meta": {"module": "calc", "name": "Centroid"}, "argCount": 4, "args": [{"name": "var_name", "value": "avg_coord", "jsValue": "avg_coord_"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_entities#pg[index]", "usedVars": ["index", "pgon_entities"], "jsValue": "__modules__.query.Get(__params__.model, 'pg', pgon_entities_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pg', pgon_entities_).length)]"}, {"name": "method", "value": "'ps_average'", "usedVars": [], "jsValue": "'ps_average'"}], "variable": "avg_coord", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~3~children~1", "ID": "prod-lkt2f1oow2c", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Normal"}, "argCount": 4, "args": [{"name": "var_name", "value": "panel_normal", "jsValue": "panel_normal_"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_entities#pg[index]", "usedVars": ["index", "pgon_entities"], "jsValue": "__modules__.query.Get(__params__.model, 'pg', pgon_entities_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pg', pgon_entities_).length)]"}, {"name": "scale", "value": "10", "usedVars": [], "jsValue": "10"}], "variable": "panel_normal", "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~3~children~1", "ID": "prod-jpf1gge6zrd", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "panel_normal[1] < 0", "usedVars": ["panel_normal"], "jsValue": "panel_normal_[pythonList(1, panel_normal_.length)] < 0"}], "children": [{"type": 13, "ID": "prod-ge0faeh9n", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~3~children~1~children~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~3~children~1~children~3", "ID": "prod-nrgtwxy8zb", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Reverse"}, "argCount": 3, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_entities#pg[index]", "usedVars": ["index", "pgon_entities"], "jsValue": "__modules__.query.Get(__params__.model, 'pg', pgon_entities_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pg', pgon_entities_).length)]"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~3~children~1~children~3", "ID": "prod-9hkcedzpbef", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Shift"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_entities#pg[index]", "usedVars": ["index", "pgon_entities"], "jsValue": "__modules__.query.Get(__params__.model, 'pg', pgon_entities_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pg', pgon_entities_).length)]"}, {"name": "offset", "value": "1", "usedVars": [], "jsValue": "1"}], "selectGeom": false}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~3~children~1", "ID": "prod-nxwz5z9wgyg", "enabled": false, "print": false, "meta": {"module": "calc", "name": "Normal"}, "argCount": 4, "args": [{"name": "var_name", "value": "panel_normal", "jsValue": "panel_normal_"}, {"name": "__model__"}, {"name": "entities", "value": "pgon_entities#pg[index]", "usedVars": ["index", "pgon_entities"], "jsValue": "__modules__.query.Get(__params__.model, 'pg', pgon_entities_)[pythonList(index_, __modules__.query.Get(__params__.model, 'pg', pgon_entities_).length)]"}, {"name": "scale", "value": "10", "usedVars": [], "jsValue": "10"}], "variable": "panel_normal", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~3~children~1", "ID": "prod-ve4jbyfbmzc", "enabled": false, "print": false, "meta": {"module": "visualize", "name": "Ray"}, "argCount": 4, "args": [{"name": "var_name", "value": "viz_ray", "jsValue": "viz_ray_"}, {"name": "__model__"}, {"name": "rays", "value": "[avg_coord, panel_normal]", "usedVars": ["avg_coord", "panel_normal"], "jsValue": "[avg_coord_, panel_normal_]"}, {"name": "scale", "value": "1", "usedVars": [], "jsValue": "1"}], "variable": "viz_ray", "selectGeom": false}], "variable": "index", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~localFunc~3"}], "variable": null, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "hasError": false, "hasExecuted": true, "input": {"name": "input", "type": 0, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~input", "selected": false}], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode"}, "output": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source", "model": 13}}, "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input", "selected": false}], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode"}, "output": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source", "hasError": false, "hasExecuted": true, "model": 14}}, "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "selected": false}], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Assign Materials", "id": "node_q5k17pi1f3f", "position": {"x": 5400, "y": 5980}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-20xxefnnsjt", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Assign materials to the roof beams, floor plates, and facade."}]}, {"type": 8, "ID": "prod-50ar6m87a56", "enabled": true, "print": false, "meta": {"module": "material", "name": "Glass"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "name", "value": "\"glass\"", "usedVars": [], "jsValue": "\"glass\""}, {"name": "opacity", "value": "0.5", "usedVars": [], "jsValue": "0.5"}], "selectGeom": false}, {"type": 8, "ID": "prod-ycx0t6yiv6", "enabled": true, "print": false, "meta": {"module": "material", "name": "Standard"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "name", "value": "\"gray_metal\"", "usedVars": [], "jsValue": "\"gray_metal\""}, {"name": "emissive", "value": "[0.4, 0.4, 0.4]", "usedVars": [], "jsValue": "[0.4, 0.4, 0.4]"}, {"name": "roughness", "value": "0.05", "usedVars": [], "jsValue": "0.05"}, {"name": "metalness", "value": "1.0", "usedVars": [], "jsValue": "1.0"}]}, {"type": 8, "ID": "prod-ymqpxl0jrfi", "enabled": true, "print": false, "meta": {"module": "material", "name": "Standard"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "name", "value": "\"lightgray_metal\"", "usedVars": [], "jsValue": "\"lightgray_metal\""}, {"name": "emissive", "value": "[0.8, 0.8, 0.8]", "usedVars": [], "jsValue": "[0.8, 0.8, 0.8]"}, {"name": "roughness", "value": "0.05", "usedVars": [], "jsValue": "0.05"}, {"name": "metalness", "value": "1.0", "usedVars": [], "jsValue": "1.0"}], "selectGeom": false}, {"type": 8, "ID": "prod-cv4swg10pn9", "enabled": true, "print": false, "meta": {"module": "material", "name": "Standard"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "name", "value": "\"gray_concrete\"", "usedVars": [], "jsValue": "\"gray_concrete\""}, {"name": "emissive", "value": "[0.2, 0.2, 0.2]", "usedVars": [], "jsValue": "[0.2, 0.2, 0.2]"}, {"name": "roughness", "value": "0.6", "usedVars": [], "jsValue": "0.6"}, {"name": "metalness", "value": "1.0", "usedVars": [], "jsValue": "1.0"}]}, {"type": 8, "ID": "prod-w5zlsobxy97", "enabled": true, "print": false, "meta": {"module": "material", "name": "Standard"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "name", "value": "\"vegetation\"", "usedVars": [], "jsValue": "\"vegetation\""}, {"name": "emissive", "value": "[0, 0.4, 0]", "usedVars": [], "jsValue": "[0, 0.4, 0]"}, {"name": "roughness", "value": "0.9", "usedVars": [], "jsValue": "0.9"}, {"name": "metalness", "value": "1.0", "usedVars": [], "jsValue": "1.0"}], "selectGeom": false}, {"type": 8, "ID": "prod-8dw7ejjkpby", "enabled": true, "print": false, "meta": {"module": "material", "name": "Set"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "#pg ?@type==\"roof_beams\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"roof_beams\")"}, {"name": "material", "value": "\"gray_metal\"", "usedVars": [], "jsValue": "\"gray_metal\""}]}, {"type": 8, "ID": "prod-t4e7u8x6u3q", "enabled": true, "print": false, "meta": {"module": "material", "name": "Set"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "[#pg ?@type==\"tower_floor\" , #pg ?@type==\"terrace_roof_floor\" , #pg ?@type==\"dormer_floor\" ]", "usedVars": [], "jsValue": "[ __modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"tower_floor\"),  __modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"terrace_roof_floor\"),  __modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"dormer_floor\")]"}, {"name": "material", "value": "\"gray_concrete\"", "usedVars": [], "jsValue": "\"gray_concrete\""}], "selectGeom": false}, {"type": 8, "ID": "prod-2ckso43fgu2", "enabled": true, "print": false, "meta": {"module": "material", "name": "Set"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "#pg ?@type==\"terrace_roof_grass\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"terrace_roof_grass\")"}, {"name": "material", "value": "\"vegetation\"", "usedVars": [], "jsValue": "\"vegetation\""}], "selectGeom": false}, {"type": 8, "ID": "prod-oczqx2y89cg", "enabled": true, "print": false, "meta": {"module": "material", "name": "Set"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "#pg ?@type==\"glass_facade\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"glass_facade\")"}, {"name": "material", "value": "\"glass\"", "usedVars": [], "jsValue": "\"glass\""}], "selectGeom": false}, {"type": 8, "ID": "prod-iwki29ywzz", "enabled": true, "print": false, "meta": {"module": "material", "name": "Set"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "#pg ?@type==\"beams\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"beams\")"}, {"name": "material", "value": "\"lightgray_metal\"", "usedVars": [], "jsValue": "\"lightgray_metal\""}], "selectGeom": false}, {"type": 14, "ID": "prod-f83oq7jflqb", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Assign materials to the facades using the inspired pattern if sunshading is disabled"}]}, {"type": 1, "ID": "prod-15nv2aeh3bm", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "!BOOL_SUNSHADING", "usedVars": ["BOOL_SUNSHADING"], "jsValue": "!BOOL_SUNSHADING_"}], "children": [{"type": 13, "ID": "prod-15nv2aeh3bm-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~13", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-ut2opr6ux2o", "enabled": true, "print": false, "meta": {"module": "material", "name": "Standard"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "name", "value": "\"opaque_facade\"", "usedVars": [], "jsValue": "\"opaque_facade\""}, {"name": "emissive", "value": "[0.815, 0.937, 1]", "usedVars": [], "jsValue": "[0.815, 0.937, 1]"}, {"name": "roughness", "value": "0.5", "usedVars": [], "jsValue": "0.5"}, {"name": "metalness", "value": "1.0", "usedVars": [], "jsValue": "1.0"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~13"}, {"type": 8, "ID": "prod-lbfdtnxwp59", "enabled": true, "print": false, "meta": {"module": "material", "name": "Set"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "#pg ?@type==\"solid_panels\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"solid_panels\")"}, {"name": "material", "value": "\"opaque_facade\"", "usedVars": [], "jsValue": "\"opaque_facade\""}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~13"}]}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Sun Shading Panels", "id": "node_c32k7yg5zyd", "position": {"x": 5400, "y": 6100}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-u6d7hx3ydd", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "This node only runs if we are simulating the smart sun shading system."}]}, {"type": 1, "ID": "prod-k86tizhkp4i", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "BOOL_SUNSHADING", "usedVars": ["BOOL_SUNSHADING"], "jsValue": "BOOL_SUNSHADING_"}], "children": [{"type": 13, "ID": "prod-k86tizhkp4i-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-vwxf24rchb", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "This node simulates the sun, then changes the opacity of the panels based on its angle from the sun."}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 0, "ID": "prod-2hnfjj5h8j", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "sunpath_radius", "jsValue": "sunpath_radius_"}, {"name": "value", "value": "BUILDING_HEIGHT * 1.5", "usedVars": ["BUILDING_HEIGHT"], "jsValue": "BUILDING_HEIGHT_ * 1.5"}], "variable": "sunpath_radius", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 8, "ID": "prod-fhwam7nhv8", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Polyhedron"}, "argCount": 6, "args": [{"name": "var_name", "value": "sun_ps", "jsValue": "sun_ps_"}, {"name": "__model__"}, {"name": "origin", "value": "[BUILDING_SIZE_X * 0.5, sunpath_radius + BUILDING_SIZE_Y * 0.5, 0]", "usedVars": ["BUILDING_SIZE_Y", "BUILDING_SIZE_X", "sunpath_radius"], "jsValue": "[BUILDING_SIZE_X_ * 0.5, sunpath_radius_ + BUILDING_SIZE_Y_ * 0.5, 0]"}, {"name": "radius", "value": "20", "usedVars": [], "jsValue": "20"}, {"name": "detail", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'face_icosa'", "jsValue": "'face_icosa'", "usedVars": []}], "variable": "sun_ps", "terminate": false, "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 8, "ID": "prod-g80e2pl88g", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "sun_pg", "jsValue": "sun_pg_"}, {"name": "__model__"}, {"name": "entities", "value": "sun_ps", "usedVars": ["sun_ps"], "jsValue": "sun_ps_"}], "variable": "sun_pg", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 14, "ID": "prod-kqc3nglbcql", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create a line to visualize the sun's path."}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 0, "ID": "prod-e89hw7818lh", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "path_center", "jsValue": "path_center_"}, {"name": "value", "value": "[BUILDING_SIZE_X * 0.5, BUILDING_SIZE_Y * 0.5, 0]", "usedVars": ["BUILDING_SIZE_Y", "BUILDING_SIZE_X"], "jsValue": "[BUILDING_SIZE_X_ * 0.5, BUILDING_SIZE_Y_ * 0.5, 0]"}], "variable": "path_center", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 8, "ID": "prod-mly1mv8gcqm", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "sunpath_ps", "jsValue": "sunpath_ps_"}, {"name": "__model__"}, {"name": "origin", "value": "path_center", "usedVars": ["path_center"], "jsValue": "path_center_"}, {"name": "radius", "value": "sunpath_radius", "usedVars": ["sunpath_radius"], "jsValue": "sunpath_radius_"}, {"name": "num_positions", "value": "50", "usedVars": [], "jsValue": "50"}, {"name": "arc_angle", "value": "degToRad(180)", "usedVars": [], "jsValue": "degToRad(__debug__, 180)"}], "variable": "sunpath_ps", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 8, "ID": "prod-c3c725839j", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "sunpath_pl", "jsValue": "sunpath_pl_"}, {"name": "__model__"}, {"name": "entities", "value": "sunpath_ps", "usedVars": ["sunpath_ps"], "jsValue": "sunpath_ps_"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "sunpath_pl", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 8, "ID": "prod-qw5wnfe637", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "sunpath_pl", "usedVars": ["sunpath_pl"], "jsValue": "sunpath_pl_"}, {"name": "ray", "value": "[path_center, [1, 0, 0]]", "usedVars": ["path_center"], "jsValue": "[path_center_, [1, 0, 0]]"}, {"name": "angle", "value": "degToRad(90)", "usedVars": [], "jsValue": "degToRad(__debug__, 90)"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 8, "ID": "prod-e0kxv9w2nd8", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "sunpath_pl", "usedVars": ["sunpath_pl"], "jsValue": "sunpath_pl_"}, {"name": "ray", "value": "[path_center, [0, 0, 1]]", "usedVars": ["path_center"], "jsValue": "[path_center_, [0, 0, 1]]"}, {"name": "angle", "value": "degToRad(90)", "usedVars": [], "jsValue": "degToRad(__debug__, 90)"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 8, "ID": "prod-mruzb7njj7a", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "sun_pg", "usedVars": ["sun_pg"], "jsValue": "sun_pg_"}, {"name": "color", "value": "[1, 1, 0]", "usedVars": [], "jsValue": "[1, 1, 0]"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 14, "ID": "prod-9d5bpw7hcpa", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Rotate the sun based on the sun path and get its position."}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 8, "ID": "prod-mifjheyfk0q", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "sun_pg", "usedVars": ["sun_pg"], "jsValue": "sun_pg_"}, {"name": "ray", "value": "[path_center, [1, 0, 0]]", "usedVars": ["path_center"], "jsValue": "[path_center_, [1, 0, 0]]"}, {"name": "angle", "value": "degToRad(SUN_ANGLE)", "usedVars": ["SUN_ANGLE"], "jsValue": "degToRad(__debug__, SUN_ANGLE_)"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-pcbmbnjhxv", "enabled": true, "print": true, "meta": {"module": "calc", "name": "Centroid"}, "argCount": 4, "args": [{"name": "var_name", "value": "sun_center", "jsValue": "sun_center_"}, {"name": "__model__"}, {"name": "entities", "value": "sun_pg#ps", "usedVars": ["sun_pg"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', sun_pg_)"}, {"name": "method", "value": "'ps_average'", "jsValue": "'ps_average'", "usedVars": []}], "variable": "sun_center"}, {"type": 14, "ID": "prod-hgahijld3rf", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create a list of panels (based on name) we can choose from based on the harshness of the sun"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-trch0oiiqb", "enabled": true, "print": false, "meta": {"module": "material", "name": "Standard"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "name", "value": "\"sunshading0\"", "usedVars": [], "jsValue": "\"sunshading0\""}, {"name": "emissive", "value": "[0.971, 0.993, 1]", "usedVars": [], "jsValue": "[0.971, 0.993, 1]"}, {"name": "roughness", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "metalness", "value": "1", "usedVars": [], "jsValue": "1"}]}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-0vzqkm2hy34j", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "panel_types_available", "jsValue": "panel_types_available_"}, {"name": "value", "value": "10", "usedVars": [], "jsValue": "10"}], "variable": "panel_types_available"}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-pb8yoabrqqp", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "counter", "jsValue": "counter_"}, {"name": "list", "value": "range(1, panel_types_available)", "usedVars": ["panel_types_available"], "jsValue": "range(__debug__, 1, panel_types_available_)"}], "children": [{"type": 13, "ID": "prod-pb8yoabrqqp-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~18", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~18", "ID": "prod-kptt683rtml", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "create a series of panels with less opacity, minimum opacity being 0.4 so its not "}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~18", "ID": "prod-ru11niii56", "enabled": true, "print": false, "meta": {"module": "material", "name": "Glass"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "name", "usedVars": ["counter"], "value": "\"sunshading\" + counter", "jsValue": "\"sunshading\" + counter_"}, {"name": "opacity", "usedVars": ["panel_types_available", "counter"], "value": "remap(counter, [1, panel_types_available], [0.9, 0.2])", "jsValue": "remap(__debug__, counter_, [1, panel_types_available_], [0.9, 0.2])"}], "selectGeom": false}], "variable": "counter"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-qm5prh6jm8e", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Change the sunshading setting of the panels based on the sun's angle."}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-pg5vg8u0mt", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Keep track of the highest and lowest values so we can remap using that range later."}]}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-nkmu5t72ki", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "sunshading_panels", "jsValue": "sunshading_panels_"}, {"name": "value", "value": "#pg ?@type==\"sunshading_facade\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"sunshading_facade\")"}], "variable": "sunshading_panels"}, {"type": 0, "ID": "prod-qc69wspdefb", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "lowest_angle", "jsValue": "lowest_angle_"}, {"name": "value", "value": "360", "usedVars": [], "jsValue": "360"}], "variable": "lowest_angle", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 0, "ID": "prod-h5nwcjyr3kg", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "highest_angle", "jsValue": "highest_angle_"}, {"name": "value", "value": "-360", "usedVars": [], "jsValue": "-360"}], "variable": "highest_angle", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-4l1tvpz8o53", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "angles", "jsValue": "angles_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "angles"}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-ht76fmamx78", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "panel", "jsValue": "panel_"}, {"name": "list", "value": "sunshading_panels", "usedVars": ["sunshading_panels"], "jsValue": "sunshading_panels_"}], "children": [{"type": 13, "ID": "prod-ht76fmamx78-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~25", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~25", "ID": "prod-idw57w4tl4", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Tint the panel bluish"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~25", "ID": "prod-y3qq3hf2r5k", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Centroid"}, "argCount": 4, "args": [{"name": "var_name", "value": "panel_center", "jsValue": "panel_center_"}, {"name": "__model__"}, {"name": "entities", "value": "panel#ps", "usedVars": ["panel"], "jsValue": "__modules__.query.Get(__params__.model, 'ps', panel_)"}, {"name": "method", "value": "'ps_average'", "jsValue": "'ps_average'", "usedVars": []}], "variable": "panel_center"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~25", "ID": "prod-qqzic3t0io", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Normal"}, "argCount": 4, "args": [{"name": "var_name", "value": "panel_normal", "jsValue": "panel_normal_"}, {"name": "__model__"}, {"name": "entities", "value": "panel", "usedVars": ["panel"], "jsValue": "panel_"}, {"name": "scale", "value": "1", "usedVars": [], "jsValue": "1"}], "variable": "panel_normal"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~25", "ID": "prod-ris9ixcze8", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "angle_from_sun", "jsValue": "angle_from_sun_"}, {"name": "value", "value": "radToDeg(vecAng(panel_normal, vecNorm(vecSub(sun_center, panel_center))))", "usedVars": ["panel_center", "panel_normal", "sun_center"], "jsValue": "radToDeg(__debug__, vecAng(__debug__, panel_normal_, vecNorm(__debug__, vecSub(__debug__, sun_center_, panel_center_))))"}], "variable": "angle_from_sun"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~25", "ID": "prod-g1gfdfquq3l", "enabled": true, "print": false, "meta": {"module": "attrib", "name": "Set"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "panel", "usedVars": ["panel"], "jsValue": "panel_"}, {"name": "attrib", "value": "\"sun_angle\"", "usedVars": [], "jsValue": "\"sun_angle\""}, {"name": "value", "value": "angle_from_sun", "usedVars": ["angle_from_sun"], "jsValue": "angle_from_sun_"}, {"name": "method", "value": "'one_value'", "jsValue": "'one_value'", "usedVars": []}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~25", "ID": "prod-njfah31jcio", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "angles", "usedVars": ["angles"], "jsValue": "angles_"}, {"name": "item", "value": "angle_from_sun", "usedVars": ["angle_from_sun"], "jsValue": "angle_from_sun_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~25", "ID": "prod-af0zk7fq6wr", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "lowest_angle", "jsValue": "lowest_angle_"}, {"name": "value", "value": "min([lowest_angle, angle_from_sun])", "usedVars": ["angle_from_sun", "lowest_angle"], "jsValue": "min(__debug__, [lowest_angle_, angle_from_sun_])"}], "variable": "lowest_angle"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~25", "ID": "prod-ba0skeg6j5", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "highest_angle", "jsValue": "highest_angle_"}, {"name": "value", "value": "max([highest_angle, angle_from_sun])", "usedVars": ["angle_from_sun", "highest_angle"], "jsValue": "max(__debug__, [highest_angle_, angle_from_sun_])"}], "variable": "highest_angle"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~25", "ID": "prod-4jxyiceth7c", "enabled": false, "print": false, "meta": {"module": "visualize", "name": "Ray"}, "argCount": 4, "args": [{"name": "var_name", "value": "ray", "jsValue": "ray_"}, {"name": "__model__"}, {"name": "rays", "value": "[panel_center, panel_normal]", "usedVars": ["panel_center", "panel_normal"], "jsValue": "[panel_center_, panel_normal_]"}, {"name": "scale", "value": "1", "usedVars": [], "jsValue": "1"}], "variable": "ray"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~25", "ID": "prod-s0bge2a3e6", "enabled": false, "print": false, "meta": {"module": "visualize", "name": "Ray"}, "argCount": 4, "args": [{"name": "var_name", "value": "ray", "jsValue": "ray_"}, {"name": "__model__"}, {"name": "rays", "usedVars": ["panel_center", "sun_center"], "value": "[panel_center, vecNorm(vecSub(sun_center, panel_center))]", "jsValue": "[panel_center_, vecNorm(__debug__, vecSub(__debug__, sun_center_, panel_center_))]"}, {"name": "scale", "usedVars": [], "value": "1", "jsValue": "1"}], "variable": "ray", "selectGeom": false}], "variable": "panel"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-bj8o738q2ee", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "We want to use the highest and lowest angles so there will be a chance to use the whole range of panels."}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-qzrtmzgtvm", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "So we loop through it again now that we have the highest/lowest values."}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-a6n0ha8rnkj", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "The smaller the angle, the harsher the sun, the more opaque the panel"}], "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-q1dyhppsrq", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "BOOL_SUNGRADIENT", "usedVars": ["BOOL_SUNGRADIENT"], "jsValue": "BOOL_SUNGRADIENT_"}], "children": [{"type": 13, "ID": "prod-q1dyhppsrq-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~29", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~29", "ID": "prod-pjxt738xnqc", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Gradient"}, "argCount": 6, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "usedVars": ["sunshading_panels"], "value": "sunshading_panels", "jsValue": "sunshading_panels_"}, {"name": "attrib", "usedVars": [], "value": "\"sun_angle\"", "jsValue": "\"sun_angle\""}, {"name": "range", "usedVars": ["lowest_angle", "highest_angle"], "value": "[highest_angle, lowest_angle]", "jsValue": "[highest_angle_, lowest_angle_]"}, {"name": "method", "value": "'blue_red'", "jsValue": "'blue_red'", "usedVars": []}], "selectGeom": false}]}, {"type": 3, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-u8z4yihr2x", "enabled": true, "print": false, "argCount": 0, "args": [], "children": [{"type": 13, "ID": "prod-u8z4yihr2x-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~30", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~30", "ID": "prod-tu87nlt1p9c", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "index", "jsValue": "index_"}, {"name": "list", "value": "range(0, len(sunshading_panels))", "usedVars": ["sunshading_panels"], "jsValue": "range(__debug__, 0, len(__debug__, sunshading_panels_))"}], "children": [{"type": 13, "ID": "prod-82mo3d0tz0e", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~30~children~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~30~children~1", "ID": "prod-o2dhjvydbya", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "panel_type_index", "jsValue": "panel_type_index_"}, {"name": "value", "value": "floor(remap(angles[index], [lowest_angle, highest_angle], [0, panel_types_available - 1]))", "usedVars": ["index", "panel_types_available", "lowest_angle", "highest_angle", "angles"], "jsValue": "floor(__debug__, remap(__debug__, angles_[pythonList(index_, angles_.length)], [lowest_angle_, highest_angle_], [0, panel_types_available_ - 1]))"}], "variable": "panel_type_index", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~30~children~1", "ID": "prod-o02hyo9s8t", "enabled": true, "print": false, "meta": {"module": "material", "name": "Set"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "sunshading_panels[index]", "usedVars": ["index", "sunshading_panels"], "jsValue": "sunshading_panels_[pythonList(index_, sunshading_panels_.length)]"}, {"name": "material", "value": "\"sunshading\" + panel_type_index", "usedVars": ["panel_type_index"], "jsValue": "\"sunshading\" + panel_type_index_"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~30~children~1", "ID": "prod-dg7xv1aj64p", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "sunshading_panels[index]", "usedVars": ["index", "sunshading_panels"], "jsValue": "sunshading_panels_[pythonList(index_, sunshading_panels_.length)]"}, {"name": "color", "value": "[0.971, 0.993, 1]", "usedVars": [], "jsValue": "[0.971, 0.993, 1]"}], "selectGeom": false}], "variable": "index", "selectGeom": false}]}]}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "hasError": false, "hasExecuted": true, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "End", "id": "node_972dv4aduz", "position": {"x": 5400, "y": 6200}, "enabled": true, "type": "end", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 11, "ID": "Return", "meta": {"name": "", "module": ""}, "argCount": 2, "args": [{"name": "__model__", "value": "", "jsValue": ""}, {"name": "value", "value": "", "jsValue": "", "usedVars": []}], "print": false, "enabled": true, "terminate": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 18}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "model": 17}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 16}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 11}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 10}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 9}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 8}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 7}}, "selected": false}, "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~input~edges~0"], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 6}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "model": 5}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 4}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 3}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0"}, "hasError": false, "hasExecuted": true, "model": 2}, "~flowchart~nodes~0~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"], "edges": ["~flowchart~nodes~0~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2~source~parentNode~input~edges~1", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~2"], "functions": [], "ordered": true, "last_updated": "2021-03-25T03:00:20.293Z", "returnDescription": "Tham Weng Yew  \nA0200297L  \ne0407278@u.nus.edu"}, "version": "0.7.5", "settings": "{\"normals\":{\"show\":false,\"size\":5},\"axes\":{\"show\":true,\"size\":50},\"grid\":{\"show\":true,\"size\":1240,\"pos_x\":295,\"pos_y\":395,\"pos_z\":-1,\"pos\":{\"x\":295,\"y\":395,\"z\":-1}},\"background\":{\"show\":true,\"background_set\":0},\"positions\":{\"show\":false,\"size\":4.9},\"tjs_summary\":{\"show\":false},\"gi_summary\":{\"show\":true},\"wireframe\":{\"show\":false},\"camera\":{\"pos\":{\"x\":-284.9008357646833,\"y\":-685.5720128593866,\"z\":509.2568150701383},\"target\":{\"x\":0,\"y\":0,\"z\":0},\"ortho\":false},\"colors\":{\"viewer_bg\":\"#E6E6E6\",\"position\":\"#000000\",\"position_s\":\"#0033FF\",\"vertex_s\":\"#FFCC00\",\"face_f\":\"#FFFFFF\",\"face_f_s\":\"#4949BD\",\"face_b\":\"#DDDDDD\",\"face_b_s\":\"#00006D\"},\"ambient_light\":{\"show\":true,\"color\":\"#FFFFFF\",\"intensity\":0.5},\"hemisphere_light\":{\"show\":true,\"helper\":false,\"skyColor\":\"#FFFFFF\",\"groundColor\":\"#FFFFFF\",\"intensity\":0.5},\"directional_light\":{\"show\":false,\"helper\":false,\"color\":\"#FFFFFF\",\"intensity\":1,\"shadow\":true,\"azimuth\":90,\"altitude\":45,\"distance\":10,\"type\":\"directional\",\"shadowSize\":2048},\"ground\":{\"show\":false,\"width\":1000,\"length\":1000,\"height\":-0.5,\"color\":\"#FFFFFF\",\"shininess\":0},\"select\":{\"selector\":{\"id\":0,\"name\":\"Positions\"},\"tab\":\"0\",\"enabledselector\":{\"ps\":true,\"_v\":true,\"_e\":true,\"_w\":true,\"_f\":true,\"pt\":true,\"pl\":true,\"pg\":true,\"co\":true}},\"version\":\"0.5.12\",\"cesium\":{\"imagery\":{\"layer\":\"Open Street Map\",\"terrain\":\"Ellipsoid\",\"apiKey\":{\"here\":\"7vMRjLNCpcOAUQXU61eUp6EFbWCy7WLNmy9qLHO-1Bw\"}},\"camera\":{\"pos\":{\"x\":0,\"y\":0,\"z\":0},\"direction\":{\"x\":0,\"y\":0,\"z\":0},\"up\":{\"x\":0,\"y\":0,\"z\":0},\"right\":{\"x\":0,\"y\":0,\"z\":0}},\"time\":{\"date\":\"2020-05-11\"},\"model\":{\"polygonEdge\":true},\"updated\":true},\"day_light\":{\"show\":true,\"helper\":false,\"intensity\":1,\"position\":[0,2000,1000],\"size\":1000},\"geo\":{\"imagery\":{\"layer\":\"Open Street Map\",\"terrain\":\"Ellipsoid\",\"apiKey\":{\"here\":\"7vMRjLNCpcOAUQXU61eUp6EFbWCy7WLNmy9qLHO-1Bw\"}},\"camera\":{\"pos\":{\"x\":-1527170.4564504684,\"y\":6191377.229851589,\"z\":142492.86697965642},\"direction\":{\"x\":0,\"y\":0,\"z\":0},\"up\":{\"x\":0,\"y\":0,\"z\":0},\"right\":{\"x\":0,\"y\":0,\"z\":0},\"rot\":{\"x\":-2.8946890807177175,\"y\":0.03332128705035884,\"z\":2.8868931928931136}},\"time\":{\"date\":\"2021-01-27T16:00\"},\"model\":{\"polygonEdge\":false},\"updated\":true}}"}