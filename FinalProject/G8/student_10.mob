{"name": "FinalProject_G8_student_10", "author": "new_user", "flowchart": {"id": "40be69a2-c7e9-161d-a4e3-19f4b8345a32", "name": "FinalProject_G8_student_10", "description": "", "language": "js", "meta": {"selected_nodes": [0]}, "nodes": [{"name": "Start", "id": "node_yo86dwn4pp9", "position": {"x": 5340, "y": 4880}, "enabled": true, "type": "start", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 10, "ID": "prod-ebdfrxqdydu", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Amount of twist for each floor in degrees"}, "args": [{"name": "const_name", "value": "TWIST_ANGLE", "jsValue": "TWIST_ANGLE_"}, {"name": "__input__", "value": 4, "step": "1", "min": "-30", "max": "30"}]}, {"type": 10, "ID": "prod-6jyicvqqq0o", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Amount of twist for each floor which follows a sine wave pattern in degrees"}, "args": [{"name": "const_name", "value": "SINE_TWIST_ANGLE_AMPLITUDE", "jsValue": "SINE_TWIST_ANGLE_AMPLITUDE_"}, {"name": "__input__", "value": 0, "step": "1", "min": "-30", "max": "30"}]}, {"type": 10, "ID": "prod-cid6qivfzk4", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Number of twist oscillations for each floor which follows a sine wave pattern"}, "args": [{"name": "const_name", "value": "SINE_TWIST_ANGLE_FREQUENCY", "jsValue": "SINE_TWIST_ANGLE_FREQUENCY_"}, {"name": "__input__", "value": 0.53, "step": "0.01", "min": "0", "max": "1"}]}, {"type": 10, "ID": "prod-58nhfb7vmpm", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Number of floors"}, "args": [{"name": "const_name", "value": "NUM_FLOORS", "jsValue": "NUM_FLOORS_"}, {"name": "__input__", "value": 22, "step": "1", "min": "1", "max": "50"}]}, {"type": 10, "ID": "prod-pl4w68834gm", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Length of floor"}, "args": [{"name": "const_name", "value": "FLOOR_LENGTH", "jsValue": "FLOOR_LENGTH_"}, {"name": "__input__", "value": "15", "step": "1", "min": "10", "max": "50"}]}, {"type": 10, "ID": "prod-zumwlhi02ll", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Change in length of floor as floor number increases"}, "args": [{"name": "const_name", "value": "FLOOR_LENGTH_GRADIENT", "jsValue": "FLOOR_LENGTH_GRADIENT_"}, {"name": "__input__", "value": "-0", "step": "0.1", "min": "-5", "max": "5"}]}, {"type": 10, "ID": "prod-mmwp38d5gnn", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Change in length of floor as floor number increases which follows a sine wave pattern"}, "args": [{"name": "const_name", "value": "SINE_FLOOR_LENGTH_AMPLITUDE", "jsValue": "SINE_FLOOR_LENGTH_AMPLITUDE_"}, {"name": "__input__", "value": "0", "step": "0.01", "min": "-1", "max": "1"}], "selectGeom": false}, {"type": 10, "ID": "prod-5ctl7krlxxa", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Number of oscillations in length of floor as floor number increases which follows a sine wave pattern"}, "args": [{"name": "const_name", "value": "SINE_FLOOR_LENGTH_FREQUENCY", "jsValue": "SINE_FLOOR_LENGTH_FREQUENCY_"}, {"name": "__input__", "value": "0", "step": "0.01", "min": "0", "max": "1"}], "selectGeom": false}, {"type": 10, "ID": "prod-z828w2un6k", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Width of floor"}, "args": [{"name": "const_name", "value": "FLOOR_WIDTH", "jsValue": "FLOOR_WIDTH_"}, {"name": "__input__", "value": "10", "step": "1", "min": "10", "max": "50"}]}, {"type": 10, "ID": "prod-8wik7756yap", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Change in width of floor as floor number increases"}, "args": [{"name": "const_name", "value": "FLOOR_WIDTH_GRADIENT", "jsValue": "FLOOR_WIDTH_GRADIENT_"}, {"name": "__input__", "value": "0", "step": "0.1", "min": "-5", "max": "5"}]}, {"type": 10, "ID": "prod-odc3glieux", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Change in width of floor as floor number increases which follows a sine wave pattern"}, "args": [{"name": "const_name", "value": "SINE_FLOOR_WIDTH_AMPLITUDE", "jsValue": "SINE_FLOOR_WIDTH_AMPLITUDE_"}, {"name": "__input__", "value": "0", "step": "0.01", "min": "-1", "max": "1"}], "selectGeom": false}, {"type": 10, "ID": "prod-xsg1t57ndwj", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Number of oscillations in width of floor as floor number increases which follows a sine wave pattern"}, "args": [{"name": "const_name", "value": "SINE_FLOOR_WIDTH_FREQUENCY", "jsValue": "SINE_FLOOR_WIDTH_FREQUENCY_"}, {"name": "__input__", "value": "0", "step": "0.01", "min": "0", "max": "1"}], "selectGeom": false}, {"type": 10, "ID": "prod-81rq496viy5", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Size of balcony"}, "args": [{"name": "const_name", "value": "BALCONY_SIZE", "jsValue": "BALCONY_SIZE_"}, {"name": "__input__", "value": 5, "min": "0", "max": "30", "step": "1"}]}, {"type": 10, "ID": "prod-c63ibn726o9", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "% Of floors from the top to be rotation locked"}, "args": [{"name": "const_name", "value": "ROTATION_LOCK_FLOORS", "jsValue": "ROTATION_LOCK_FLOORS_"}, {"name": "__input__", "value": "33", "step": "1", "min": "0", "max": "100"}]}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": false}, "input": {"name": "input", "type": 0, "edges": [], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0"}, "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Create floor base, apply parameters, & build", "id": "node_6v2ar3k05nc", "position": {"x": 5240, "y": 4980}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-tiqq30x22je", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Loop the code by the number of floors"}]}, {"type": 4, "ID": "prod-eh69svo9wt", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "i", "jsValue": "i_"}, {"name": "list", "value": "range(0, NUM_FLOORS)", "usedVars": ["NUM_FLOORS"], "jsValue": "range(__debug__, 0, NUM_FLOORS_)"}], "children": [{"type": 13, "ID": "", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~2", "ID": "prod-bzdtba8zxoj", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "prepare variables"}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~2", "ID": "prod-k5km7665mua", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "var: change in floor length"}]}, {"type": 0, "ID": "prod-mhs54zx11i", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "var", "jsValue": "var_"}, {"name": "value", "value": "FLOOR_LENGTH + i * FLOOR_LENGTH_GRADIENT + 10 * SINE_FLOOR_LENGTH_AMPLITUDE * sin(i * SINE_FLOOR_LENGTH_FREQUENCY)", "usedVars": ["SINE_FLOOR_LENGTH_FREQUENCY", "SINE_FLOOR_LENGTH_AMPLITUDE", "FLOOR_LENGTH_GRADIENT", "FLOOR_LENGTH", "i"], "jsValue": "FLOOR_LENGTH_ + i_ * FLOOR_LENGTH_GRADIENT_ + 10 * SINE_FLOOR_LENGTH_AMPLITUDE_ * sin(__debug__, i_ * SINE_FLOOR_LENGTH_FREQUENCY_)"}], "variable": "var", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~2"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~2", "ID": "prod-86gp793r15y", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "var2: change in floor width"}]}, {"type": 0, "ID": "prod-u466fothhg", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "var2", "jsValue": "var2_"}, {"name": "value", "value": "FLOOR_WIDTH + i * FLOOR_WIDTH_GRADIENT + 10 * SINE_FLOOR_WIDTH_AMPLITUDE * sin(i * SINE_FLOOR_WIDTH_FREQUENCY)", "usedVars": ["SINE_FLOOR_WIDTH_FREQUENCY", "SINE_FLOOR_WIDTH_AMPLITUDE", "FLOOR_WIDTH_GRADIENT", "FLOOR_WIDTH", "i"], "jsValue": "FLOOR_WIDTH_ + i_ * FLOOR_WIDTH_GRADIENT_ + 10 * SINE_FLOOR_WIDTH_AMPLITUDE_ * sin(__debug__, i_ * SINE_FLOOR_WIDTH_FREQUENCY_)"}], "variable": "var2", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~2"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~2", "ID": "prod-5mursmmqm7h", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "var3: change in floor twist"}]}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~2", "ID": "prod-sthp3c0n76l", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "var3", "jsValue": "var3_"}, {"name": "value", "value": "degToRad(SINE_TWIST_ANGLE_AMPLITUDE) * sin(i * SINE_TWIST_ANGLE_FREQUENCY)", "usedVars": ["SINE_TWIST_ANGLE_FREQUENCY", "SINE_TWIST_ANGLE_AMPLITUDE", "i"], "jsValue": "degToRad(__debug__, SINE_TWIST_ANGLE_AMPLITUDE_) * sin(__debug__, i_ * SINE_TWIST_ANGLE_FREQUENCY_)"}], "variable": "var3"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~2", "ID": "prod-ov4fepmecei", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "plot positions for each floor and move it up every level and make it into a rectangle"}]}, {"type": 8, "ID": "prod-wzxyz8dymj", "enabled": true, "print": false, "meta": {"module": "make", "name": "Position"}, "argCount": 3, "args": [{"name": "var_name", "value": "pos", "jsValue": "pos_"}, {"name": "__model__"}, {"name": "coords", "value": "[[-20 - var, -20 - var2, i * 10], [20 + var, -20 - var2, i * 10], [20 + var, 20 + var2, i * 10], [-20 - var, 20 + var2, i * 10]]", "usedVars": ["var2", "i"], "jsValue": "[[-20 - var_, -20 - var2_, i_ * 10], [20 + var_, -20 - var2_, i_ * 10], [20 + var_, 20 + var2_, i_ * 10], [-20 - var_, 20 + var2_, i_ * 10]]"}], "variable": "pos", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~2"}, {"type": 8, "ID": "prod-s6fet5djm1a", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "floor", "jsValue": "floor_"}, {"name": "__model__"}, {"name": "entities", "value": "pos", "usedVars": ["pos"], "jsValue": "pos_"}], "variable": "floor", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~2"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~2", "ID": "prod-90foltnk1ea", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "rotate floor plate"}]}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~2", "ID": "prod-nefql4tj139", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "i <= NUM_FLOORS * (1 - ROTATION_LOCK_FLOORS / 100)", "usedVars": ["ROTATION_LOCK_FLOORS", "NUM_FLOORS", "i"], "jsValue": "i_ <= NUM_FLOORS_ * (1 - ROTATION_LOCK_FLOORS_ / 100)"}], "children": [{"type": 13, "ID": "", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~2~children~12", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~2~children~12", "ID": "prod-u88ov0r94u9", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floor", "usedVars": ["floor"], "jsValue": "floor_"}, {"name": "ray", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}, {"name": "angle", "value": "degToRad(TWIST_ANGLE) * i + var3", "usedVars": ["TWIST_ANGLE", "var3", "i"], "jsValue": "degToRad(__debug__, TWIST_ANGLE_) * i_ + var3_"}], "selectGeom": false}]}, {"type": 3, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~2", "ID": "prod-t0gtr26we4", "enabled": true, "print": false, "argCount": 0, "args": [], "children": [{"type": 13, "ID": "", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~2~children~13", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~2~children~13", "ID": "prod-utgkg9ctjud", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floor", "usedVars": ["floor"], "jsValue": "floor_"}, {"name": "ray", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}, {"name": "angle", "value": "NUM_FLOORS * degToRad(TWIST_ANGLE) * (1 - ROTATION_LOCK_FLOORS / 100) + degToRad(SINE_TWIST_ANGLE_AMPLITUDE) * sin(NUM_FLOORS * (1 - ROTATION_LOCK_FLOORS / 100) * SINE_TWIST_ANGLE_FREQUENCY)", "usedVars": ["ROTATION_LOCK_FLOORS", "NUM_FLOORS", "SINE_TWIST_ANGLE_FREQUENCY", "SINE_TWIST_ANGLE_AMPLITUDE", "TWIST_ANGLE"], "jsValue": "NUM_FLOORS_ * degToRad(__debug__, TWIST_ANGLE_) * (1 - ROTATION_LOCK_FLOORS_ / 100) + degToRad(__debug__, SINE_TWIST_ANGLE_AMPLITUDE_) * sin(__debug__, NUM_FLOORS_ * (1 - ROTATION_LOCK_FLOORS_ / 100) * SINE_TWIST_ANGLE_FREQUENCY_)"}], "selectGeom": false}]}], "variable": "i"}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Extrude", "id": "node_l9vsrynax3", "position": {"x": 5240, "y": 5100}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-rcylfufgll", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Get previous polygons and extrude 10 units"}]}, {"type": 8, "ID": "prod-h8ercn5y4pq", "enabled": true, "print": false, "meta": {"module": "query", "name": "Get"}, "argCount": 4, "args": [{"name": "var_name", "value": "floors", "jsValue": "floors_"}, {"name": "__model__"}, {"name": "ent_type_enum", "value": "'pg'", "jsValue": "'pg'", "usedVars": []}, {"name": "entities", "value": "null", "jsValue": "null", "usedVars": []}], "variable": "floors"}, {"type": 8, "ID": "prod-0ter8x1vywjc", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "ext", "jsValue": "ext_"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "dist", "value": "10", "usedVars": [], "jsValue": "10"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "ext"}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Make roof", "id": "node_f773eunre0i", "position": {"x": 5240, "y": 5220}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-i7b2mbdf1lm", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Use the same vars from node 1"}]}, {"type": 0, "ID": "prod-lpjhpd643xl", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "var", "jsValue": "var_"}, {"name": "value", "value": "FLOOR_LENGTH + NUM_FLOORS * FLOOR_LENGTH_GRADIENT + 10 * SINE_FLOOR_LENGTH_AMPLITUDE * sin(NUM_FLOORS * SINE_FLOOR_LENGTH_FREQUENCY)", "usedVars": ["SINE_FLOOR_LENGTH_FREQUENCY", "SINE_FLOOR_LENGTH_AMPLITUDE", "FLOOR_LENGTH_GRADIENT", "FLOOR_LENGTH", "NUM_FLOORS"], "jsValue": "FLOOR_LENGTH_ + NUM_FLOORS_ * FLOOR_LENGTH_GRADIENT_ + 10 * SINE_FLOOR_LENGTH_AMPLITUDE_ * sin(__debug__, NUM_FLOORS_ * SINE_FLOOR_LENGTH_FREQUENCY_)"}], "variable": "var", "selectGeom": false}, {"type": 0, "ID": "prod-fsssrff6nq", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "var2", "jsValue": "var2_"}, {"name": "value", "value": "FLOOR_WIDTH + NUM_FLOORS * FLOOR_WIDTH_GRADIENT + 10 * SINE_FLOOR_WIDTH_AMPLITUDE * sin(NUM_FLOORS * SINE_FLOOR_WIDTH_FREQUENCY)", "usedVars": ["SINE_FLOOR_WIDTH_FREQUENCY", "SINE_FLOOR_WIDTH_AMPLITUDE", "FLOOR_WIDTH_GRADIENT", "FLOOR_WIDTH", "NUM_FLOORS"], "jsValue": "FLOOR_WIDTH_ + NUM_FLOORS_ * FLOOR_WIDTH_GRADIENT_ + 10 * SINE_FLOOR_WIDTH_AMPLITUDE_ * sin(__debug__, NUM_FLOORS_ * SINE_FLOOR_WIDTH_FREQUENCY_)"}], "variable": "var2", "selectGeom": false}, {"type": 0, "ID": "prod-tsl09ra8jz8", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "var3", "jsValue": "var3_"}, {"name": "value", "value": "degToRad(SINE_TWIST_ANGLE_AMPLITUDE) * sin(NUM_FLOORS * SINE_TWIST_ANGLE_FREQUENCY)", "usedVars": ["NUM_FLOORS", "SINE_TWIST_ANGLE_FREQUENCY", "SINE_TWIST_ANGLE_AMPLITUDE"], "jsValue": "degToRad(__debug__, SINE_TWIST_ANGLE_AMPLITUDE_) * sin(__debug__, NUM_FLOORS_ * SINE_TWIST_ANGLE_FREQUENCY_)"}], "variable": "var3", "selectGeom": false}, {"type": 14, "ID": "prod-qj8adb60tg", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "plot positions for roof on top of building and make it a rectangle"}]}, {"type": 8, "ID": "prod-zzt9o7cfebk", "enabled": true, "print": false, "meta": {"module": "make", "name": "Position"}, "argCount": 3, "args": [{"name": "var_name", "value": "plot", "jsValue": "plot_"}, {"name": "__model__"}, {"name": "coords", "value": "[[-10 - var, -10 - var2, NUM_FLOORS * 10], [10 + var, -10 - var2, NUM_FLOORS * 10], [10 + var, 10 + var2, NUM_FLOORS * 10], [-10 - var, 10 + var2, NUM_FLOORS * 10]]", "usedVars": ["NUM_FLOORS", "var2"], "jsValue": "[[-10 - var_, -10 - var2_, NUM_FLOORS_ * 10], [10 + var_, -10 - var2_, NUM_FLOORS_ * 10], [10 + var_, 10 + var2_, NUM_FLOORS_ * 10], [-10 - var_, 10 + var2_, NUM_FLOORS_ * 10]]"}], "variable": "plot"}, {"type": 8, "ID": "prod-es6upahr9nq", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "sq", "jsValue": "sq_"}, {"name": "__model__"}, {"name": "entities", "value": "plot", "usedVars": ["plot"], "jsValue": "plot_"}], "variable": "sq"}, {"type": 14, "ID": "prod-p83pwtvdboi", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "rotate roof plate to match the top floor rotation and extrude"}]}, {"type": 8, "ID": "prod-w5ltbss2cd", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "sq", "usedVars": ["sq"], "jsValue": "sq_"}, {"name": "ray", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}, {"name": "angle", "value": "degToRad(TWIST_ANGLE) * (2 * NUM_FLOORS / 3) + degToRad(SINE_TWIST_ANGLE_AMPLITUDE) * sin(NUM_FLOORS * (1 - ROTATION_LOCK_FLOORS / 100) * SINE_TWIST_ANGLE_FREQUENCY)", "usedVars": ["ROTATION_LOCK_FLOORS", "NUM_FLOORS", "SINE_TWIST_ANGLE_FREQUENCY", "SINE_TWIST_ANGLE_AMPLITUDE", "TWIST_ANGLE"], "jsValue": "degToRad(__debug__, TWIST_ANGLE_) * (2 * NUM_FLOORS_ / 3) + degToRad(__debug__, SINE_TWIST_ANGLE_AMPLITUDE_) * sin(__debug__, NUM_FLOORS_ * (1 - ROTATION_LOCK_FLOORS_ / 100) * SINE_TWIST_ANGLE_FREQUENCY_)"}], "selectGeom": false}, {"type": 8, "ID": "prod-rejidsb90z", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "ext", "jsValue": "ext_"}, {"name": "__model__"}, {"name": "entities", "value": "sq", "usedVars": ["sq"], "jsValue": "sq_"}, {"name": "dist", "value": "10", "usedVars": [], "jsValue": "10"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "ext"}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": [{"source": {"name": "output", "type": 1, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0"], "meta": {"mode": 0}, "parentNode": {"name": "Extrude", "id": "node_jg0kb81f1m9", "position": {"x": 5440, "y": 5180}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-q3hknkvlg7", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "get balcony plates from previous node and extrude it 1 unit"}]}, {"type": 0, "ID": "prod-fmhs4f8zmbj", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "balcfloor", "jsValue": "balcfloor_"}, {"name": "value", "value": "#pg ?@type==\"floor\"", "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"floor\")", "usedVars": []}], "variable": "balcfloor", "selectGeom": false}, {"type": 8, "ID": "prod-vvq5vpc011j", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "ext", "jsValue": "ext_"}, {"name": "__model__"}, {"name": "entities", "value": "balcfloor", "usedVars": ["balcfloor"], "jsValue": "balcfloor_"}, {"name": "dist", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "ext"}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "hasError": false, "hasExecuted": true, "input": {"name": "input", "type": 0, "edges": [{"source": {"name": "output", "type": 1, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0"], "meta": {"mode": 0}, "parentNode": {"name": "Create balcony base, apply parameters, & build", "id": "node_igk4aqqdtkf", "position": {"x": 5440, "y": 5020}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-7sj4sdso5uo", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Loop the code by number of floors"}]}, {"type": 4, "ID": "prod-wyiyomyz31", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "i", "jsValue": "i_"}, {"name": "list", "value": "range(0, NUM_FLOORS)", "usedVars": ["NUM_FLOORS"], "jsValue": "range(__debug__, 0, NUM_FLOORS_)"}], "children": [{"type": 13, "ID": "prod-evd1qf9w7z6", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2", "ID": "prod-vb7iqtfpqql", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "use the same vars as in node 1 to match paramaters per floor"}]}, {"type": 0, "ID": "prod-zb88g46l30p", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "var", "jsValue": "var_"}, {"name": "value", "value": "BALCONY_SIZE + FLOOR_LENGTH + i * FLOOR_LENGTH_GRADIENT + 10 * SINE_FLOOR_LENGTH_AMPLITUDE * sin(i * SINE_FLOOR_LENGTH_FREQUENCY)", "usedVars": ["BALCONY_SIZE", "SINE_FLOOR_LENGTH_FREQUENCY", "SINE_FLOOR_LENGTH_AMPLITUDE", "FLOOR_LENGTH_GRADIENT", "FLOOR_LENGTH", "i"], "jsValue": "BALCONY_SIZE_ + FLOOR_LENGTH_ + i_ * FLOOR_LENGTH_GRADIENT_ + 10 * SINE_FLOOR_LENGTH_AMPLITUDE_ * sin(__debug__, i_ * SINE_FLOOR_LENGTH_FREQUENCY_)"}], "variable": "var", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2"}, {"type": 0, "ID": "prod-7ekwecc0148", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "var2", "jsValue": "var2_"}, {"name": "value", "value": "BALCONY_SIZE + FLOOR_WIDTH + i * FLOOR_WIDTH_GRADIENT + 10 * SINE_FLOOR_WIDTH_AMPLITUDE * sin(i * SINE_FLOOR_WIDTH_FREQUENCY)", "usedVars": ["BALCONY_SIZE", "SINE_FLOOR_WIDTH_FREQUENCY", "SINE_FLOOR_WIDTH_AMPLITUDE", "FLOOR_WIDTH_GRADIENT", "FLOOR_WIDTH", "i"], "jsValue": "BALCONY_SIZE_ + FLOOR_WIDTH_ + i_ * FLOOR_WIDTH_GRADIENT_ + 10 * SINE_FLOOR_WIDTH_AMPLITUDE_ * sin(__debug__, i_ * SINE_FLOOR_WIDTH_FREQUENCY_)"}], "variable": "var2", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2", "ID": "prod-l2hhdc9w7ar", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "var3", "jsValue": "var3_"}, {"name": "value", "value": "degToRad(SINE_TWIST_ANGLE_AMPLITUDE) * sin(i * SINE_TWIST_ANGLE_FREQUENCY)", "usedVars": ["SINE_TWIST_ANGLE_FREQUENCY", "SINE_TWIST_ANGLE_AMPLITUDE", "i"], "jsValue": "degToRad(__debug__, SINE_TWIST_ANGLE_AMPLITUDE_) * sin(__debug__, i_ * SINE_TWIST_ANGLE_FREQUENCY_)"}], "variable": "var3", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2", "ID": "prod-jg40g7xj6of", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "plot positions for balcony plate and move it up 10 units each floor and make it a rectangle plate"}]}, {"type": 8, "ID": "prod-mfvur9kc7y", "enabled": true, "print": false, "meta": {"module": "make", "name": "Position"}, "argCount": 3, "args": [{"name": "var_name", "value": "pos", "jsValue": "pos_"}, {"name": "__model__"}, {"name": "coords", "value": "[[-20 - var, -20 - var2, i * 10], [20 + var, -20 - var2, i * 10], [20 + var, 20 + var2, i * 10], [-20 - var, 20 + var2, i * 10]]", "usedVars": ["var2", "i"], "jsValue": "[[-20 - var_, -20 - var2_, i_ * 10], [20 + var_, -20 - var2_, i_ * 10], [20 + var_, 20 + var2_, i_ * 10], [-20 - var_, 20 + var2_, i_ * 10]]"}], "variable": "pos", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2"}, {"type": 8, "ID": "prod-53pnrvcf536", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "floor", "jsValue": "floor_"}, {"name": "__model__"}, {"name": "entities", "value": "pos", "usedVars": ["pos"], "jsValue": "pos_"}], "variable": "floor", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2", "ID": "prod-hjdfy1y6hx6", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "create new set of positions 1 unit above previous floor positions and extrude 4 units"}]}, {"type": 8, "ID": "prod-g09h3kw4bqw", "enabled": true, "print": false, "meta": {"module": "make", "name": "Position"}, "argCount": 3, "args": [{"name": "var_name", "value": "pos2", "jsValue": "pos2_"}, {"name": "__model__"}, {"name": "coords", "value": "[[-20 - var, -20 - var2, i * 10], [20 + var, -20 - var2, i * 10], [20 + var, 20 + var2, i * 10], [-20 - var, 20 + var2, i * 10]]", "usedVars": ["var2", "i"], "jsValue": "[[-20 - var_, -20 - var2_, i_ * 10], [20 + var_, -20 - var2_, i_ * 10], [20 + var_, 20 + var2_, i_ * 10], [-20 - var_, 20 + var2_, i_ * 10]]"}], "variable": "pos2", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2", "ID": "prod-k8j3oerbtpo", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "balcglasspl", "jsValue": "balcglasspl_"}, {"name": "__model__"}, {"name": "entities", "value": "pos2", "usedVars": ["pos2"], "jsValue": "pos2_"}, {"name": "close", "value": "'close'", "jsValue": "'close'", "usedVars": []}], "variable": "balcglasspl"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2", "ID": "prod-9bbsxydfrfq", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "balcglasspl", "usedVars": ["balcglasspl"], "jsValue": "balcglasspl_"}, {"name": "vectors", "value": "[0, 0, 1]", "usedVars": [], "jsValue": "[0, 0, 1]"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2", "ID": "prod-9ip2gnnkfv6", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "balcglass", "jsValue": "balcglass_"}, {"name": "__model__"}, {"name": "entities", "value": "balcglasspl", "usedVars": ["balcglasspl"], "jsValue": "balcglasspl_"}, {"name": "dist", "value": "4", "usedVars": [], "jsValue": "4"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "balcglass"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2", "ID": "prod-zo0i49627h", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "set material as glass"}]}, {"type": 0, "ID": "prod-bfiuyv2vsgi", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "balcglass@material", "jsValue": "balcglass_@material", "usedVars": ["balcglass"]}, {"name": "value", "value": "\"glass\"", "jsValue": "\"glass\"", "usedVars": []}], "variable": null, "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2"}, {"type": 0, "ID": "prod-vw9j81htza8", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "balcglass@type", "jsValue": "balcglass_@type", "usedVars": ["balcglass"]}, {"name": "value", "value": "\"glass\"", "jsValue": "\"glass\"", "usedVars": []}], "variable": null, "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2", "ID": "prod-3hidzitom4t", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "change transparency to 50%"}]}, {"type": 8, "ID": "prod-688o6ef19k", "enabled": true, "print": false, "meta": {"module": "material", "name": "Glass"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "name", "value": "\"glass\"", "usedVars": [], "jsValue": "\"glass\""}, {"name": "opacity", "value": "0.5", "usedVars": [], "jsValue": "0.5"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2", "ID": "prod-qh1cb19m0k", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "balcglass", "usedVars": ["balcglass"], "jsValue": "balcglass_"}, {"name": "color", "value": "[0.9, 0.9, 1]", "usedVars": [], "jsValue": "[0.9, 0.9, 1]"}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2", "ID": "prod-r2mr7ujne5c", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "pass on floor variable to next node for extrusion"}]}, {"type": 0, "ID": "prod-g1gaq596j45", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "floor@type", "jsValue": "floor_@type", "usedVars": ["floor"]}, {"name": "value", "value": "\"floor\"", "jsValue": "\"floor\"", "usedVars": []}], "variable": null, "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2", "ID": "prod-8ve2chg73au", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "rotate it each floor"}]}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2", "ID": "prod-yzfia406nw", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "i <= 2 * NUM_FLOORS / 3", "usedVars": ["NUM_FLOORS", "i"], "jsValue": "i_ <= 2 * NUM_FLOORS_ / 3"}], "children": [{"type": 13, "ID": "prod-5h02x1bpnt9", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2~children~22", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2~children~22", "ID": "prod-g5bdzfb2nb", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floor", "usedVars": ["floor"], "jsValue": "floor_"}, {"name": "ray", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}, {"name": "angle", "value": "degToRad(TWIST_ANGLE * i) + var3", "usedVars": ["TWIST_ANGLE", "var3", "i"], "jsValue": "degToRad(__debug__, TWIST_ANGLE_ * i_) + var3_"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2~children~22", "ID": "prod-eefdjcjtmz9", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "balcglass", "usedVars": ["balcglass"], "jsValue": "balcglass_"}, {"name": "ray", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}, {"name": "angle", "value": "degToRad(TWIST_ANGLE * i) + var3", "usedVars": ["TWIST_ANGLE", "var3", "i"], "jsValue": "degToRad(__debug__, TWIST_ANGLE_ * i_) + var3_"}], "selectGeom": false}], "selectGeom": false}, {"type": 3, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2", "ID": "prod-vlrcm1l9fx9", "enabled": true, "print": false, "argCount": 0, "args": [], "children": [{"type": 13, "ID": "prod-ylg1eefxiiq", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2~children~23", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2~children~23", "ID": "prod-ik0prv148n", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floor", "usedVars": ["floor"], "jsValue": "floor_"}, {"name": "ray", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}, {"name": "angle", "value": "degToRad(TWIST_ANGLE) * (2 * NUM_FLOORS / 3) + degToRad(SINE_TWIST_ANGLE_AMPLITUDE) * sin(NUM_FLOORS * (1 - ROTATION_LOCK_FLOORS / 100) * SINE_TWIST_ANGLE_FREQUENCY)", "usedVars": ["ROTATION_LOCK_FLOORS", "NUM_FLOORS", "SINE_TWIST_ANGLE_FREQUENCY", "SINE_TWIST_ANGLE_AMPLITUDE", "TWIST_ANGLE"], "jsValue": "degToRad(__debug__, TWIST_ANGLE_) * (2 * NUM_FLOORS_ / 3) + degToRad(__debug__, SINE_TWIST_ANGLE_AMPLITUDE_) * sin(__debug__, NUM_FLOORS_ * (1 - ROTATION_LOCK_FLOORS_ / 100) * SINE_TWIST_ANGLE_FREQUENCY_)"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~2~children~23", "ID": "prod-tk203k8tbe", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "balcglass", "usedVars": ["balcglass"], "jsValue": "balcglass_"}, {"name": "ray", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}, {"name": "angle", "value": "degToRad(TWIST_ANGLE) * (2 * NUM_FLOORS / 3) + degToRad(SINE_TWIST_ANGLE_AMPLITUDE) * sin(NUM_FLOORS * (1 - ROTATION_LOCK_FLOORS / 100) * SINE_TWIST_ANGLE_FREQUENCY)", "usedVars": ["ROTATION_LOCK_FLOORS", "NUM_FLOORS", "SINE_TWIST_ANGLE_FREQUENCY", "SINE_TWIST_ANGLE_AMPLITUDE", "TWIST_ANGLE"], "jsValue": "degToRad(__debug__, TWIST_ANGLE_) * (2 * NUM_FLOORS_ / 3) + degToRad(__debug__, SINE_TWIST_ANGLE_AMPLITUDE_) * sin(__debug__, NUM_FLOORS_ * (1 - ROTATION_LOCK_FLOORS_ / 100) * SINE_TWIST_ANGLE_FREQUENCY_)"}], "selectGeom": false}], "selectGeom": false}], "variable": "i", "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": {"name": "input", "type": 0, "edges": [{"source": "~flowchart~nodes~0~output", "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~input", "selected": false}], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode"}, "output": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source", "hasError": false, "hasExecuted": true, "model": 6}}, "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input", "selected": false}], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode"}, "output": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source", "model": 7}}, "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "selected": false}, "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Move building", "id": "node_dwduidv4tj", "position": {"x": 5340, "y": 5340}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-ugz4u5kid5g", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Get polygons from previous node and move it 70 units on the X axis"}]}, {"type": 8, "ID": "prod-9yib9ihc6uf", "enabled": true, "print": false, "meta": {"module": "query", "name": "Get"}, "argCount": 4, "args": [{"name": "var_name", "value": "bldg", "jsValue": "bldg_"}, {"name": "__model__"}, {"name": "ent_type_enum", "value": "'pg'", "jsValue": "'pg'", "usedVars": []}, {"name": "entities", "value": "null", "jsValue": "null", "usedVars": []}], "variable": "bldg"}, {"type": 8, "ID": "prod-tft2p3qj9w8", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "bldg", "usedVars": ["bldg"], "jsValue": "bldg_"}, {"name": "vectors", "value": "[70, 0, 0]", "usedVars": [], "jsValue": "[70, 0, 0]"}]}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Duplicate building on other side", "id": "node_55ta6207ebn", "position": {"x": 5340, "y": 5460}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-0c3cybkk2jeq", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Get the building from the previous node and move it back 70*2 units on the X axis"}]}, {"type": 8, "ID": "prod-9yib9ihc6uf", "enabled": true, "print": false, "meta": {"module": "query", "name": "Get"}, "argCount": 4, "args": [{"name": "var_name", "value": "bldg", "jsValue": "bldg_"}, {"name": "__model__"}, {"name": "ent_type_enum", "value": "'pg'", "jsValue": "'pg'", "usedVars": []}, {"name": "entities", "value": "null", "jsValue": "null", "usedVars": []}], "variable": "bldg"}, {"type": 8, "ID": "prod-owzbbsptt", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "dupe", "jsValue": "dupe_"}, {"name": "__model__"}, {"name": "entities", "value": "bldg", "usedVars": ["bldg"], "jsValue": "bldg_"}, {"name": "vector", "value": "[-70 * 2, 0, 0]", "usedVars": [], "jsValue": "[-70 * 2, 0, 0]"}], "variable": "dupe"}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "hasExecuted": true, "hasError": false, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "End", "id": "node_a0rycw5x00h", "position": {"x": 5340, "y": 5560}, "enabled": true, "type": "end", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "ID": "prod-s9756nul9l", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "balcglass", "jsValue": "balcglass_"}, {"name": "value", "value": "#pg ?@type==\"glass\"", "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"glass\")", "usedVars": []}], "variable": "balcglass", "selectGeom": false}, {"type": 14, "ID": "prod-qgf6gejytiq", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "change other glass balcony colour"}]}, {"type": 8, "ID": "prod-h1kdcppx4fp", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "balcglass", "usedVars": ["balcglass"], "jsValue": "balcglass_"}, {"name": "color", "value": "[0.9, 0.9, 1]", "usedVars": [], "jsValue": "[0.9, 0.9, 1]"}]}, {"type": 11, "ID": "Return", "meta": {"name": "", "module": ""}, "argCount": 2, "args": [{"name": "__model__", "value": "", "jsValue": ""}, {"name": "value", "value": "", "jsValue": "", "usedVars": []}], "print": false, "enabled": true, "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 10}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "model": 9}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasExecuted": true, "hasError": false, "model": 8}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 5}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 4}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 3}}, "selected": false}, "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~input~edges~0"], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0"}, "hasError": false, "hasExecuted": true, "model": 2}, "~flowchart~nodes~0~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"], "edges": ["~flowchart~nodes~0~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "functions": [], "ordered": true, "last_updated": "2021-03-25T04:00:12.098Z"}, "version": "0.7.5", "settings": "{\"normals\":{\"show\":false,\"size\":5},\"axes\":{\"show\":true,\"size\":50},\"grid\":{\"show\":true,\"size\":3640,\"pos_x\":0,\"pos_y\":0,\"pos_z\":0,\"pos\":{\"x\":0,\"y\":0,\"z\":0}},\"positions\":{\"show\":true,\"size\":0.5},\"tjs_summary\":{\"show\":false},\"gi_summary\":{\"show\":true},\"wireframe\":{\"show\":false},\"camera\":{\"pos\":{\"x\":2041.540033058273,\"y\":-2226.2321405151874,\"z\":964.435293870853},\"target\":{\"x\":0,\"y\":0,\"z\":0},\"ortho\":false},\"colors\":{\"viewer_bg\":\"#E6E6E6\",\"position\":\"#000000\",\"position_s\":\"#0033FF\",\"vertex_s\":\"#FFCC00\",\"face_f\":\"#FFFFFF\",\"face_f_s\":\"#4949BD\",\"face_b\":\"#DDDDDD\",\"face_b_s\":\"#00006D\"},\"ambient_light\":{\"show\":true,\"color\":\"#FFFFFF\",\"intensity\":0.15},\"hemisphere_light\":{\"show\":true,\"helper\":false,\"skyColor\":\"#FFFFFF\",\"groundColor\":\"#FFFFFF\",\"intensity\":0.15},\"directional_light\":{\"show\":true,\"helper\":false,\"color\":\"#FFFFFF\",\"intensity\":1,\"shadow\":true,\"shadowSize\":1536,\"azimuth\":152,\"altitude\":68,\"distance\":10000,\"type\":\"directional\"},\"ground\":{\"show\":true,\"width\":0,\"length\":0,\"height\":-0.5,\"color\":\"#7c7a73\",\"shininess\":49},\"select\":{\"selector\":{\"id\":7,\"name\":\"Polygons\"},\"tab\":0,\"enabledselector\":{\"ps\":true,\"_v\":true,\"_e\":true,\"_w\":true,\"_f\":true,\"pt\":true,\"pl\":true,\"pg\":true,\"co\":true}},\"version\":\"0.4.38\",\"background\":{\"show\":true,\"background_set\":1},\"cesium\":{\"imagery\":{\"layer\":\"Open Street Map\",\"terrain\":\"Ellipsoid\"},\"camera\":{\"pos\":{\"x\":0,\"y\":0,\"z\":0},\"direction\":{\"x\":0,\"y\":0,\"z\":0},\"up\":{\"x\":0,\"y\":0,\"z\":0},\"right\":{\"x\":0,\"y\":0,\"z\":0}},\"time\":{\"date\":\"2020-05-11\"},\"updated\":false,\"model\":{\"polygonEdge\":true}},\"geo\":{\"imagery\":{\"layer\":\"Open Street Map\",\"terrain\":\"Ellipsoid\",\"apiKey\":{\"here\":\"7vMRjLNCpcOAUQXU61eUp6EFbWCy7WLNmy9qLHO-1Bw\"}},\"camera\":{\"pos\":{\"x\":-1527170.4564504684,\"y\":6191377.229851589,\"z\":142492.86697965642},\"direction\":{\"x\":0,\"y\":0,\"z\":0},\"up\":{\"x\":0,\"y\":0,\"z\":0},\"right\":{\"x\":0,\"y\":0,\"z\":0},\"rot\":{\"x\":-2.8946890807177175,\"y\":0.03332128705035884,\"z\":2.8868931928931136}},\"time\":{\"date\":\"2021-01-27T16:00\"},\"model\":{\"polygonEdge\":false},\"updated\":true}}"}