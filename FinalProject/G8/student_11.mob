{"name": "FinalProject_G8_student_11", "author": "new_user", "flowchart": {"id": "eea6c190-9185-5fa6-3d94-ce1d130b6d8a", "name": "FinalProject_G8_student_11", "description": "Agora Tower is a\u00c2\u00a0high-rise residential building located in Taipei, Taiwan and is designed by Belgian architect Vincent Callebaut. The building is 93.2m high with 21 stories and 4 basement levels, having a total floor area of 42,335\u00c2\u00a0m2. \nIt has a twisting form which is modelled after a DNA strand in the form of a double helix rotating 90 degrees from top to bottom. Each floor rotates 4.5 degrees from the previous.", "language": "js", "meta": {"selected_nodes": [0]}, "nodes": [{"name": "Start", "id": "node_738v9oqrcdc", "position": {"x": 5340, "y": 5000}, "enabled": true, "type": "start", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 10, "ID": "prod-ey9qopnp18e", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Number of floors"}, "args": [{"name": "const_name", "value": "NUM_FLOORS", "jsValue": "NUM_FLOORS_"}, {"name": "__input__", "value": 20, "step": "1", "min": "1", "max": "50"}]}, {"type": 10, "ID": "prod-d71mln5ncjp", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Angle of twist between each floor"}, "args": [{"name": "const_name", "value": "TWIST_ANGLE", "jsValue": "TWIST_ANGLE_"}, {"name": "__input__", "value": -1.6, "step": "0.1", "min": "-5", "max": "5"}]}, {"type": 10, "ID": "prod-1580tgh3s0e", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Radius of tower core"}, "args": [{"name": "const_name", "value": "TOWER_RADIUS", "jsValue": "TOWER_RADIUS_"}, {"name": "__input__", "value": 18, "step": "1", "min": "5", "max": "24"}]}, {"type": 10, "ID": "prod-7lsi07dnoqh", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Change in radius per floor"}, "args": [{"name": "const_name", "value": "TOWER_RADIUS_GRADIENT", "jsValue": "TOWER_RADIUS_GRADIENT_"}, {"name": "__input__", "value": 0, "step": "0.1", "min": "-1", "max": "1"}]}, {"type": 10, "ID": "prod-28fapcuxw3o", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Number of balconies per floor"}, "args": [{"name": "const_name", "value": "NUM_BALCONIES", "jsValue": "NUM_BALCONIES_"}, {"name": "__input__", "value": 2, "step": "1", "max": "6", "min": "0"}]}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": false, "show_func": false}, "input": {"name": "input", "type": 0, "edges": [], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0"}, "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Make foundation", "id": "node_oq9hji92yf", "position": {"x": 5340, "y": 5100}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-07j8bzob4sq", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Prepare a circular base with a radius of 24 units"}]}, {"type": 8, "ID": "prod-mxan45ocyyk", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "basepos", "jsValue": "basepos_"}, {"name": "__model__"}, {"name": "origin", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}, {"name": "radius", "value": "24", "usedVars": [], "jsValue": "24"}, {"name": "num_positions", "value": "64", "usedVars": [], "jsValue": "64"}, {"name": "arc_angle", "value": "2 * PI", "usedVars": [], "jsValue": "2 * JSON.parse(JSON.stringify(PI))"}], "variable": "basepos", "selectGeom": false}, {"type": 8, "ID": "prod-kg16n9xuoj", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "base", "jsValue": "base_"}, {"name": "__model__"}, {"name": "entities", "value": "basepos", "usedVars": ["basepos"], "jsValue": "basepos_"}], "variable": "base", "selectGeom": false}, {"type": 14, "ID": "prod-owqcdfhzj9n", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Extrude 10 units"}]}, {"type": 8, "ID": "prod-24u8yekw3rq", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "foundation", "jsValue": "foundation_"}, {"name": "__model__"}, {"name": "entities", "value": "base", "usedVars": ["base"], "jsValue": "base_"}, {"name": "dist", "value": "10", "usedVars": [], "jsValue": "10"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "foundation"}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Make base of tower", "id": "node_qyq3yogaekl", "position": {"x": 5340, "y": 5220}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-pcd4wnxappe", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Make grass patch with a ring around it"}]}, {"type": 14, "ID": "prod-6ffzygceunc", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create circle with radius 30"}]}, {"type": 8, "ID": "prod-18z5ft1bnkbj", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "basepos", "jsValue": "basepos_"}, {"name": "__model__"}, {"name": "origin", "value": "[0, 0, 10]", "usedVars": [], "jsValue": "[0, 0, 10]"}, {"name": "radius", "value": "30", "usedVars": [], "jsValue": "30"}, {"name": "num_positions", "value": "64", "usedVars": [], "jsValue": "64"}, {"name": "arc_angle", "value": "2 * PI", "usedVars": [], "jsValue": "2 * JSON.parse(JSON.stringify(PI))"}], "variable": "basepos"}, {"type": 8, "ID": "prod-4jt16zld2ia", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "base", "jsValue": "base_"}, {"name": "__model__"}, {"name": "entities", "value": "basepos", "usedVars": ["basepos"], "jsValue": "basepos_"}], "variable": "base"}, {"type": 14, "ID": "prod-tvm7pybhew", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Copy and scale to 80% of its original radius and move its height to match with the ring"}]}, {"type": 8, "ID": "prod-ptd1th9v39r", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "basecut", "jsValue": "basecut_"}, {"name": "__model__"}, {"name": "entities", "value": "base", "usedVars": ["base"], "jsValue": "base_"}, {"name": "vector", "value": "[0, 0, 2.5]", "usedVars": [], "jsValue": "[0, 0, 2.5]"}], "variable": "basecut"}, {"type": 8, "ID": "prod-5g1j7vr6d8u", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Scale"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "basecut", "usedVars": ["basecut"], "jsValue": "basecut_"}, {"name": "plane", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}, {"name": "scale", "value": "0.8", "usedVars": [], "jsValue": "0.8"}]}, {"type": 14, "ID": "prod-s41txnm58ef", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Cut a hole into the base so the polygons won't clip into each other"}]}, {"type": 8, "ID": "prod-clukifvqtxj", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Hole"}, "argCount": 4, "args": [{"name": "var_name", "value": "ring", "jsValue": "ring_"}, {"name": "__model__"}, {"name": "pgon", "value": "base", "usedVars": ["base"], "jsValue": "base_"}, {"name": "entities", "value": "basecut", "usedVars": ["basecut"], "jsValue": "basecut_"}], "variable": "ring"}, {"type": 14, "ID": "prod-wjhltmbczt", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Change colour to a dark shade of green"}]}, {"type": 8, "ID": "prod-7kwz0bcxswo", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "basecut", "usedVars": ["basecut"], "jsValue": "basecut_"}, {"name": "color", "value": "[0, 0.4, 0]", "usedVars": [], "jsValue": "[0, 0.4, 0]"}], "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Build floors", "id": "node_w7greyhepy", "position": {"x": 5180, "y": 5280}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-oat33bjvef8", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Loop by the number of floors"}]}, {"type": 4, "ID": "prod-xe8c8ts7ser", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "i", "jsValue": "i_"}, {"name": "list", "value": "range(0, NUM_FLOORS)", "usedVars": ["NUM_FLOORS"], "jsValue": "range(__debug__, 0, NUM_FLOORS_)"}], "children": [{"type": 13, "ID": "", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-hydw2aohg6", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "floorpos: make circle arc pattern; floorpos1: make circle arc pattern with radius of floorpos+1 to form a ring shape"}]}, {"type": 8, "ID": "prod-gg9894bfnuv", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "floorpos", "jsValue": "floorpos_"}, {"name": "__model__"}, {"name": "origin", "value": "[0, 0, 10 + i * 10]", "usedVars": ["i"], "jsValue": "[0, 0, 10 + i_ * 10]"}, {"name": "radius", "value": "TOWER_RADIUS + i * TOWER_RADIUS_GRADIENT * 2", "usedVars": ["TOWER_RADIUS_GRADIENT", "TOWER_RADIUS", "i"], "jsValue": "TOWER_RADIUS_ + i_ * TOWER_RADIUS_GRADIENT_ * 2"}, {"name": "num_positions", "value": "64", "usedVars": [], "jsValue": "64"}, {"name": "arc_angle", "value": "2 * PI", "usedVars": [], "jsValue": "2 * JSON.parse(JSON.stringify(PI))"}], "variable": "floorpos", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 8, "ID": "prod-5m7kg0v1qla", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "floorpos1", "jsValue": "floorpos1_"}, {"name": "__model__"}, {"name": "origin", "value": "[0, 0, 10 + i * 10]", "usedVars": ["i"], "jsValue": "[0, 0, 10 + i_ * 10]"}, {"name": "radius", "value": "TOWER_RADIUS + i * TOWER_RADIUS_GRADIENT * 2 + 1", "usedVars": ["TOWER_RADIUS_GRADIENT", "TOWER_RADIUS", "i"], "jsValue": "TOWER_RADIUS_ + i_ * TOWER_RADIUS_GRADIENT_ * 2 + 1"}, {"name": "num_positions", "value": "64", "usedVars": [], "jsValue": "64"}, {"name": "arc_angle", "value": "2 * PI", "usedVars": [], "jsValue": "2 * JSON.parse(JSON.stringify(PI))"}], "variable": "floorpos1", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-d84lohdudfs", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "make positions into polygons"}]}, {"type": 8, "ID": "prod-thwgzvvwzmd", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "floor", "jsValue": "floor_"}, {"name": "__model__"}, {"name": "entities", "value": "floorpos", "usedVars": ["floorpos"], "jsValue": "floorpos_"}], "variable": "floor", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 8, "ID": "prod-gcj01wr424u", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "ring", "jsValue": "ring_"}, {"name": "__model__"}, {"name": "entities", "value": "floorpos1", "usedVars": ["floorpos1"], "jsValue": "floorpos1_"}], "variable": "ring", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-7qpmf2hsgvn", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "extrude floor 10 units, extrude ring 1 unit"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-3iijc8tu67", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "ext", "jsValue": "ext_"}, {"name": "__model__"}, {"name": "entities", "value": "floor", "usedVars": ["floor"], "jsValue": "floor_"}, {"name": "dist", "value": "10", "usedVars": [], "jsValue": "10"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "ext"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-qt6pasqh7i", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "ext2", "jsValue": "ext2_"}, {"name": "__model__"}, {"name": "entities", "value": "ring", "usedVars": ["ring"], "jsValue": "ring_"}, {"name": "dist", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "ext2", "selectGeom": false}], "variable": "i"}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", {"source": {"name": "output", "type": 1, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1"], "meta": {"mode": 0}, "parentNode": {"name": "Build balconies", "id": "node_rwme7gej6fa", "position": {"x": 5500, "y": 5280}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-3fvqqidbj72", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Loop by the number of floors"}]}, {"type": 4, "ID": "prod-01jraio9yps5", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "i", "jsValue": "i_"}, {"name": "list", "value": "range(0, NUM_FLOORS)", "usedVars": ["NUM_FLOORS"], "jsValue": "range(__debug__, 0, NUM_FLOORS_)"}], "children": [{"type": 13, "ID": "", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2", "ID": "prod-ojoz6bwwkze", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Prepare a variable to take inputs"}]}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2", "ID": "prod-f6vawk0fnhd", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "var", "jsValue": "var_"}, {"name": "value", "value": "TOWER_RADIUS + TOWER_RADIUS_GRADIENT * i * 2", "usedVars": ["TOWER_RADIUS_GRADIENT", "TOWER_RADIUS", "i"], "jsValue": "TOWER_RADIUS_ + TOWER_RADIUS_GRADIENT_ * i_ * 2"}], "variable": "var"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2", "ID": "prod-4i8r5wpnult", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Prepare positions of half of 1 balcony"}]}, {"type": 8, "ID": "prod-9ssg0929a9u", "enabled": true, "print": false, "meta": {"module": "make", "name": "Position"}, "argCount": 3, "args": [{"name": "var_name", "value": "pos1", "jsValue": "pos1_"}, {"name": "__model__"}, {"name": "coords", "value": "[[0, var * 0.7, 10 + i * 10], [var * 0.7, var * 0.7, 10 + i * 10], [var * 0.9, var * 0.9, 10 + i * 10], [var * 0.9, var * 1.7, 10 + i * 10], [var * 0.7, var * 1.9, 10 + i * 10], [var * 0.7, var * 3, 10 + i * 10], [0, var * 3.2, 10 + i * 10]]", "usedVars": ["i"], "jsValue": "[[0, var_ * 0.7, 10 + i_ * 10], [var_ * 0.7, var_ * 0.7, 10 + i_ * 10], [var_ * 0.9, var_ * 0.9, 10 + i_ * 10], [var_ * 0.9, var_ * 1.7, 10 + i_ * 10], [var_ * 0.7, var_ * 1.9, 10 + i_ * 10], [var_ * 0.7, var_ * 3, 10 + i_ * 10], [0, var_ * 3.2, 10 + i_ * 10]]"}], "variable": "pos1", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2", "ID": "prod-140ty8vuoc19", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Copy and mirror to form 1 whole balcony"}]}, {"type": 8, "ID": "prod-m9z4fwykpzm", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "pos2", "jsValue": "pos2_"}, {"name": "__model__"}, {"name": "entities", "value": "pos1", "usedVars": ["pos1"], "jsValue": "pos1_"}, {"name": "vector", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}], "variable": "pos2", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2"}, {"type": 8, "ID": "prod-00tgrnmnyw1h", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Mirror"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "pos2", "usedVars": ["pos2"], "jsValue": "pos2_"}, {"name": "plane", "value": "YZ", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(YZ))"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2", "ID": "prod-eglkgz9oov", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Make into a polyline, then polygon, then extrude"}]}, {"type": 8, "ID": "prod-g0cs27vr9y7", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "pline1", "jsValue": "pline1_"}, {"name": "__model__"}, {"name": "entities", "value": "[pos1, pos2]", "usedVars": ["pos1", "pos2"], "jsValue": "[pos1_, pos2_]"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "pline1", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2"}, {"type": 8, "ID": "prod-dh2zhu8l8bc", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "pgon1", "jsValue": "pgon1_"}, {"name": "__model__"}, {"name": "entities", "value": "pline1", "usedVars": ["pline1"], "jsValue": "pline1_"}], "variable": "pgon1", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2"}, {"type": 8, "ID": "prod-fmfdyt867pi", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "ext1", "jsValue": "ext1_"}, {"name": "__model__"}, {"name": "entities", "value": "pgon1", "usedVars": ["pgon1"], "jsValue": "pgon1_"}, {"name": "dist", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "ext1", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2", "ID": "prod-cnzl02p8a15", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Prepare a collection with 1 extruded balcony"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2", "ID": "prod-37qzb092k9a", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "balcs", "jsValue": "balcs_"}, {"name": "__model__"}, {"name": "entities", "value": "ext1", "usedVars": ["ext1"], "jsValue": "ext1_"}, {"name": "name", "value": "\"balconies\"", "usedVars": [], "jsValue": "\"balconies\""}], "variable": "balcs"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2", "ID": "prod-j0vfe8q3qzc", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Copy the outline of 1 balcony and extrude that polyline 4 units to form the glass of the balcony"}]}, {"type": 8, "ID": "prod-1dmlam47wfj", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "plineglass", "jsValue": "plineglass_"}, {"name": "__model__"}, {"name": "entities", "value": "pline1", "usedVars": ["pline1"], "jsValue": "pline1_"}, {"name": "vector", "value": "[0, 0, 1]", "usedVars": [], "jsValue": "[0, 0, 1]"}], "variable": "plineglass", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2"}, {"type": 8, "ID": "prod-gwglrdst5kc", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "extglass", "jsValue": "extglass_"}, {"name": "__model__"}, {"name": "entities", "value": "plineglass", "usedVars": ["plineglass"], "jsValue": "plineglass_"}, {"name": "dist", "value": "4", "usedVars": [], "jsValue": "4"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "extglass", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2", "ID": "prod-oj688yta3ip", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Make material glass and colour it slightly blue"}]}, {"type": 0, "ID": "prod-v7ftyvt3bms", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "extglass@material", "jsValue": "extglass_@material", "usedVars": ["extglass"]}, {"name": "value", "value": "\"glass\"", "jsValue": "\"glass\"", "usedVars": []}], "variable": null, "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2"}, {"type": 0, "ID": "prod-xdanopba39m", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "extglass@type", "jsValue": "extglass_@type", "usedVars": ["extglass"]}, {"name": "value", "value": "\"glass\"", "jsValue": "\"glass\"", "usedVars": []}], "variable": null, "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2"}, {"type": 8, "ID": "prod-m548wlx112", "enabled": true, "print": false, "meta": {"module": "material", "name": "Glass"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "name", "value": "\"glass\"", "usedVars": [], "jsValue": "\"glass\""}, {"name": "opacity", "value": "0.5", "usedVars": [], "jsValue": "0.5"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2", "ID": "prod-xz7p3vi6pqb", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "extglass", "usedVars": ["extglass"], "jsValue": "extglass_"}, {"name": "color", "value": "[0.9, 0.9, 1]", "usedVars": [], "jsValue": "[0.9, 0.9, 1]"}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2", "ID": "prod-ojju0mqal1h", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Prepare a collection with 1 balcony glass"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2", "ID": "prod-2ikuiuqhjqg", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "glasses", "jsValue": "glasses_"}, {"name": "__model__"}, {"name": "entities", "value": "extglass", "usedVars": ["extglass"], "jsValue": "extglass_"}, {"name": "name", "value": "\"glasses\"", "usedVars": [], "jsValue": "\"glasses\""}], "variable": "glasses", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2", "ID": "prod-f1xl8rbxpme", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "If number of balconies per floor is 2 or more, clone and rotate them accordingly"}]}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2", "ID": "prod-hdwlzrhhrg", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "k", "jsValue": "k_"}, {"name": "list", "value": "range(1, NUM_BALCONIES)", "usedVars": ["NUM_BALCONIES"], "jsValue": "range(__debug__, 1, NUM_BALCONIES_)"}], "children": [{"type": 13, "ID": "prod-g7m6fijbytc", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2~children~25", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2~children~25", "ID": "prod-hi15ehosock", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Copy balcony and glass"}]}, {"type": 8, "ID": "prod-4f50f9dzjb3", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "newbalc", "jsValue": "newbalc_"}, {"name": "__model__"}, {"name": "entities", "value": "ext1", "usedVars": ["ext1"], "jsValue": "ext1_"}, {"name": "vector", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}], "variable": "newbalc", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2~children~25"}, {"type": 8, "ID": "prod-pb8nk6v1wl", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "newglass", "jsValue": "newglass_"}, {"name": "__model__"}, {"name": "entities", "value": "extglass", "usedVars": ["extglass"], "jsValue": "extglass_"}, {"name": "vector", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}], "variable": "newglass", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2~children~25"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2~children~25", "ID": "prod-uszz4x0sbvh", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Rotate accordingly"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2~children~25", "ID": "prod-gtai55olwt", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "newbalc", "usedVars": ["newbalc"], "jsValue": "newbalc_"}, {"name": "ray", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}, {"name": "angle", "value": "k * PI / NUM_BALCONIES * 2", "usedVars": ["NUM_BALCONIES", "k"], "jsValue": "k_ * JSON.parse(JSON.stringify(PI)) / NUM_BALCONIES_ * 2"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2~children~25", "ID": "prod-o014graq61c", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "newglass", "usedVars": ["newglass"], "jsValue": "newglass_"}, {"name": "ray", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}, {"name": "angle", "value": "k * PI / NUM_BALCONIES * 2", "usedVars": ["NUM_BALCONIES", "k"], "jsValue": "k_ * JSON.parse(JSON.stringify(PI)) / NUM_BALCONIES_ * 2"}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2~children~25", "ID": "prod-jaimfjo1ee", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Add into collection to be rotated later"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2~children~25", "ID": "prod-gc7gqbz2d2e", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "balcs", "usedVars": ["balcs"], "jsValue": "balcs_"}, {"name": "entities", "value": "newbalc", "usedVars": ["newbalc"], "jsValue": "newbalc_"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2~children~25", "ID": "prod-jwpahm6j4r", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "coll", "value": "glasses", "usedVars": ["glasses"], "jsValue": "glasses_"}, {"name": "entities", "value": "newglass", "usedVars": ["newglass"], "jsValue": "newglass_"}], "selectGeom": false}], "variable": "k", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2", "ID": "prod-21h0vz3nwna", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Rotate per floor"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2", "ID": "prod-iquuh4y99kh", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "balcs", "usedVars": ["balcs"], "jsValue": "balcs_"}, {"name": "ray", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}, {"name": "angle", "value": "i * TWIST_ANGLE / 20", "usedVars": ["TWIST_ANGLE", "i"], "jsValue": "i_ * TWIST_ANGLE_ / 20"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~procedure~2", "ID": "prod-jn6mu0hhtfk", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "glasses", "usedVars": ["glasses"], "jsValue": "glasses_"}, {"name": "ray", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}, {"name": "angle", "value": "i * TWIST_ANGLE / 20", "usedVars": ["TWIST_ANGLE", "i"], "jsValue": "i_ * TWIST_ANGLE_ / 20"}], "selectGeom": false}], "variable": "i"}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": {"name": "input", "type": 0, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~input", "selected": false}], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode"}, "output": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source", "hasExecuted": true, "hasError": false, "model": 6}}, "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "selected": false}], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Build last floor", "id": "node_kn60uiisjjj", "position": {"x": 5340, "y": 5340}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-qqrzymy36y", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Prepare positions for last floor and extrude it 20 units"}]}, {"type": 8, "ID": "prod-jhx0eqwcshn", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "roofpos", "jsValue": "roofpos_"}, {"name": "__model__"}, {"name": "origin", "value": "[0, 0, 10 + NUM_FLOORS * 10]", "usedVars": ["NUM_FLOORS"], "jsValue": "[0, 0, 10 + NUM_FLOORS_ * 10]"}, {"name": "radius", "value": "TOWER_RADIUS + (NUM_FLOORS - 1) * TOWER_RADIUS_GRADIENT * 2", "usedVars": ["TOWER_RADIUS_GRADIENT", "TOWER_RADIUS", "NUM_FLOORS"], "jsValue": "TOWER_RADIUS_ + (NUM_FLOORS_ - 1) * TOWER_RADIUS_GRADIENT_ * 2"}, {"name": "num_positions", "value": "64", "usedVars": [], "jsValue": "64"}, {"name": "arc_angle", "value": "2 * PI", "usedVars": [], "jsValue": "2 * JSON.parse(JSON.stringify(PI))"}], "variable": "roofpos", "selectGeom": false}, {"type": 8, "ID": "prod-cdgxk9ckk4h", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "floor", "jsValue": "floor_"}, {"name": "__model__"}, {"name": "entities", "value": "roofpos", "usedVars": ["roofpos"], "jsValue": "roofpos_"}], "variable": "floor", "selectGeom": false}, {"type": 8, "ID": "prod-qcb5y0rljp", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "ext", "jsValue": "ext_"}, {"name": "__model__"}, {"name": "entities", "value": "floor", "usedVars": ["floor"], "jsValue": "floor_"}, {"name": "dist", "value": "20", "usedVars": [], "jsValue": "20"}, {"name": "divisions", "value": "2", "usedVars": [], "jsValue": "2"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "ext", "selectGeom": false}, {"type": 14, "ID": "prod-nwq52flwmd", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Prepare variable to take inputs"}]}, {"type": 0, "ID": "prod-i667ajlr4yi", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "var", "jsValue": "var_"}, {"name": "value", "value": "TOWER_RADIUS * 0.9 + TOWER_RADIUS_GRADIENT * NUM_FLOORS * 2", "usedVars": ["TOWER_RADIUS_GRADIENT", "TOWER_RADIUS", "NUM_FLOORS"], "jsValue": "TOWER_RADIUS_ * 0.9 + TOWER_RADIUS_GRADIENT_ * NUM_FLOORS_ * 2"}], "variable": "var", "selectGeom": false}, {"type": 14, "ID": "prod-4sua37c6t1j", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create half of balcony, then copy and mirror to form a whole"}]}, {"type": 8, "ID": "prod-ch0soym1s0g", "enabled": true, "print": false, "meta": {"module": "make", "name": "Position"}, "argCount": 3, "args": [{"name": "var_name", "value": "pos1", "jsValue": "pos1_"}, {"name": "__model__"}, {"name": "coords", "value": "[[0, var * 0.7, 10 + NUM_FLOORS * 10], [var * 0.7, var * 0.7, 10 + NUM_FLOORS * 10], [var * 0.9, var * 0.9, 10 + NUM_FLOORS * 10], [var * 0.9, var * 1.7, 10 + NUM_FLOORS * 10], [var * 0.7, var * 1.9, 10 + NUM_FLOORS * 10], [var * 0.7, var * 3, 10 + NUM_FLOORS * 10], [0, var * 3.2, 10 + NUM_FLOORS * 10]]", "usedVars": ["NUM_FLOORS"], "jsValue": "[[0, var_ * 0.7, 10 + NUM_FLOORS_ * 10], [var_ * 0.7, var_ * 0.7, 10 + NUM_FLOORS_ * 10], [var_ * 0.9, var_ * 0.9, 10 + NUM_FLOORS_ * 10], [var_ * 0.9, var_ * 1.7, 10 + NUM_FLOORS_ * 10], [var_ * 0.7, var_ * 1.9, 10 + NUM_FLOORS_ * 10], [var_ * 0.7, var_ * 3, 10 + NUM_FLOORS_ * 10], [0, var_ * 3.2, 10 + NUM_FLOORS_ * 10]]"}], "variable": "pos1", "selectGeom": false}, {"type": 8, "ID": "prod-59qsyalls1m", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "pos2", "jsValue": "pos2_"}, {"name": "__model__"}, {"name": "entities", "value": "pos1", "usedVars": ["pos1"], "jsValue": "pos1_"}, {"name": "vector", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}], "variable": "pos2", "selectGeom": false}, {"type": 8, "ID": "prod-m8z8si9wvs8", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Mirror"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "pos2", "usedVars": ["pos2"], "jsValue": "pos2_"}, {"name": "plane", "value": "YZ", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(YZ))"}], "selectGeom": false}, {"type": 14, "ID": "prod-14fk0osj8w4", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Make balcony positions into a polyline, then rotate"}]}, {"type": 8, "ID": "prod-wodk3dciqsc", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "pline", "jsValue": "pline_"}, {"name": "__model__"}, {"name": "entities", "value": "[pos1, pos2]", "usedVars": ["pos1", "pos2"], "jsValue": "[pos1_, pos2_]"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "pline", "selectGeom": false}, {"type": 8, "ID": "prod-da2penlnh5c", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "pgon1", "jsValue": "pgon1_"}, {"name": "__model__"}, {"name": "entities", "value": "pline", "usedVars": ["pline"], "jsValue": "pline_"}], "variable": "pgon1", "selectGeom": false}, {"type": 8, "ID": "prod-m3snxxee67", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "ext1", "jsValue": "ext1_"}, {"name": "__model__"}, {"name": "entities", "value": "pgon1", "usedVars": ["pgon1"], "jsValue": "pgon1_"}, {"name": "dist", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "ext1", "selectGeom": false}, {"type": 8, "ID": "prod-dr15kjr9kon", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "ext1", "usedVars": ["ext1"], "jsValue": "ext1_"}, {"name": "ray", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}, {"name": "angle", "value": "(NUM_FLOORS - 1) * TWIST_ANGLE / 20", "usedVars": ["TWIST_ANGLE", "NUM_FLOORS"], "jsValue": "(NUM_FLOORS_ - 1) * TWIST_ANGLE_ / 20"}], "selectGeom": false}, {"type": 14, "ID": "prod-vxmad8n4jb8", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Copy and move it up 9 units"}]}, {"type": 8, "ID": "prod-332orqq1w0k", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "ext2", "jsValue": "ext2_"}, {"name": "__model__"}, {"name": "entities", "value": "ext1", "usedVars": ["ext1"], "jsValue": "ext1_"}, {"name": "vector", "value": "[0, 0, 9]", "usedVars": [], "jsValue": "[0, 0, 9]"}], "variable": "ext2"}, {"type": 14, "ID": "prod-qdm3d7ms2", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create glass between balcony floors by copying balcony polylines and extruding 8 units"}]}, {"type": 8, "ID": "prod-tfb1p4tvjh", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "glass", "jsValue": "glass_"}, {"name": "__model__"}, {"name": "entities", "value": "pline", "usedVars": ["pline"], "jsValue": "pline_"}, {"name": "vector", "value": "[0, 0, 1]", "usedVars": [], "jsValue": "[0, 0, 1]"}], "variable": "glass"}, {"type": 8, "ID": "prod-cxvawoqbhlo", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "extglass", "jsValue": "extglass_"}, {"name": "__model__"}, {"name": "entities", "value": "glass", "usedVars": ["glass"], "jsValue": "glass_"}, {"name": "dist", "value": "8", "usedVars": [], "jsValue": "8"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "extglass"}, {"type": 14, "ID": "prod-dsfjrf04rcp", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Set to glass material and change transparency to 0.5"}]}, {"type": 0, "ID": "prod-3pqdtnuckea", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "extglass@material", "jsValue": "extglass_@material", "usedVars": ["extglass"]}, {"name": "value", "value": "\"glass\"", "jsValue": "\"glass\"", "usedVars": []}], "variable": null, "selectGeom": false}, {"type": 0, "ID": "prod-ybcdb0uzgf", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "extglass@type", "jsValue": "extglass_@type", "usedVars": ["extglass"]}, {"name": "value", "value": "\"glass\"", "jsValue": "\"glass\"", "usedVars": []}], "variable": null, "selectGeom": false}, {"type": 8, "ID": "prod-hpuzwv5bxi", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "extglass", "usedVars": ["extglass"], "jsValue": "extglass_"}, {"name": "color", "value": "[0.9, 0.9, 1]", "usedVars": [], "jsValue": "[0.9, 0.9, 1]"}], "selectGeom": false}, {"type": 8, "ID": "prod-df3jwaz4pff", "enabled": true, "print": false, "meta": {"module": "material", "name": "Glass"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "name", "value": "\"glass\"", "usedVars": [], "jsValue": "\"glass\""}, {"name": "opacity", "value": "0.5", "usedVars": [], "jsValue": "0.5"}], "selectGeom": false}, {"type": 14, "ID": "prod-s0b8nvfjtdh", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Prepare a collection with the bottom, top, and glass layers"}]}, {"type": 8, "ID": "prod-2vj8ii5rr7h", "enabled": true, "print": false, "meta": {"module": "collection", "name": "Create"}, "argCount": 4, "args": [{"name": "var_name", "value": "roofcoll", "jsValue": "roofcoll_"}, {"name": "__model__"}, {"name": "entities", "value": "[ext1, ext2, extglass]", "usedVars": ["ext1", "ext2", "extglass"], "jsValue": "[ext1_, ext2_, extglass_]"}, {"name": "name", "value": "\"roof\"", "usedVars": [], "jsValue": "\"roof\""}], "variable": "roofcoll"}, {"type": 14, "ID": "prod-dw7cl01syzs", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "If number of balconies per floor is 2 or more, rotate collection accordingly"}]}, {"type": 1, "ID": "prod-bbng2orxg5", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "NUM_BALCONIES >= 2", "usedVars": ["NUM_BALCONIES"], "jsValue": "NUM_BALCONIES_ >= 2"}], "children": [{"type": 13, "ID": "prod-p4au2f5p09l", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~29", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~29", "ID": "prod-mjav8l15npo", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "k", "jsValue": "k_"}, {"name": "list", "value": "range(1, NUM_BALCONIES)", "usedVars": ["NUM_BALCONIES"], "jsValue": "range(__debug__, 1, NUM_BALCONIES_)"}], "children": [{"type": 13, "ID": "prod-w8cf6sfs6pe", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~29~children~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-7s0kpwhj48l", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "roof", "jsValue": "roof_"}, {"name": "__model__"}, {"name": "entities", "value": "roofcoll", "usedVars": ["roofcoll"], "jsValue": "roofcoll_"}, {"name": "vector", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}], "variable": "roof", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~29~children~1"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~29~children~1", "ID": "prod-6f7xe4plo9", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "roof", "usedVars": ["roof"], "jsValue": "roof_"}, {"name": "ray", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}, {"name": "angle", "value": "k * PI / NUM_BALCONIES * 2", "usedVars": ["NUM_BALCONIES", "k"], "jsValue": "k_ * JSON.parse(JSON.stringify(PI)) / NUM_BALCONIES_ * 2"}], "selectGeom": false}], "variable": "k", "selectGeom": false}], "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Build roof", "id": "node_4t42qjbhd1q", "position": {"x": 5340, "y": 5460}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-t07b49m5gag", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create 3 cylinders of different heights and radii to go on top of the building"}]}, {"type": 14, "ID": "prod-uoij7i2edv", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create first cylinder to go on top of the top floor, radius 1 unit larger than floor and extrude 1 unit"}]}, {"type": 8, "ID": "prod-gtwqn193yv6", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "roofpos", "jsValue": "roofpos_"}, {"name": "__model__"}, {"name": "origin", "value": "[0, 0, 30 + NUM_FLOORS * 10]", "usedVars": ["NUM_FLOORS"], "jsValue": "[0, 0, 30 + NUM_FLOORS_ * 10]"}, {"name": "radius", "value": "TOWER_RADIUS + (NUM_FLOORS - 1) * TOWER_RADIUS_GRADIENT * 2 + 1", "usedVars": ["TOWER_RADIUS_GRADIENT", "TOWER_RADIUS", "NUM_FLOORS"], "jsValue": "TOWER_RADIUS_ + (NUM_FLOORS_ - 1) * TOWER_RADIUS_GRADIENT_ * 2 + 1"}, {"name": "num_positions", "value": "64", "usedVars": [], "jsValue": "64"}, {"name": "arc_angle", "value": "2 * PI", "usedVars": [], "jsValue": "2 * JSON.parse(JSON.stringify(PI))"}], "variable": "roofpos", "selectGeom": false}, {"type": 8, "ID": "prod-0w5mmyabbfpr", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "roofpgon", "jsValue": "roofpgon_"}, {"name": "__model__"}, {"name": "entities", "value": "roofpos", "usedVars": ["roofpos"], "jsValue": "roofpos_"}], "variable": "roofpgon", "selectGeom": false}, {"type": 8, "ID": "prod-8dopub7xfcv", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "roofext", "jsValue": "roofext_"}, {"name": "__model__"}, {"name": "entities", "value": "roofpgon", "usedVars": ["roofpgon"], "jsValue": "roofpgon_"}, {"name": "dist", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "roofext", "selectGeom": false}, {"type": 14, "ID": "prod-rkeiy8ecfyj", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Create second cylinder with height 5 and radius of floor -2"}]}, {"type": 8, "ID": "prod-799alqv63xt", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "roofpos2", "jsValue": "roofpos2_"}, {"name": "__model__"}, {"name": "origin", "value": "[0, 0, 31 + NUM_FLOORS * 10]", "usedVars": ["NUM_FLOORS"], "jsValue": "[0, 0, 31 + NUM_FLOORS_ * 10]"}, {"name": "radius", "value": "TOWER_RADIUS + (NUM_FLOORS - 1) * TOWER_RADIUS_GRADIENT * 2 - 2", "usedVars": ["TOWER_RADIUS_GRADIENT", "TOWER_RADIUS", "NUM_FLOORS"], "jsValue": "TOWER_RADIUS_ + (NUM_FLOORS_ - 1) * TOWER_RADIUS_GRADIENT_ * 2 - 2"}, {"name": "num_positions", "value": "64", "usedVars": [], "jsValue": "64"}, {"name": "arc_angle", "value": "2 * PI", "usedVars": [], "jsValue": "2 * JSON.parse(JSON.stringify(PI))"}], "variable": "roofpos2", "selectGeom": false}, {"type": 8, "ID": "prod-glt74np5m5i", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "roofpgon2", "jsValue": "roofpgon2_"}, {"name": "__model__"}, {"name": "entities", "value": "roofpos2", "usedVars": ["roofpos2"], "jsValue": "roofpos2_"}], "variable": "roofpgon2", "selectGeom": false}, {"type": 8, "ID": "prod-v8b9vxviikn", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "roofext2", "jsValue": "roofext2_"}, {"name": "__model__"}, {"name": "entities", "value": "roofpgon2", "usedVars": ["roofpgon2"], "jsValue": "roofpgon2_"}, {"name": "dist", "value": "5", "usedVars": [], "jsValue": "5"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "roofext2", "selectGeom": false}, {"type": 14, "ID": "prod-nmo02m91q", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Copy first cylinder to go on top of the second cylinder"}]}, {"type": 8, "ID": "prod-s1bb1d3r8pp", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "roofcopy", "jsValue": "roofcopy_"}, {"name": "__model__"}, {"name": "entities", "value": "roofext", "usedVars": ["roofext"], "jsValue": "roofext_"}, {"name": "vector", "value": "[0, 0, 6]", "usedVars": [], "jsValue": "[0, 0, 6]"}], "variable": "roofcopy"}, {"type": 14, "ID": "prod-tazolk132i", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Prepare variable to take inputs"}]}, {"type": 0, "ID": "prod-5y909dcx5xc", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "var", "jsValue": "var_"}, {"name": "value", "value": "TOWER_RADIUS * 0.8 + TOWER_RADIUS_GRADIENT * NUM_FLOORS * 2", "usedVars": ["TOWER_RADIUS_GRADIENT", "TOWER_RADIUS", "NUM_FLOORS"], "jsValue": "TOWER_RADIUS_ * 0.8 + TOWER_RADIUS_GRADIENT_ * NUM_FLOORS_ * 2"}], "variable": "var", "selectGeom": false}, {"type": 14, "ID": "prod-6p304137nvh", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Creation of balcony shape like in previous nodes, but at a smaller scale"}]}, {"type": 8, "ID": "prod-dimm3zfvgc8", "enabled": true, "print": false, "meta": {"module": "make", "name": "Position"}, "argCount": 3, "args": [{"name": "var_name", "value": "pos1", "jsValue": "pos1_"}, {"name": "__model__"}, {"name": "coords", "value": "[[0, var * 0.7, 36 + NUM_FLOORS * 10], [var * 0.7, var * 0.7, 36 + NUM_FLOORS * 10], [var * 0.9, var * 0.9, 36 + NUM_FLOORS * 10], [var * 0.9, var * 1.7, 36 + NUM_FLOORS * 10], [var * 0.7, var * 1.9, 36 + NUM_FLOORS * 10], [var * 0.7, var * 3, 36 + NUM_FLOORS * 10], [0, var * 3.2, 36 + NUM_FLOORS * 10]]", "usedVars": ["NUM_FLOORS"], "jsValue": "[[0, var_ * 0.7, 36 + NUM_FLOORS_ * 10], [var_ * 0.7, var_ * 0.7, 36 + NUM_FLOORS_ * 10], [var_ * 0.9, var_ * 0.9, 36 + NUM_FLOORS_ * 10], [var_ * 0.9, var_ * 1.7, 36 + NUM_FLOORS_ * 10], [var_ * 0.7, var_ * 1.9, 36 + NUM_FLOORS_ * 10], [var_ * 0.7, var_ * 3, 36 + NUM_FLOORS_ * 10], [0, var_ * 3.2, 36 + NUM_FLOORS_ * 10]]"}], "variable": "pos1", "selectGeom": false}, {"type": 8, "ID": "prod-gx4e1celdom", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "pos2", "jsValue": "pos2_"}, {"name": "__model__"}, {"name": "entities", "value": "pos1", "usedVars": ["pos1"], "jsValue": "pos1_"}, {"name": "vector", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}], "variable": "pos2", "selectGeom": false}, {"type": 8, "ID": "prod-mz1laao1cc7", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Mirror"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "pos2", "usedVars": ["pos2"], "jsValue": "pos2_"}, {"name": "plane", "value": "YZ", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(YZ))"}], "selectGeom": false}, {"type": 8, "ID": "prod-4ilph6wzrze", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "pline1", "jsValue": "pline1_"}, {"name": "__model__"}, {"name": "entities", "value": "[pos1, pos2]", "usedVars": ["pos1", "pos2"], "jsValue": "[pos1_, pos2_]"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "pline1", "selectGeom": false}, {"type": 8, "ID": "prod-eqlylax6n7k", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "pgon1", "jsValue": "pgon1_"}, {"name": "__model__"}, {"name": "entities", "value": "pline1", "usedVars": ["pline1"], "jsValue": "pline1_"}], "variable": "pgon1", "selectGeom": false}, {"type": 8, "ID": "prod-85yiugd2me", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "ext1", "jsValue": "ext1_"}, {"name": "__model__"}, {"name": "entities", "value": "pgon1", "usedVars": ["pgon1"], "jsValue": "pgon1_"}, {"name": "dist", "value": "0.5", "usedVars": [], "jsValue": "0.5"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "ext1"}, {"type": 8, "ID": "prod-o2ge1h9fua", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "ext1", "usedVars": ["ext1"], "jsValue": "ext1_"}, {"name": "ray", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}, {"name": "angle", "value": "(NUM_FLOORS - 1) * TWIST_ANGLE / 20", "usedVars": ["TWIST_ANGLE", "NUM_FLOORS"], "jsValue": "(NUM_FLOORS_ - 1) * TWIST_ANGLE_ / 20"}], "selectGeom": false}, {"type": 14, "ID": "prod-xa10t27mgnb", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "If number of balconies per floor is 2 or more, rotate roof accordingly"}]}, {"type": 1, "ID": "prod-ji82g3r2p4r", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "NUM_BALCONIES >= 2", "usedVars": ["NUM_BALCONIES"], "jsValue": "NUM_BALCONIES_ >= 2"}], "children": [{"type": 13, "ID": "prod-76xpcw2yer", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~23", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~23", "ID": "prod-yrq1pq65et8", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "k", "jsValue": "k_"}, {"name": "list", "value": "range(1, NUM_BALCONIES)", "usedVars": ["NUM_BALCONIES"], "jsValue": "range(__debug__, 1, NUM_BALCONIES_)"}], "children": [{"type": 13, "ID": "prod-ppwe94hr2d8", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~23~children~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-a7ytmmv23g6", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "roof", "jsValue": "roof_"}, {"name": "__model__"}, {"name": "entities", "value": "ext1", "usedVars": ["ext1"], "jsValue": "ext1_"}, {"name": "vector", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}], "variable": "roof", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~23~children~1"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~23~children~1", "ID": "prod-kq9vc2patg", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "roof", "usedVars": ["roof"], "jsValue": "roof_"}, {"name": "ray", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}, {"name": "angle", "value": "k * PI / NUM_BALCONIES * 2", "usedVars": ["NUM_BALCONIES", "k"], "jsValue": "k_ * JSON.parse(JSON.stringify(PI)) / NUM_BALCONIES_ * 2"}], "selectGeom": false}], "variable": "k", "selectGeom": false}], "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "End", "id": "node_q19bfbhu6md", "position": {"x": 5340, "y": 5580}, "enabled": true, "type": "end", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 11, "ID": "Return", "meta": {"name": "", "module": ""}, "argCount": 2, "args": [{"name": "__model__", "value": "", "jsValue": ""}, {"name": "value", "value": "", "jsValue": "", "usedVars": []}], "print": false, "enabled": true, "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 9}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 8}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 7}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasExecuted": true, "hasError": false, "model": 5}}, "selected": false}, "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~input~edges~0"], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 4}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 3}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0"}, "hasError": false, "hasExecuted": true, "model": 2}, "~flowchart~nodes~0~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"], "edges": ["~flowchart~nodes~0~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~1", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "functions": [], "ordered": true, "last_updated": "2021-03-24T06:45:01.727Z"}, "version": "0.7.5", "settings": "{\"normals\":{\"show\":false,\"size\":5},\"axes\":{\"show\":true,\"size\":50},\"grid\":{\"show\":true,\"size\":500,\"pos_x\":0,\"pos_y\":0,\"pos_z\":0,\"pos\":{\"x\":0,\"y\":0,\"z\":0}},\"background\":{\"show\":true,\"background_set\":2},\"positions\":{\"show\":false,\"size\":7},\"tjs_summary\":{\"show\":false},\"gi_summary\":{\"show\":true},\"wireframe\":{\"show\":false},\"camera\":{\"pos\":{\"x\":-41.396030083541575,\"y\":-371.90557276129766,\"z\":183.8752751701742},\"target\":{\"x\":0,\"y\":0,\"z\":0},\"ortho\":false},\"colors\":{\"viewer_bg\":\"#E6E6E6\",\"position\":\"#000000\",\"position_s\":\"#0033FF\",\"vertex_s\":\"#FFCC00\",\"face_f\":\"#FFFFFF\",\"face_f_s\":\"#4949BD\",\"face_b\":\"#DDDDDD\",\"face_b_s\":\"#00006D\"},\"ambient_light\":{\"show\":true,\"color\":\"#FFFFFF\",\"intensity\":0.5},\"hemisphere_light\":{\"show\":true,\"helper\":false,\"skyColor\":\"#FFFFFF\",\"groundColor\":\"#FFFFFF\",\"intensity\":0.5},\"directional_light\":{\"show\":false,\"helper\":false,\"color\":\"#FFFFFF\",\"intensity\":1,\"shadow\":true,\"azimuth\":90,\"altitude\":45,\"distance\":10,\"type\":\"directional\",\"shadowSize\":3072},\"ground\":{\"show\":false,\"width\":1000,\"length\":1000,\"height\":-0.5,\"color\":\"#FFFFFF\",\"shininess\":0},\"select\":{\"selector\":{\"id\":7,\"name\":\"Polygons\"},\"tab\":0,\"enabledselector\":{\"ps\":true,\"_v\":true,\"_e\":true,\"_w\":true,\"_f\":true,\"pt\":true,\"pl\":true,\"pg\":true,\"co\":true}},\"version\":\"0.4.38\",\"cesium\":{\"imagery\":{\"layer\":\"Open Street Map\",\"terrain\":\"Ellipsoid\",\"apiKey\":{\"here\":\"7vMRjLNCpcOAUQXU61eUp6EFbWCy7WLNmy9qLHO-1Bw\"}},\"camera\":{\"pos\":{\"x\":0,\"y\":0,\"z\":0},\"direction\":{\"x\":0,\"y\":0,\"z\":0},\"up\":{\"x\":0,\"y\":0,\"z\":0},\"right\":{\"x\":0,\"y\":0,\"z\":0}},\"time\":{\"date\":\"2020-05-11T04:37\"},\"updated\":true,\"model\":{\"polygonEdge\":true}},\"geo\":{\"imagery\":{\"layer\":\"Open Street Map\",\"terrain\":\"Ellipsoid\",\"apiKey\":{\"here\":\"7vMRjLNCpcOAUQXU61eUp6EFbWCy7WLNmy9qLHO-1Bw\"}},\"camera\":{\"pos\":{\"x\":-1527170.4564504684,\"y\":6191377.229851589,\"z\":142492.86697965642},\"direction\":{\"x\":0,\"y\":0,\"z\":0},\"up\":{\"x\":0,\"y\":0,\"z\":0},\"right\":{\"x\":0,\"y\":0,\"z\":0},\"rot\":{\"x\":-2.8946890807177175,\"y\":0.03332128705035884,\"z\":2.8868931928931136}},\"time\":{\"date\":\"2021-01-27T16:00\"},\"model\":{\"polygonEdge\":false},\"updated\":true}}"}