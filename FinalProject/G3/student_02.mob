{"name": "FinalProject_G3_student_02", "author": "new_user", "flowchart": {"id": "bc06eaa2-45cf-d4ad-bf00-d7d2849494c7", "name": "FinalProject_G3_student_02", "description": "A parametric exploration inspired by Asakusa Culture Tourist Information Center, which was designed by Kengo Kuma & Associates", "language": "js", "meta": {"selected_nodes": [0]}, "nodes": [{"name": "Start", "id": "node_xy344vgeub", "position": {"x": 5340, "y": 4840}, "enabled": true, "type": "start", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 10, "ID": "prod-rndltfxq1jk", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 5, "description": "Length of floor & roof planes"}, "args": [{"name": "const_name", "value": "LENGTH", "jsValue": "LENGTH_"}, {"name": "__input__", "value": "30", "usedVars": [], "jsValue": "30"}]}, {"type": 10, "ID": "prod-uktwzh9c7ug", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 5, "description": "Width of floor & roof planes"}, "args": [{"name": "const_name", "value": "WIDTH", "jsValue": "WIDTH_"}, {"name": "__input__", "value": "30", "usedVars": [], "jsValue": "30"}]}, {"type": 10, "ID": "prod-uw4e744v58", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Degree of the floor & roof pitch/slope angle"}, "args": [{"name": "const_name", "value": "DEG_OF_PLANES", "jsValue": "DEG_OF_PLANES_"}, {"name": "__input__", "value": 5, "step": "1", "min": "0", "max": "5"}]}, {"type": 10, "ID": "prod-phnilxaoqco", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Angle of rotation of the floor & roof planes"}, "args": [{"name": "const_name", "value": "ROTATION_OF_PLANES", "jsValue": "ROTATION_OF_PLANES_"}, {"name": "__input__", "value": 0, "step": "15", "min": "0", "max": "360"}]}, {"type": 10, "ID": "prod-i8ho7dikk4f", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Number of floors in the building"}, "args": [{"name": "const_name", "value": "NUM_FLOORS", "jsValue": "NUM_FLOORS_"}, {"name": "__input__", "value": 7, "step": "1", "min": "7", "max": "20"}]}, {"type": 10, "ID": "prod-cxklhv0ofos", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 6, "description": "Shape of the building core"}, "args": [{"name": "const_name", "value": "BUILDING_SHAPE", "jsValue": "BUILDING_SHAPE_"}, {"name": "__input__", "value": "\"rectangular\"", "max": "[\"rectangular\",\"polygonal\"]", "min": ["\"rectangular\"", "\"polygonal\""]}]}, {"type": 10, "ID": "prod-h56lu45w53", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Number of louvres on each face of the building core"}, "args": [{"name": "const_name", "value": "NUM_LOUVRES", "jsValue": "NUM_LOUVRES_"}, {"name": "__input__", "value": 20, "step": "5", "min": "5", "max": "50"}]}, {"type": 10, "ID": "prod-yyt7m6rjjic", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Extrusion distance of louvres"}, "args": [{"name": "const_name", "value": "EXTRUSION_DIST", "jsValue": "EXTRUSION_DIST_"}, {"name": "__input__", "value": 3, "step": "0.5", "min": "0", "max": "3.0"}]}, {"type": 10, "ID": "prod-nietqgx1oq", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "Input", "name": "Constant", "inputMode": 1, "description": "Position of the sun along the arc, which will affect the angle of rotation of the louvres"}, "args": [{"name": "const_name", "value": "POSI_OF_SUN", "jsValue": "POSI_OF_SUN_"}, {"name": "__input__", "value": 1, "step": "1", "min": "1", "max": "12"}]}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": false, "show_func": false}, "input": {"name": "input", "type": 0, "edges": [], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0"}, "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Skeleton of Floor & Roof Planes", "id": "node_832to9f5453", "position": {"x": 5340, "y": 5000}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-o94d6l72jo", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Generating randomised types of roof & floor planes (only the top roof is fixed as a sloping roof & the ground floor is fixed as a flat floor)"}], "selectGeom": false}, {"type": 0, "ID": "prod-7cwmigxpf5", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "z", "jsValue": "z_"}, {"name": "value", "value": "0", "usedVars": [], "jsValue": "0"}], "variable": "z", "terminate": false, "selectGeom": false}, {"type": 4, "ID": "prod-7boac20kvxe", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "i", "jsValue": "i_"}, {"name": "list", "value": "range(NUM_FLOORS)", "usedVars": ["NUM_FLOORS"], "jsValue": "range(__debug__, NUM_FLOORS_)"}], "children": [{"type": 13, "ID": "prod-xo66rmeplig", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~3", "ID": "prod-do9ba20b16a", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "i == 0", "usedVars": ["i"], "jsValue": "i_ == 0"}], "children": [{"type": 13, "ID": "prod-w2hdb5f5pgd", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~3~children~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~3~children~1", "ID": "prod-0oeyi1ef91em", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "localFunc", "name": "RandFloor", "otherInfo": {}}, "args": [{"name": "var_name", "value": "z", "jsValue": "z_"}, {"name": "z", "value": "z", "usedVars": ["z"], "jsValue": "z_"}, {"name": "x", "value": "1", "jsValue": "1", "usedVars": []}], "variable": "z", "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~3~children~1", "ID": "prod-rcpt7rfwqlc", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "localFunc", "name": "RandRoof", "otherInfo": {}}, "args": [{"name": "var_name", "value": "z", "jsValue": "z_"}, {"name": "z", "value": "z", "usedVars": ["z"], "jsValue": "z_"}, {"name": "x", "value": "0", "jsValue": "0", "usedVars": []}], "variable": "z", "selectGeom": false}], "selectGeom": false}, {"type": 2, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~3", "ID": "prod-1f0t2xcbzbi", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "i < NUM_FLOORS - 1", "usedVars": ["NUM_FLOORS", "i"], "jsValue": "i_ < NUM_FLOORS_ - 1"}], "children": [{"type": 13, "ID": "prod-dus78iu85ii", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~3~children~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~3~children~2", "ID": "prod-v9q62w57ayk", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "localFunc", "name": "RandFloor", "otherInfo": {}}, "args": [{"name": "var_name", "value": "z", "jsValue": "z_"}, {"name": "z", "value": "z", "usedVars": ["z"], "jsValue": "z_"}, {"name": "x", "value": "0", "jsValue": "0", "usedVars": []}], "variable": "z", "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~3~children~2", "ID": "prod-btyw173a51m", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "localFunc", "name": "RandRoof", "otherInfo": {}}, "args": [{"name": "var_name", "value": "z", "jsValue": "z_"}, {"name": "z", "value": "z", "usedVars": ["z"], "jsValue": "z_"}, {"name": "x", "value": "0", "jsValue": "0", "usedVars": []}], "variable": "z", "selectGeom": false}], "selectGeom": false}, {"type": 2, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~3", "ID": "prod-asjryjt79jl", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "i == NUM_FLOORS - 1", "usedVars": ["NUM_FLOORS", "i"], "jsValue": "i_ == NUM_FLOORS_ - 1"}], "children": [{"type": 13, "ID": "prod-mrirbey0drn", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~3~children~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~3~children~3", "ID": "prod-ym4newnft6n", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "localFunc", "name": "RandFloor", "otherInfo": {}}, "args": [{"name": "var_name", "value": "z", "jsValue": "z_"}, {"name": "z", "value": "z", "usedVars": ["z"], "jsValue": "z_"}, {"name": "x", "value": "0", "jsValue": "0", "usedVars": []}], "variable": "z", "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~3~children~3", "ID": "prod-p8y44fxbpqm", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "localFunc", "name": "RandRoof", "otherInfo": {}}, "args": [{"name": "var_name", "value": "z", "jsValue": "z_"}, {"name": "z", "value": "z", "usedVars": ["z"], "jsValue": "z_"}, {"name": "x", "value": "1", "jsValue": "1", "usedVars": []}], "variable": "z", "selectGeom": false}], "selectGeom": false}], "variable": "i", "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 16, "ID": "prod-z5paedysktb", "enabled": true, "print": false, "argCount": 4, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "PitchedRoof", "num_returns": 1, "collapsed": true}}, "args": [{"name": "func_name", "value": "PitchedRoof", "jsValue": "PitchedRoof_"}, {"name": "arg_1", "value": "z", "jsValue": "z_", "usedVars": ["z"]}, {"name": "arg_2", "value": "h", "jsValue": "h_", "usedVars": ["h"]}, {"name": "arg_3", "value": "t", "jsValue": "t_", "usedVars": ["t"]}], "children": [{"type": 13, "ID": "", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-ssljfy8xlk", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Creating the pitched roof polygon"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-sg5yy109yc", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Grid"}, "argCount": 6, "args": [{"name": "var_name", "value": "posis_lists", "jsValue": "posis_lists_"}, {"name": "__model__"}, {"name": "origin", "value": "[0, 0, z]", "usedVars": ["z"], "jsValue": "[0, 0, z_]"}, {"name": "size", "value": "[LENGTH, WIDTH]", "usedVars": ["WIDTH", "LENGTH"], "jsValue": "[LENGTH_, WIDTH_]"}, {"name": "num_positions", "value": "[2, 3]", "usedVars": [], "jsValue": "[2, 3]"}, {"name": "method", "value": "'quads'", "usedVars": [], "jsValue": "'quads'"}], "variable": "posis_lists", "terminate": false}, {"type": 8, "ID": "prod-ijm0m4y2t4", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "roof", "jsValue": "roof_"}, {"name": "__model__"}, {"name": "entities", "value": "posis_lists", "usedVars": ["posis_lists"], "jsValue": "posis_lists_"}], "variable": "roof", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "terminate": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-z1rfo4vya2s", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof@type", "jsValue": "roof_@type", "usedVars": ["roof"]}, {"name": "value", "value": "\"roof\"", "usedVars": [], "jsValue": "\"roof\""}], "variable": null, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-5x75az6sbed", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Rotating all the pitched roof planes with angle of ROTATION_OF_PLANES"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-f8zugf7ksch", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "roof", "usedVars": ["roof"], "jsValue": "roof_"}, {"name": "ray", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "angle", "value": "ROTATION_OF_PLANES", "usedVars": ["ROTATION_OF_PLANES"], "jsValue": "ROTATION_OF_PLANES_"}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-iwqz8gxlk7", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Assigning the colour pink to the roofs"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-fx84rhpsl3b", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "roof", "usedVars": ["roof"], "jsValue": "roof_"}, {"name": "color", "value": "[1, 0.5, 0.5]", "usedVars": [], "jsValue": "[1, 0.5, 0.5]"}], "terminate": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-qawkp01c4", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Aligning the pitch of the roof to the step of the floor"}]}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-fucu49tdfg", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "posis", "jsValue": "posis_"}, {"name": "value", "value": "posis_lists[0]", "usedVars": ["posis_lists"], "jsValue": "posis_lists_[pythonList(0, posis_lists_.length)]"}], "variable": "posis", "terminate": false, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-nvfukc3ovh", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "a", "jsValue": "a_"}, {"name": "value", "value": "0", "usedVars": [], "jsValue": "0"}], "variable": "a"}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-35gnmkxx6k", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "t > 0", "usedVars": ["t"], "jsValue": "t_ > 0"}], "children": [{"type": 13, "ID": "prod-35gnmkxx6k-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~12", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~12", "ID": "prod-g7mlnyewads", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "a", "jsValue": "a_"}, {"name": "value", "value": "2 / 3 - 0.5", "usedVars": [], "jsValue": "2 / 3 - 0.5"}], "variable": "a"}]}, {"type": 2, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-kqx5l6gczv", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "t < 0", "usedVars": ["t"], "jsValue": "t_ < 0"}], "children": [{"type": 13, "ID": "prod-kqx5l6gczv-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~13", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~13", "ID": "prod-fusq5k33q4l", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "a", "jsValue": "a_"}, {"name": "value", "value": "-(2 / 3 - 0.5)", "usedVars": [], "jsValue": "-(2 / 3 - 0.5)"}], "variable": "a", "selectGeom": false}]}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-oxb6d4h0p4l", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Moving the points on the polygon to determine the overall pitched roof shape"}]}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-i7oisawoxg", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "posis[2 :]", "usedVars": ["posis"], "jsValue": "posis_.slice(2)"}, {"name": "vectors", "value": "[0, a * WIDTH, DEG_OF_PLANES]", "usedVars": ["DEG_OF_PLANES", "WIDTH", "a"], "jsValue": "[0, a_ * WIDTH_, DEG_OF_PLANES_]"}], "terminate": false}, {"type": 17, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1", "ID": "prod-rqpet136yhp", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "Value", "value": "z + h + 3", "usedVars": ["z", "h"], "jsValue": "z_ + h_ + 3"}]}], "variable": null}, {"type": 16, "ID": "prod-d62r8kw6gkb", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "SlopingRoof", "num_returns": 1, "collapsed": true}}, "args": [{"name": "func_name", "value": "SlopingRoof", "jsValue": "SlopingRoof_"}, {"name": "arg_1", "value": "z", "jsValue": "z_", "usedVars": ["z"]}, {"name": "arg_2", "value": "h", "jsValue": "h_", "usedVars": ["h"]}], "children": [{"type": 13, "ID": "", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2", "ID": "prod-t5xyeq9nsb", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Creating the sloping roof polygon"}], "selectGeom": false}, {"type": 8, "ID": "prod-ezas9ihn0av", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Rectangle"}, "argCount": 4, "args": [{"name": "var_name", "value": "posis", "jsValue": "posis_"}, {"name": "__model__"}, {"name": "origin", "value": "[0, 0, z]", "usedVars": ["z"], "jsValue": "[0, 0, z_]"}, {"name": "size", "value": "[LENGTH, WIDTH]", "usedVars": ["WIDTH", "LENGTH"], "jsValue": "[LENGTH_, WIDTH_]"}], "variable": "posis", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2"}, {"type": 8, "ID": "prod-u45m6vu999", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "roof", "jsValue": "roof_"}, {"name": "__model__"}, {"name": "entities", "value": "posis", "usedVars": ["posis"], "jsValue": "posis_"}], "variable": "roof", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2", "ID": "prod-jav7bkkxgvd", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof@type", "jsValue": "roof_@type", "usedVars": ["roof"]}, {"name": "value", "value": "\"roof\"", "usedVars": [], "jsValue": "\"roof\""}], "variable": null, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2", "ID": "prod-ng70652bho", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Rotating all the sloping roof planes (except for the top roof plane) with angle of ROTATION_OF_PLANES"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2", "ID": "prod-3910qtkuyka", "enabled": true, "print": false, "meta": {"module": "query", "name": "Get"}, "argCount": 4, "args": [{"name": "var_name", "value": "roof_pg", "jsValue": "roof_pg_"}, {"name": "__model__"}, {"name": "ent_type_enum", "value": "'pg'", "jsValue": "'pg'", "usedVars": []}, {"name": "entities", "value": "null", "jsValue": "null", "usedVars": []}], "variable": "roof_pg", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2", "ID": "prod-9gdakao9reo", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "top_roof", "jsValue": "top_roof_"}, {"name": "value", "value": "roof_pg[-1]", "usedVars": ["roof_pg"], "jsValue": "roof_pg_[pythonList(-1, roof_pg_.length)]"}], "variable": "top_roof", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2", "ID": "prod-jjjgcxe1ay", "enabled": true, "print": false, "meta": {"module": "list", "name": "Remove"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "roof_pg", "usedVars": ["roof_pg"], "jsValue": "roof_pg_"}, {"name": "item", "value": "top_roof", "usedVars": ["top_roof"], "jsValue": "top_roof_"}, {"name": "method", "value": "'last_value'", "jsValue": "'last_value'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2", "ID": "prod-cex16osx2pf", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "roof_pg", "usedVars": ["roof_pg"], "jsValue": "roof_pg_"}, {"name": "ray", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "angle", "value": "ROTATION_OF_PLANES", "usedVars": ["ROTATION_OF_PLANES"], "jsValue": "ROTATION_OF_PLANES_"}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2", "ID": "prod-fibfwy4q355", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Assigning the colour pink to the roofs"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2", "ID": "prod-zjps2hak6t9", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "roof", "usedVars": ["roof"], "jsValue": "roof_"}, {"name": "color", "value": "[1, 0.5, 0.5]", "usedVars": [], "jsValue": "[1, 0.5, 0.5]"}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2", "ID": "prod-scgb1eezuun", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Moving the points on the polygon to determine the overall sloping roof shape"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2", "ID": "prod-ops2ztu854", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "posis[2 :]", "usedVars": ["posis"], "jsValue": "posis_.slice(2)"}, {"name": "vectors", "value": "[0, 0, DEG_OF_PLANES]", "usedVars": ["DEG_OF_PLANES"], "jsValue": "[0, 0, DEG_OF_PLANES_]"}], "selectGeom": false, "terminate": false}, {"type": 17, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2", "ID": "prod-f874e6h9dcn", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "Value", "value": "z + h + 3", "usedVars": ["z", "h"], "jsValue": "z_ + h_ + 3"}], "selectGeom": false}], "variable": null}, {"type": 16, "ID": "prod-12gxc6gmmh4", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "SteppedFloor", "num_returns": 1, "collapsed": true, "deletedArgs": [{"name": "arg_3", "value": "t", "jsValue": "t_", "invalidVar": false, "usedVars": ["t"], "linked": false}]}}, "args": [{"name": "func_name", "value": "SteppedFloor", "jsValue": "SteppedFloor_"}, {"name": "arg_1", "value": "z", "jsValue": "z_", "usedVars": ["z"]}, {"name": "arg_2", "value": "h", "jsValue": "h_", "usedVars": ["h"]}], "children": [{"type": 13, "ID": "", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-w6c055ro9a", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Creating the stepped floor polygon"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-0btw6morne99", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Grid"}, "argCount": 6, "args": [{"name": "var_name", "value": "posis_lists", "jsValue": "posis_lists_"}, {"name": "__model__"}, {"name": "origin", "value": "[0, 0, z]", "usedVars": ["z"], "jsValue": "[0, 0, z_]"}, {"name": "size", "value": "[LENGTH, WIDTH]", "usedVars": ["WIDTH", "LENGTH"], "jsValue": "[LENGTH_, WIDTH_]"}, {"name": "num_positions", "value": "[2, 4]", "usedVars": [], "jsValue": "[2, 4]"}, {"name": "method", "value": "'quads'", "usedVars": [], "jsValue": "'quads'"}], "variable": "posis_lists", "selectGeom": false}, {"type": 8, "ID": "prod-opca0cqvwa", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "floor", "jsValue": "floor_"}, {"name": "__model__"}, {"name": "entities", "value": "posis_lists", "usedVars": ["posis_lists"], "jsValue": "posis_lists_"}], "variable": "floor", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-sntnd31dzpm", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "floor@type", "jsValue": "floor_@type", "usedVars": ["floor"]}, {"name": "value", "value": "\"floor\"", "usedVars": [], "jsValue": "\"floor\""}], "variable": null, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-xeet6818rd", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Rotating all the stepped floor planes with angle of ROTATION_OF_PLANES"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-rnlkf2p4an", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floor", "usedVars": ["floor"], "jsValue": "floor_"}, {"name": "ray", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "angle", "value": "ROTATION_OF_PLANES", "usedVars": ["ROTATION_OF_PLANES"], "jsValue": "ROTATION_OF_PLANES_"}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-rbh1j2dygsf", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Moving the points on the polygon to determine the overall stepped floor shape"}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-wc1yp8b7qca", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "posis", "jsValue": "posis_"}, {"name": "value", "value": "posis_lists[2]", "usedVars": ["posis_lists"], "jsValue": "posis_lists_[pythonList(2, posis_lists_.length)]"}], "variable": "posis", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-w2hlen5lpzd", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "posis", "usedVars": ["posis"], "jsValue": "posis_"}, {"name": "vectors", "value": "[0, 0, DEG_OF_PLANES]", "usedVars": ["DEG_OF_PLANES"], "jsValue": "[0, 0, DEG_OF_PLANES_]"}], "selectGeom": false}, {"type": 17, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3", "ID": "prod-qi8wo0u7umi", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "Value", "value": "z + h + 4", "usedVars": ["z", "h"], "jsValue": "z_ + h_ + 4"}], "selectGeom": false}], "variable": null}, {"type": 16, "ID": "prod-ca1pu1ca6jj", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "FlatFloor", "num_returns": 1, "collapsed": true, "deletedArgs": [{"name": "arg_2", "value": "", "jsValue": "h_", "invalidVar": false, "usedVars": ["h"], "linked": false}]}}, "args": [{"name": "func_name", "value": "FlatFloor", "jsValue": "FlatFloor_"}, {"name": "arg_1", "value": "z", "jsValue": "z_", "usedVars": ["z"]}], "children": [{"type": 13, "ID": "prod-7t790wieau6", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4", "ID": "prod-xp3ak6g9vi", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Creating the flat floor polygon"}], "selectGeom": false}, {"type": 8, "ID": "prod-25ba9j92yab", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Rectangle"}, "argCount": 4, "args": [{"name": "var_name", "value": "posis", "jsValue": "posis_"}, {"name": "__model__"}, {"name": "origin", "value": "[0, 0, z]", "usedVars": ["z"], "jsValue": "[0, 0, z_]"}, {"name": "size", "value": "[LENGTH, WIDTH]", "usedVars": ["WIDTH", "LENGTH"], "jsValue": "[LENGTH_, WIDTH_]"}], "variable": "posis", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4"}, {"type": 8, "ID": "prod-5x0c9q8zzqs", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polygon"}, "argCount": 3, "args": [{"name": "var_name", "value": "floor", "jsValue": "floor_"}, {"name": "__model__"}, {"name": "entities", "value": "posis", "usedVars": ["posis"], "jsValue": "posis_"}], "variable": "floor", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4", "ID": "prod-c53o6s2ji5s", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "floor@type", "jsValue": "floor_@type", "usedVars": ["floor"]}, {"name": "value", "value": "\"floor\"", "usedVars": [], "jsValue": "\"floor\""}], "variable": null, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4", "ID": "prod-maqrfjhze69", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Rotating all the flat floor planes with angle of ROTATION_OF_PLANES"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4", "ID": "prod-fuourc2ma2v", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floor", "usedVars": ["floor"], "jsValue": "floor_"}, {"name": "ray", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "angle", "value": "ROTATION_OF_PLANES", "usedVars": ["ROTATION_OF_PLANES"], "jsValue": "ROTATION_OF_PLANES_"}], "selectGeom": false}, {"type": 17, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4", "ID": "prod-yrnllztvb8g", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "Value", "value": "z + 4", "usedVars": ["z"], "jsValue": "z_ + 4"}], "selectGeom": false}], "variable": null, "selectGeom": false}, {"type": 16, "ID": "prod-tyjmyvo7q", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "RandRoof", "num_returns": 2, "collapsed": true}}, "args": [{"name": "func_name", "value": "RandRoof", "jsValue": "RandRoof_"}, {"name": "arg_1", "value": "z", "jsValue": "z_", "usedVars": ["z"]}, {"name": "arg_2", "value": "x", "jsValue": "x_", "usedVars": ["x"]}], "children": [{"type": 13, "ID": "", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5", "ID": "prod-zlko41y1nfh", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Adding the x variable to make sure the top roof will always be a sloping roof plane"}], "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5", "ID": "prod-rwzqq6oueu", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "x == 0", "usedVars": ["x"], "jsValue": "x_ == 0"}], "children": [{"type": 13, "ID": "prod-q089ljrl8ae", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5~children~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5~children~2", "ID": "prod-cpphzqcpj55", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "num", "jsValue": "num_"}, {"name": "value", "value": "rand(0, 1)", "usedVars": [], "jsValue": "rand(__debug__, 0, 1)"}], "variable": "num", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5~children~2", "ID": "prod-lp5sc7n2kml", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "h", "jsValue": "h_"}, {"name": "value", "value": "randInt(2, 5)", "usedVars": [], "jsValue": "randInt(__debug__, 2, 5)"}], "variable": "h", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5~children~2", "ID": "prod-srna8sk4dfp", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "new_z", "jsValue": "new_z_"}, {"name": "value", "value": "z", "usedVars": ["z"], "jsValue": "z_"}], "variable": "new_z", "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5~children~2", "ID": "prod-ulrxy3yzdhh", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "num > 0.5", "usedVars": ["num"], "jsValue": "num_ > 0.5"}], "children": [{"type": 13, "ID": "prod-3l9of1mhe7s", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5~children~2~children~4", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5~children~2~children~4", "ID": "prod-nb0a37zblh", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "t", "jsValue": "t_"}, {"name": "value", "value": "randInt(-3, 3) / 8", "usedVars": [], "jsValue": "randInt(__debug__, -3, 3) / 8"}], "variable": "t", "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5~children~2~children~4", "ID": "prod-9juc05ns05", "enabled": true, "print": false, "argCount": 4, "meta": {"module": "localFunc", "name": "PitchedRoof"}, "args": [{"name": "var_name", "value": "new_z", "jsValue": "new_z_"}, {"name": "z", "value": "z", "usedVars": ["z"], "jsValue": "z_"}, {"name": "h", "value": "h", "usedVars": ["h"], "jsValue": "h_"}, {"name": "t", "value": "t", "usedVars": ["t"], "jsValue": "t_"}], "variable": "new_z", "selectGeom": false}], "selectGeom": false}, {"type": 3, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5~children~2", "ID": "prod-9axxmp3rhtf", "enabled": true, "print": false, "argCount": 0, "args": [], "children": [{"type": 13, "ID": "prod-d4wnm81qky", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5~children~2~children~5", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5~children~2~children~5", "ID": "prod-73ng19xtz1t", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "localFunc", "name": "SlopingRoof"}, "args": [{"name": "var_name", "value": "new_z", "jsValue": "new_z_"}, {"name": "z", "value": "z", "usedVars": ["z"], "jsValue": "z_"}, {"name": "h", "value": "h", "usedVars": ["h"], "jsValue": "h_"}], "variable": "new_z", "selectGeom": false}], "selectGeom": false}, {"type": 17, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5~children~2", "ID": "prod-0sks9isatrw9", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "Value", "value": "new_z", "usedVars": ["new_z"], "jsValue": "new_z_"}], "selectGeom": false}], "selectGeom": false}, {"type": 2, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5", "ID": "prod-s309yofkir", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "x == 1", "usedVars": ["x"], "jsValue": "x_ == 1"}], "children": [{"type": 13, "ID": "prod-s309yofkir-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5~children~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5~children~3", "ID": "prod-l79mj916c4o", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "num", "jsValue": "num_"}, {"name": "value", "value": "rand(0, 1)", "usedVars": [], "jsValue": "rand(__debug__, 0, 1)"}], "variable": "num", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5~children~3", "ID": "prod-i777ac4b0y", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "h", "jsValue": "h_"}, {"name": "value", "value": "randInt(2, 5)", "usedVars": [], "jsValue": "randInt(__debug__, 2, 5)"}], "variable": "h", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5~children~3", "ID": "prod-tytqi3id9nn", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "new_z", "jsValue": "new_z_"}, {"name": "value", "value": "z", "usedVars": ["z"], "jsValue": "z_"}], "variable": "new_z", "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5~children~3", "ID": "prod-nsdw79abtk", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "localFunc", "name": "SlopingRoof"}, "args": [{"name": "var_name", "value": "new_z", "jsValue": "new_z_"}, {"name": "z", "value": "z", "usedVars": ["z"], "jsValue": "z_"}, {"name": "h", "value": "h", "usedVars": ["h"], "jsValue": "h_"}], "variable": "new_z", "selectGeom": false}, {"type": 17, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~5~children~3", "ID": "prod-wppl0bw5xrm", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "Value", "value": "new_z", "usedVars": ["new_z"], "jsValue": "new_z_"}], "selectGeom": false}]}], "variable": null}, {"type": 16, "ID": "prod-p0p3z7fqny", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "", "name": "", "otherInfo": {"prev_name": "RandFloor", "num_returns": 2, "collapsed": true}}, "args": [{"name": "func_name", "value": "RandFloor", "jsValue": "RandFloor_"}, {"name": "arg_1", "value": "z", "jsValue": "z_", "usedVars": ["z"]}, {"name": "arg_2", "value": "x", "jsValue": "x_", "usedVars": ["x"]}], "children": [{"type": 13, "ID": "prod-ejy28o5pe8c", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6", "ID": "prod-xh5z9om25pr", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Adding the x variable to make sure the ground floor will always be a flat floor plane"}]}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6", "ID": "prod-j7ufw4flkgm", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "x == 0", "usedVars": ["x"], "jsValue": "x_ == 0"}], "children": [{"type": 13, "ID": "prod-j7ufw4flkgm-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~2", "ID": "prod-g1xvq7lobde", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "num", "jsValue": "num_"}, {"name": "value", "value": "rand(0, 1)", "usedVars": [], "jsValue": "rand(__debug__, 0, 1)"}], "variable": "num", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~2", "ID": "prod-e5f7ihrbru", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "h", "jsValue": "h_"}, {"name": "value", "value": "randInt(1, 4)", "usedVars": [], "jsValue": "randInt(__debug__, 1, 4)"}], "variable": "h", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~2", "ID": "prod-v8u32podjzm", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "new_z", "jsValue": "new_z_"}, {"name": "value", "value": "z", "usedVars": ["z"], "jsValue": "z_"}], "variable": "new_z", "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~2", "ID": "prod-432z0h9qtps", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "num > 0.5", "usedVars": ["num"], "jsValue": "num_ > 0.5"}], "children": [{"type": 13, "ID": "prod-or6q3v6i3on", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~2~children~4", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~2~children~4", "ID": "prod-84absfpz5dj", "enabled": true, "print": false, "argCount": 3, "meta": {"module": "localFunc", "name": "SteppedFloor", "otherInfo": {"deletedArgs": [{"name": "t", "value": "", "jsValue": "", "usedVars": [], "linked": false, "invalidVar": false}]}}, "args": [{"name": "var_name", "value": "new_z", "jsValue": "new_z_"}, {"name": "z", "value": "z", "usedVars": ["z"], "jsValue": "z_"}, {"name": "h", "value": "h", "usedVars": ["h"], "jsValue": "h_"}], "variable": "new_z", "selectGeom": false}], "selectGeom": false}, {"type": 3, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~2", "ID": "prod-rhnedp8c3df", "enabled": true, "print": false, "argCount": 0, "args": [], "children": [{"type": 13, "ID": "prod-rhnedp8c3df-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~2~children~5", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~2~children~5", "ID": "prod-afk7onhzmet", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "localFunc", "name": "FlatFloor", "otherInfo": {"deletedArgs": [{"name": "", "value": "", "jsValue": "", "usedVars": [], "linked": false, "invalidVar": false}]}}, "args": [{"name": "var_name", "value": "new_z", "jsValue": "new_z_"}, {"name": "z", "value": "z", "usedVars": ["z"], "jsValue": "z_"}], "variable": "new_z", "selectGeom": false}]}, {"type": 17, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~2", "ID": "prod-8gbrf8xrheu", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "Value", "value": "new_z", "usedVars": ["new_z"], "jsValue": "new_z_"}], "selectGeom": false}]}, {"type": 2, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6", "ID": "prod-f72u5ati976", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "x == 1", "usedVars": ["x"], "jsValue": "x_ == 1"}], "children": [{"type": 13, "ID": "prod-f72u5ati976-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~3", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~3", "ID": "prod-caobodzdn3", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "num", "jsValue": "num_"}, {"name": "value", "value": "rand(0, 1)", "usedVars": [], "jsValue": "rand(__debug__, 0, 1)"}], "variable": "num", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~3", "ID": "prod-kpi6uvgo86", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "h", "jsValue": "h_"}, {"name": "value", "value": "randInt(1, 4)", "usedVars": [], "jsValue": "randInt(__debug__, 1, 4)"}], "variable": "h", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~3", "ID": "prod-mldglz0x83e", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "new_z", "jsValue": "new_z_"}, {"name": "value", "value": "z", "usedVars": ["z"], "jsValue": "z_"}], "variable": "new_z", "selectGeom": false}, {"type": 18, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~3", "ID": "prod-42epq5wnny7", "enabled": true, "print": false, "argCount": 2, "meta": {"module": "localFunc", "name": "FlatFloor", "otherInfo": {"deletedArgs": [{"name": "", "value": "", "jsValue": "", "usedVars": [], "linked": false, "invalidVar": false}]}}, "args": [{"name": "var_name", "value": "new_z", "jsValue": "new_z_"}, {"name": "z", "value": "z", "usedVars": ["z"], "jsValue": "z_"}], "variable": "new_z", "selectGeom": false}, {"type": 17, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~6~children~3", "ID": "prod-qnenthzkh3", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "Value", "value": "new_z", "usedVars": ["new_z"], "jsValue": "new_z_"}], "selectGeom": false}]}], "variable": null, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Floor Slabs", "id": "node_battsi5zyi", "position": {"x": 5180, "y": 5140}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-zujy5khi95g", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Extruding the floor planes into floor slabs"}]}, {"type": 0, "ID": "prod-tc63cw7gkws", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "floors", "jsValue": "floors_"}, {"name": "value", "value": "#pg ?@type==\"floor\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"floor\")"}], "variable": "floors"}, {"type": 8, "ID": "prod-0nomyx9shwk8", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "method", "value": "'keep_selected'", "jsValue": "'keep_selected'", "usedVars": []}]}, {"type": 8, "ID": "prod-syc8d79p2hc", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "extruded_floors", "jsValue": "extruded_floors_"}, {"name": "__model__"}, {"name": "entities", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "dist", "value": "0.7", "usedVars": [], "jsValue": "0.7"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "extruded_floors"}, {"type": 0, "ID": "prod-7qtiwmcyp2g", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "extruded_floors@type", "jsValue": "extruded_floors_@type", "usedVars": ["extruded_floors"]}, {"name": "value", "value": "\"extruded_floors\"", "usedVars": [], "jsValue": "\"extruded_floors\""}], "variable": null}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": [{"source": {"name": "output", "type": 1, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0"], "meta": {"mode": 0}, "parentNode": {"name": "Roof Slabs", "id": "node_ef9amk873h", "position": {"x": 5520, "y": 5140}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-cl11qw8a50l", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Extruding the roof planes into roof slabs"}], "selectGeom": false}, {"type": 0, "ID": "prod-nkomm4q181", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof", "jsValue": "roof_"}, {"name": "value", "value": "#pg ?@type==\"roof\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"roof\")"}], "variable": "roof", "selectGeom": false}, {"type": 8, "ID": "prod-x3bwybsochc", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "roof", "usedVars": ["roof"], "jsValue": "roof_"}, {"name": "method", "value": "'keep_selected'", "jsValue": "'keep_selected'", "usedVars": []}], "selectGeom": false}, {"type": 8, "ID": "prod-xwjkmlcx9m9", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "extruded_roofs", "jsValue": "extruded_roofs_"}, {"name": "__model__"}, {"name": "entities", "value": "roof", "usedVars": ["roof"], "jsValue": "roof_"}, {"name": "dist", "value": "-0.3", "usedVars": [], "jsValue": "-0.3"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "extruded_roofs", "selectGeom": false}, {"type": 0, "ID": "prod-oiudagq4ir", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "extruded_roofs@type", "jsValue": "extruded_roofs_@type", "usedVars": ["extruded_roofs"]}, {"name": "value", "value": "\"extruded_roofs\"", "usedVars": [], "jsValue": "\"extruded_roofs\""}], "variable": null}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": {"name": "input", "type": 0, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output", "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input", "selected": false}], "meta": {"mode": 0, "opts": {}}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode"}, "output": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source", "hasError": false, "hasExecuted": true, "model": 5}}, "target": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "selected": false}, "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Core Structure", "id": "node_dtte4zk9m0e", "position": {"x": 5340, "y": 5400}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "ID": "prod-aawd3d90cfp", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "core", "jsValue": "core_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "core"}, {"type": 0, "ID": "prod-4i23631s998", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "louvre_lines", "jsValue": "louvre_lines_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "louvre_lines"}, {"type": 0, "ID": "prod-34fd84jsfcu", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "base_pline", "jsValue": "base_pline_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "base_pline"}, {"type": 14, "ID": "prod-edh67y51a", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Code for rectangular core "}], "selectGeom": false}, {"type": 1, "ID": "prod-vzdmk27vurb", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "BUILDING_SHAPE == \"rectangular\"", "usedVars": ["BUILDING_SHAPE"], "jsValue": "BUILDING_SHAPE_ == \"rectangular\""}], "children": [{"type": 13, "ID": "prod-vzdmk27vurb-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5", "ID": "prod-wvu5aixfedm", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Extruding the rectangular core"}]}, {"type": 8, "ID": "prod-biz6wbjp6hu", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Rectangle"}, "argCount": 4, "args": [{"name": "var_name", "value": "rec_posi", "jsValue": "rec_posi_"}, {"name": "__model__"}, {"name": "origin", "value": "XY", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XY))"}, {"name": "size", "value": "[LENGTH - 6, WIDTH - 6]", "usedVars": ["WIDTH", "LENGTH"], "jsValue": "[LENGTH_ - 6, WIDTH_ - 6]"}], "variable": "rec_posi", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5"}, {"type": 8, "ID": "prod-b9a4zlca0kn", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "rec", "jsValue": "rec_"}, {"name": "__model__"}, {"name": "entities", "value": "rec_posi", "usedVars": ["rec_posi"], "jsValue": "rec_posi_"}, {"name": "close", "value": "'close'", "jsValue": "'close'", "usedVars": []}], "variable": "rec", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5"}, {"type": 8, "ID": "prod-vk6mk010u3s", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "core", "jsValue": "core_"}, {"name": "__model__"}, {"name": "entities", "value": "rec", "usedVars": ["rec"], "jsValue": "rec_"}, {"name": "dist", "value": "500", "usedVars": [], "jsValue": "500"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "core", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5", "ID": "prod-2ymaswyshwi", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Getting the base of the rectangular core (to be used in the Louvres node)"}]}, {"type": 0, "ID": "prod-rn1fmrf9cyk", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "pline", "jsValue": "pline_"}, {"name": "value", "value": "#pl", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pl', null)"}], "variable": "pline", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5"}, {"type": 0, "ID": "prod-i8vhsetlcz", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "base_pline", "jsValue": "base_pline_"}, {"name": "value", "value": "pline[0]", "usedVars": ["pline"], "jsValue": "pline_[pythonList(0, pline_.length)]"}], "variable": "base_pline", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5"}, {"type": 0, "ID": "prod-93n2xdfa4cc", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "base_pline@type", "jsValue": "base_pline_@type", "usedVars": ["base_pline"]}, {"name": "value", "value": "\"base_pline\"", "usedVars": [], "jsValue": "\"base_pline\""}], "variable": null, "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5"}, {"type": 14, "ID": "prod-5ev2wd01vi8", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Dividing the rectangular core with the desired number of louvre lines (NUM_LOUVRES)"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5"}, {"type": 8, "ID": "prod-fy53oa7wpxp", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Divide"}, "argCount": 5, "args": [{"name": "var_name", "value": "div", "jsValue": "div_"}, {"name": "__model__"}, {"name": "entities", "value": "rec", "usedVars": ["rec"], "jsValue": "rec_"}, {"name": "divisor", "value": "NUM_LOUVRES + 1", "usedVars": ["NUM_LOUVRES"], "jsValue": "NUM_LOUVRES_ + 1"}, {"name": "method", "value": "'by_number'", "jsValue": "'by_number'", "usedVars": []}], "variable": "div", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5"}, {"type": 8, "ID": "prod-92rp2e4rexq", "enabled": true, "print": false, "meta": {"module": "query", "name": "Get"}, "argCount": 4, "args": [{"name": "var_name", "value": "div_posi", "jsValue": "div_posi_"}, {"name": "__model__"}, {"name": "ent_type_enum", "value": "'ps'", "jsValue": "'ps'", "usedVars": []}, {"name": "entities", "value": "div", "jsValue": "div_", "usedVars": ["div"]}], "variable": "div_posi", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5"}, {"type": 0, "ID": "prod-acmqs3msmn5", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "louvre_lines", "jsValue": "louvre_lines_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "louvre_lines", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5"}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5", "ID": "prod-zpmmr78wc0f", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "i", "jsValue": "i_"}, {"name": "list", "value": "range(0, len(div_posi))", "usedVars": ["div_posi"], "jsValue": "range(__debug__, 0, len(__debug__, div_posi_))"}], "children": [{"type": 13, "ID": "prod-zpmmr78wc0f-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5~children~13", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5~children~13", "ID": "prod-zuhkfq4itg", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "div_top_posi", "jsValue": "div_top_posi_"}, {"name": "__model__"}, {"name": "entities", "value": "div_posi[i]", "usedVars": ["div_posi", "i"], "jsValue": "div_posi_[pythonList(i_, div_posi_.length)]"}, {"name": "vector", "value": "[0, 0, 500]", "usedVars": [], "jsValue": "[0, 0, 500]"}], "variable": "div_top_posi", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5~children~13", "ID": "prod-z0ezzeqpl48", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "lines", "jsValue": "lines_"}, {"name": "__model__"}, {"name": "entities", "value": "[div_top_posi, div_posi[i]]", "usedVars": ["div_top_posi", "div_posi", "i"], "jsValue": "[div_top_posi_, div_posi_[pythonList(i_, div_posi_.length)]]"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "lines", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5~children~13", "ID": "prod-0d0q19tso916", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "louvre_lines", "usedVars": ["louvre_lines"], "jsValue": "louvre_lines_"}, {"name": "item", "value": "lines", "usedVars": ["lines"], "jsValue": "lines_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "i"}]}, {"type": 14, "ID": "prod-wntm1khho3r", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Code for polygonal core"}]}, {"type": 2, "ID": "prod-nwb2ygzijj", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "BUILDING_SHAPE == \"polygonal\"", "usedVars": ["BUILDING_SHAPE"], "jsValue": "BUILDING_SHAPE_ == \"polygonal\""}], "children": [{"type": 13, "ID": "prod-nwb2ygzijj-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7", "ID": "prod-3ouffz76aep", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Extruding the polygonal core"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7", "ID": "prod-nhe9da707", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "polygon_posi", "jsValue": "polygon_posi_"}, {"name": "__model__"}, {"name": "origin", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}, {"name": "radius", "value": "[LENGTH - 15]", "usedVars": ["LENGTH"], "jsValue": "[LENGTH_ - 15]"}, {"name": "num_positions", "value": "9", "usedVars": [], "jsValue": "9"}, {"name": "arc_angle", "value": "2 * PI", "usedVars": [], "jsValue": "2 * JSON.parse(JSON.stringify(PI))"}], "variable": "polygon_posi"}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7", "ID": "prod-ezbl2g5o1lw", "enabled": true, "print": true, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "polygon", "jsValue": "polygon_"}, {"name": "__model__"}, {"name": "entities", "value": "polygon_posi", "usedVars": ["polygon_posi"], "jsValue": "polygon_posi_"}, {"name": "close", "value": "'close'", "jsValue": "'close'", "usedVars": []}], "variable": "polygon"}, {"type": 8, "ID": "prod-wh77b1r20xg", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "core", "jsValue": "core_"}, {"name": "__model__"}, {"name": "entities", "value": "polygon", "usedVars": ["polygon"], "jsValue": "polygon_"}, {"name": "dist", "value": "500", "usedVars": [], "jsValue": "500"}, {"name": "divisions", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "core", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7", "ID": "prod-rqnwmc94iw8", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Getting the base of the polygonal core (to be used in the Louvres node)"}], "selectGeom": false}, {"type": 0, "ID": "prod-12frfsoa8lh", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "pline", "jsValue": "pline_"}, {"name": "value", "value": "#pl", "usedVars": [], "jsValue": "__modules__.query.Get(__params__.model, 'pl', null)"}], "variable": "pline", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7"}, {"type": 0, "ID": "prod-g9010o85byk", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "base_pline", "jsValue": "base_pline_"}, {"name": "value", "value": "pline[0]", "usedVars": ["pline"], "jsValue": "pline_[pythonList(0, pline_.length)]"}], "variable": "base_pline", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7"}, {"type": 0, "ID": "prod-25iq1n00867", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "base_pline@type", "jsValue": "base_pline_@type", "usedVars": ["base_pline"]}, {"name": "value", "value": "\"base_pline\"", "usedVars": [], "jsValue": "\"base_pline\""}], "variable": null, "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7"}, {"type": 14, "ID": "prod-uf8bxe8jaq", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Dividing the polygonal core with the desired number of louvre lines (NUM_LOUVRES)"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7"}, {"type": 8, "ID": "prod-7qcewettayp", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Divide"}, "argCount": 5, "args": [{"name": "var_name", "value": "div", "jsValue": "div_"}, {"name": "__model__"}, {"name": "entities", "value": "polygon", "usedVars": ["polygon"], "jsValue": "polygon_"}, {"name": "divisor", "value": "NUM_LOUVRES - 1", "usedVars": ["NUM_LOUVRES"], "jsValue": "NUM_LOUVRES_ - 1"}, {"name": "method", "value": "'by_number'", "jsValue": "'by_number'", "usedVars": []}], "variable": "div", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7"}, {"type": 8, "ID": "prod-v58jeo7pm7", "enabled": true, "print": false, "meta": {"module": "query", "name": "Get"}, "argCount": 4, "args": [{"name": "var_name", "value": "div_posi", "jsValue": "div_posi_"}, {"name": "__model__"}, {"name": "ent_type_enum", "value": "'ps'", "jsValue": "'ps'", "usedVars": []}, {"name": "entities", "value": "div", "jsValue": "div_", "usedVars": ["div"]}], "variable": "div_posi", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7", "ID": "prod-mttzzwhlb3h", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "div_posi@type", "jsValue": "div_posi_@type", "usedVars": ["div_posi"]}, {"name": "value", "value": "\"div_posi\"", "usedVars": [], "jsValue": "\"div_posi\""}], "variable": null}, {"type": 0, "ID": "prod-nv67xfysmdi", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "louvre_lines", "jsValue": "louvre_lines_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "louvre_lines", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7"}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7", "ID": "prod-5rahufux81q", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "i", "jsValue": "i_"}, {"name": "list", "value": "range(0, len(div_posi))", "usedVars": ["div_posi"], "jsValue": "range(__debug__, 0, len(__debug__, div_posi_))"}], "children": [{"type": 13, "ID": "prod-5rahufux81q-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7~children~14", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7~children~14", "ID": "prod-1j29vzcwq82", "enabled": true, "print": false, "meta": {"module": "make", "name": "Copy"}, "argCount": 4, "args": [{"name": "var_name", "value": "div_top_posi", "jsValue": "div_top_posi_"}, {"name": "__model__"}, {"name": "entities", "value": "div_posi[i]", "usedVars": ["div_posi", "i"], "jsValue": "div_posi_[pythonList(i_, div_posi_.length)]"}, {"name": "vector", "value": "[0, 0, 500]", "usedVars": [], "jsValue": "[0, 0, 500]"}], "variable": "div_top_posi", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7~children~14", "ID": "prod-3jh5zdp4nd6", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "lines", "jsValue": "lines_"}, {"name": "__model__"}, {"name": "entities", "value": "[div_top_posi, div_posi[i]]", "usedVars": ["div_top_posi", "div_posi", "i"], "jsValue": "[div_top_posi_, div_posi_[pythonList(i_, div_posi_.length)]]"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "lines", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7~children~14", "ID": "prod-xle3lli3mp", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "louvre_lines", "usedVars": ["louvre_lines"], "jsValue": "louvre_lines_"}, {"name": "item", "value": "lines", "usedVars": ["lines"], "jsValue": "lines_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "i"}]}, {"type": 14, "ID": "prod-84eo23fji2c", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Trimming the core using the top roof plane"}]}, {"type": 0, "ID": "prod-wc7c0ftyn4", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof", "jsValue": "roof_"}, {"name": "value", "value": "#pg ?@type==\"roof\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"roof\")"}], "variable": "roof", "selectGeom": false}, {"type": 0, "ID": "prod-9bx4nywjv4u", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "top_roof", "jsValue": "top_roof_"}, {"name": "value", "value": "roof[-1]", "usedVars": ["roof"], "jsValue": "roof_[pythonList(-1, roof_.length)]"}], "variable": "top_roof"}, {"type": 8, "ID": "prod-9aqlzhw9j5s", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Plane"}, "argCount": 3, "args": [{"name": "var_name", "value": "top_plane", "jsValue": "top_plane_"}, {"name": "__model__"}, {"name": "entities", "value": "top_roof", "usedVars": ["top_roof"], "jsValue": "top_roof_"}], "variable": "top_plane", "terminate": false}, {"type": 8, "ID": "prod-5pgkp2tlwf6", "enabled": true, "print": false, "meta": {"module": "make", "name": "Cut"}, "argCount": 5, "args": [{"name": "var_name", "value": "new_core", "jsValue": "new_core_"}, {"name": "__model__"}, {"name": "entities", "value": "core", "usedVars": ["core"], "jsValue": "core_"}, {"name": "plane", "value": "top_plane", "usedVars": ["top_plane"], "jsValue": "top_plane_"}, {"name": "method", "value": "'keep_below'", "jsValue": "'keep_below'", "usedVars": []}], "variable": "new_core"}, {"type": 0, "ID": "prod-v76n79ht0gd", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "new_core@type", "jsValue": "new_core_@type", "usedVars": ["new_core"]}, {"name": "value", "value": "\"new_core\"", "usedVars": [], "jsValue": "\"new_core\""}], "variable": null, "selectGeom": false}, {"type": 8, "ID": "prod-rym79osbms9", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "core", "usedVars": ["core"], "jsValue": "core_"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}]}, {"type": 14, "ID": "prod-bzql9lobpr", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Trimming the louvre lines using the top roof plane"}], "selectGeom": false}, {"type": 8, "ID": "prod-7bc291hncns", "enabled": true, "print": false, "meta": {"module": "make", "name": "Cut"}, "argCount": 5, "args": [{"name": "var_name", "value": "new_louvre_lines", "jsValue": "new_louvre_lines_"}, {"name": "__model__"}, {"name": "entities", "value": "louvre_lines", "usedVars": ["louvre_lines"], "jsValue": "louvre_lines_"}, {"name": "plane", "value": "top_plane", "usedVars": ["top_plane"], "jsValue": "top_plane_"}, {"name": "method", "value": "'keep_below'", "jsValue": "'keep_below'", "usedVars": []}], "variable": "new_louvre_lines", "selectGeom": false}, {"type": 8, "ID": "prod-2ow1wcfqzkz", "enabled": true, "print": false, "meta": {"module": "edit", "name": "Delete"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "louvre_lines", "usedVars": ["louvre_lines"], "jsValue": "louvre_lines_"}, {"name": "method", "value": "'delete_selected'", "jsValue": "'delete_selected'", "usedVars": []}], "selectGeom": false}, {"type": 0, "ID": "prod-mjgwd735mvq", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "new_louvre_lines@type", "jsValue": "new_louvre_lines_@type", "usedVars": ["new_louvre_lines"]}, {"name": "value", "value": "\"new_louvre_lines\"", "usedVars": [], "jsValue": "\"new_louvre_lines\""}], "variable": null}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Louvres", "id": "node_5h7ghn2owyn", "position": {"x": 5340, "y": 5560}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-6u4hd8fotk5", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Code for louvres of rectangular core "}], "selectGeom": false}, {"type": 1, "ID": "prod-mwfs1e6hp3", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "BUILDING_SHAPE == \"rectangular\"", "usedVars": ["BUILDING_SHAPE"], "jsValue": "BUILDING_SHAPE_ == \"rectangular\""}], "children": [{"type": 13, "ID": "prod-mwfs1e6hp3-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "ID": "prod-6fb6d5n7psq", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "base_pline", "jsValue": "base_pline_"}, {"name": "value", "value": "#pl ?@type==\"base_pline\"", "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pl', null), ['type', null], '==', \"base_pline\")", "usedVars": []}], "variable": "base_pline", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 0, "ID": "prod-unals8vbrzk", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "posi_normals_list", "jsValue": "posi_normals_list_"}, {"name": "value", "value": "[]", "jsValue": "[]", "usedVars": []}], "variable": "posi_normals_list", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 14, "ID": "prod-8yxjliiefbi", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Calculate normals for each position on the base with a foreach loop"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 4, "ID": "prod-fd2j2j0us4", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "vert", "jsValue": "vert_"}, {"name": "list", "value": "base_pline#_v", "jsValue": "__modules__.query.Get(__params__.model, '_v', base_pline_)", "usedVars": ["base_pline"]}], "children": [{"type": 13, "ID": "prod-5u3ooakxcwd", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4", "ID": "prod-o2dkr7tckjq", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "edges", "jsValue": "edges_"}, {"name": "value", "value": "vert#_e", "jsValue": "__modules__.query.Get(__params__.model, '_e', vert_)", "usedVars": ["vert"]}], "variable": "edges", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4", "ID": "prod-jwycsyhwcf", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Vector"}, "argCount": 3, "args": [{"name": "var_name", "value": "vec_a", "jsValue": "vec_a_"}, {"name": "__model__"}, {"name": "entities", "value": "edges[0]", "jsValue": "edges_[pythonList(0, edges_.length)]", "usedVars": ["edges"]}], "variable": "vec_a", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4", "ID": "prod-zs5haqbccw", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "vec_a", "jsValue": "vec_a_"}, {"name": "value", "value": "vec_a", "jsValue": "vec_a_", "usedVars": ["vec_a"]}], "variable": "vec_a", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4", "ID": "prod-zv29oyw91x9", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Vector"}, "argCount": 3, "args": [{"name": "var_name", "value": "vec_b", "jsValue": "vec_b_"}, {"name": "__model__"}, {"name": "entities", "value": "edges[1]", "jsValue": "edges_[pythonList(1, edges_.length)]", "usedVars": ["edges"]}], "variable": "vec_b", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4", "ID": "prod-ajpihlytge4", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Vec_a = [x,y,z], normal_a = [y,-x, z]"}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4", "ID": "prod-8u4tqfatvm8", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "normal_a", "jsValue": "normal_a_"}, {"name": "value", "value": "[vec_a[1], -vec_a[0], 0]", "jsValue": "[vec_a_[pythonList(1, vec_a_.length)], -vec_a_[pythonList(0, vec_a_.length)], 0]", "usedVars": ["vec_a"]}], "variable": "normal_a", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4", "ID": "prod-l6u71gvix98", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "normal_b", "jsValue": "normal_b_"}, {"name": "value", "value": "[vec_b[1], -vec_b[0], 0]", "jsValue": "[vec_b_[pythonList(1, vec_b_.length)], -vec_b_[pythonList(0, vec_b_.length)], 0]", "usedVars": ["vec_b"]}], "variable": "normal_b", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4", "ID": "prod-z524u4jhg88", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "posi", "jsValue": "posi_"}, {"name": "value", "value": "vert#ps[0]", "jsValue": "__modules__.query.Get(__params__.model, 'ps', vert_)[pythonList(0, __modules__.query.Get(__params__.model, 'ps', vert_).length)]", "usedVars": ["vert"]}], "variable": "posi", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4", "ID": "prod-jzcxvtxvn8", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Calculating normals that are in the direction of extrusion of the louvres"}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4", "ID": "prod-k181tt4g3n", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "posi@norm", "jsValue": "posi_@norm", "usedVars": ["posi"]}, {"name": "value", "value": "vecNorm(vecAdd(normal_a, normal_b))", "jsValue": "vecNorm(__debug__, vecAdd(__debug__, normal_a_, normal_b_))", "usedVars": ["normal_a", "normal_b"]}], "variable": null, "selectGeom": false, "terminate": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4", "ID": "prod-837dvzul0bt", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Adding the normals to the list & excluding the normals at the corners of the core base pline"}]}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4", "ID": "prod-ceab57umknq", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "posi@norm[0] == 0", "usedVars": ["posi"], "jsValue": "__modules__.attrib.Get(__params__.model, posi_, ['norm', 0])== 0"}], "children": [{"type": 13, "ID": "prod-q6q0y7uf5xl", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4~children~12", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4~children~12", "ID": "prod-3e8xj0j8pyf", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "posi_normals_list", "jsValue": "posi_normals_list_", "usedVars": ["posi_normals_list"]}, {"name": "item", "value": "posi@norm", "jsValue": "__modules__.attrib.Get(__params__.model, posi_, 'norm')", "usedVars": ["posi"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false, "terminate": false}], "selectGeom": false}, {"type": 2, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4", "ID": "prod-3kv6dmwrppw", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "posi@norm[0] == 1", "usedVars": ["posi"], "jsValue": "__modules__.attrib.Get(__params__.model, posi_, ['norm', 0])== 1"}], "children": [{"type": 13, "ID": "prod-cbqkuczg4", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4~children~13", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4~children~13", "ID": "prod-916hl5d72wh", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "posi_normals_list", "jsValue": "posi_normals_list_", "usedVars": ["posi_normals_list"]}, {"name": "item", "value": "posi@norm", "jsValue": "__modules__.attrib.Get(__params__.model, posi_, 'norm')", "usedVars": ["posi"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false, "terminate": false}], "selectGeom": false}, {"type": 2, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4", "ID": "prod-o621f6arwy", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "posi@norm[0] == -1", "usedVars": ["posi"], "jsValue": "__modules__.attrib.Get(__params__.model, posi_, ['norm', 0])== -1"}], "children": [{"type": 13, "ID": "prod-3g8g8yiumy5", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4~children~14", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4~children~14", "ID": "prod-mfmhg996td", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "posi_normals_list", "jsValue": "posi_normals_list_", "usedVars": ["posi_normals_list"]}, {"name": "item", "value": "posi@norm", "jsValue": "__modules__.attrib.Get(__params__.model, posi_, 'norm')", "usedVars": ["posi"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false, "terminate": false}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4", "ID": "prod-zil7684w5f", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Visualising the normal (lines can be disabled)"}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4", "ID": "prod-e0u6pc08jlr", "enabled": false, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "ray", "jsValue": "ray_"}, {"name": "value", "value": "rayMake(posi@xyz , posi@norm )", "usedVars": ["posi"], "jsValue": "rayMake(__debug__,  __modules__.attrib.Get(__params__.model, posi_, 'xyz'),  __modules__.attrib.Get(__params__.model, posi_, 'norm'))"}], "variable": "ray", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~4", "ID": "prod-5czynn3z5m", "enabled": false, "print": false, "meta": {"module": "visualize", "name": "Ray"}, "argCount": 4, "args": [{"name": "var_name", "value": "visual", "jsValue": "visual_"}, {"name": "__model__"}, {"name": "rays", "value": "ray", "usedVars": ["ray"], "jsValue": "ray_"}, {"name": "scale", "value": "0.1", "usedVars": [], "jsValue": "0.1"}], "variable": "visual", "selectGeom": false}], "variable": "vert", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 0, "ID": "prod-rzu63i6777k", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "@normal", "jsValue": "@normal", "usedVars": []}, {"name": "value", "value": "posi_normals_list", "jsValue": "posi_normals_list_", "usedVars": ["posi_normals_list"]}], "variable": null, "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 0, "ID": "prod-e0jcak7mt05", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "length", "jsValue": "length_"}, {"name": "value", "value": "len(posi_normals_list)", "usedVars": ["posi_normals_list"], "jsValue": "len(__debug__, posi_normals_list_)"}], "variable": "length", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 14, "ID": "prod-s318iea35dn", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Excluding the louvre lines at the corners of the core from being extruded into louvres "}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 0, "ID": "prod-cg2m53mu6bn", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "new_louvre_lines", "jsValue": "new_louvre_lines_"}, {"name": "value", "value": "#pl ?@type==\"new_louvre_lines\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pl', null), ['type', null], '==', \"new_louvre_lines\")"}], "variable": "new_louvre_lines", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 8, "ID": "prod-32q79fmdid4", "enabled": true, "print": false, "meta": {"module": "list", "name": "Remove"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "new_louvre_lines", "usedVars": ["new_louvre_lines"], "jsValue": "new_louvre_lines_"}, {"name": "item", "value": "[0]", "usedVars": [], "jsValue": "[0]"}, {"name": "method", "value": "'index'", "jsValue": "'index'", "usedVars": []}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 8, "ID": "prod-3bxnvsgk2fh", "enabled": true, "print": false, "meta": {"module": "list", "name": "Remove"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "new_louvre_lines", "usedVars": ["new_louvre_lines"], "jsValue": "new_louvre_lines_"}, {"name": "item", "value": "[NUM_LOUVRES]", "usedVars": ["NUM_LOUVRES"], "jsValue": "[NUM_LOUVRES_]"}, {"name": "method", "value": "'index'", "jsValue": "'index'", "usedVars": []}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 8, "ID": "prod-s633h5bp2i", "enabled": true, "print": false, "meta": {"module": "list", "name": "Remove"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "new_louvre_lines", "usedVars": ["new_louvre_lines"], "jsValue": "new_louvre_lines_"}, {"name": "item", "value": "[NUM_LOUVRES * 2]", "usedVars": ["NUM_LOUVRES"], "jsValue": "[NUM_LOUVRES_ * 2]"}, {"name": "method", "value": "'index'", "jsValue": "'index'", "usedVars": []}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 8, "ID": "prod-2ono1ozm5co", "enabled": true, "print": false, "meta": {"module": "list", "name": "Remove"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "new_louvre_lines", "usedVars": ["new_louvre_lines"], "jsValue": "new_louvre_lines_"}, {"name": "item", "value": "[NUM_LOUVRES * 3]", "usedVars": ["NUM_LOUVRES"], "jsValue": "[NUM_LOUVRES_ * 3]"}, {"name": "method", "value": "'index'", "jsValue": "'index'", "usedVars": []}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 0, "ID": "prod-is7g39n6r2", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "louvres_lst", "jsValue": "louvres_lst_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "louvres_lst", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-cps7yh7aeps", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "extrude_vec_lst", "jsValue": "extrude_vec_lst_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "extrude_vec_lst"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2", "ID": "prod-5e4padp4139", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Extruding the louvres"}]}, {"type": 4, "ID": "prod-yxwwjwmhbi", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "i", "jsValue": "i_"}, {"name": "list", "value": "range(0, len(posi_normals_list))", "usedVars": ["posi_normals_list"], "jsValue": "range(__debug__, 0, len(__debug__, posi_normals_list_))"}], "children": [{"type": 13, "ID": "prod-xbxnio0prl8", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~16", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~16", "ID": "prod-56v2lpc61q", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "extrude_vec", "jsValue": "extrude_vec_"}, {"name": "value", "value": "vecSetLen(posi_normals_list[i], EXTRUSION_DIST)", "usedVars": ["EXTRUSION_DIST", "posi_normals_list", "i"], "jsValue": "vecSetLen(__debug__, posi_normals_list_[pythonList(i_, posi_normals_list_.length)], EXTRUSION_DIST_)"}], "variable": "extrude_vec", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~16", "ID": "prod-sxlu5di8av", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "extrude_pgon", "jsValue": "extrude_pgon_"}, {"name": "__model__"}, {"name": "entities", "value": "new_louvre_lines[i]", "jsValue": "new_louvre_lines_[pythonList(i_, new_louvre_lines_.length)]", "usedVars": ["new_louvre_lines", "i"]}, {"name": "distance", "value": "extrude_vec", "jsValue": "extrude_vec_", "usedVars": ["extrude_vec"]}, {"name": "divisions", "value": "1", "jsValue": "1", "usedVars": []}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "extrude_pgon", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~16", "ID": "prod-616ft4z894v", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "louvres_lst", "usedVars": ["louvres_lst"], "jsValue": "louvres_lst_"}, {"name": "item", "value": "extrude_pgon", "usedVars": ["extrude_pgon"], "jsValue": "extrude_pgon_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false, "terminate": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~16", "ID": "prod-4475laii7c3", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "extrude_vec_lst", "usedVars": ["extrude_vec_lst"], "jsValue": "extrude_vec_lst_"}, {"name": "item", "value": "extrude_vec", "usedVars": ["extrude_vec"], "jsValue": "extrude_vec_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false, "terminate": false}], "variable": "i", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}, {"type": 0, "ID": "prod-ap17kkxzsnl", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "louvres_lst@type", "jsValue": "louvres_lst_@type", "usedVars": ["louvres_lst"]}, {"name": "value", "value": "\"louvre\"", "usedVars": [], "jsValue": "\"louvre\""}], "variable": null, "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2"}]}, {"type": 14, "ID": "prod-34v8l7y7t14", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Code for louvres of polygonal core "}]}, {"type": 2, "ID": "prod-har47cjtn3g", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "BUILDING_SHAPE == \"polygonal\"", "usedVars": ["BUILDING_SHAPE"], "jsValue": "BUILDING_SHAPE_ == \"polygonal\""}], "children": [{"type": 13, "ID": "prod-har47cjtn3g-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "ID": "prod-2tfk48mqbdi", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "base_pline", "jsValue": "base_pline_"}, {"name": "value", "value": "#pl ?@type==\"base_pline\"", "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pl', null), ['type', null], '==', \"base_pline\")", "usedVars": []}], "variable": "base_pline", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4", "ID": "prod-4on2dd93yzn", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "vert", "jsValue": "vert_"}, {"name": "value", "value": "base_pline#_v", "usedVars": ["base_pline"], "jsValue": "__modules__.query.Get(__params__.model, '_v', base_pline_)"}], "variable": "vert", "selectGeom": false}, {"type": 0, "ID": "prod-2rpxvfk6a7g", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "lst2", "jsValue": "lst2_"}, {"name": "value", "value": "[]", "jsValue": "[]", "usedVars": []}], "variable": "lst2", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4"}, {"type": 14, "ID": "prod-n4i1poxyei", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Calculate normals for each position on the base with a foreach loop"}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4"}, {"type": 4, "ID": "prod-ayro3xq06w", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "vert", "jsValue": "vert_"}, {"name": "list", "value": "base_pline#_v", "jsValue": "__modules__.query.Get(__params__.model, '_v', base_pline_)", "usedVars": ["base_pline"]}], "children": [{"type": 13, "ID": "prod-afxet22ion", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~5", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~5", "ID": "prod-44pn0moy0ou", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "edges", "jsValue": "edges_"}, {"name": "value", "value": "vert#_e", "jsValue": "__modules__.query.Get(__params__.model, '_e', vert_)", "usedVars": ["vert"]}], "variable": "edges", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~5", "ID": "prod-x7ith4g6ya", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Vector"}, "argCount": 3, "args": [{"name": "var_name", "value": "vec_a", "jsValue": "vec_a_"}, {"name": "__model__"}, {"name": "entities", "value": "edges[0]", "jsValue": "edges_[pythonList(0, edges_.length)]", "usedVars": ["edges"]}], "variable": "vec_a", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~5", "ID": "prod-q4nk1d1mfde", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "vec_a", "jsValue": "vec_a_"}, {"name": "value", "value": "vec_a", "jsValue": "vec_a_", "usedVars": ["vec_a"]}], "variable": "vec_a", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~5", "ID": "prod-mbakcszjlzc", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Vector"}, "argCount": 3, "args": [{"name": "var_name", "value": "vec_b", "jsValue": "vec_b_"}, {"name": "__model__"}, {"name": "entities", "value": "edges[1]", "jsValue": "edges_[pythonList(1, edges_.length)]", "usedVars": ["edges"]}], "variable": "vec_b", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~5", "ID": "prod-asqtiuqhpd", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Vec_a = [x,y,z], normal_a = [y,-x, z]"}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~5", "ID": "prod-xo0iolxnq8j", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "normal_a", "jsValue": "normal_a_"}, {"name": "value", "value": "[vec_a[1], -vec_a[0], 0]", "jsValue": "[vec_a_[pythonList(1, vec_a_.length)], -vec_a_[pythonList(0, vec_a_.length)], 0]", "usedVars": ["vec_a"]}], "variable": "normal_a", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~5", "ID": "prod-olirlo77rv", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "normal_b", "jsValue": "normal_b_"}, {"name": "value", "value": "[vec_b[1], -vec_b[0], 0]", "jsValue": "[vec_b_[pythonList(1, vec_b_.length)], -vec_b_[pythonList(0, vec_b_.length)], 0]", "usedVars": ["vec_b"]}], "variable": "normal_b", "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~5", "ID": "prod-qokvaxlg9xe", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "posi", "jsValue": "posi_"}, {"name": "value", "value": "vert#ps[0]", "jsValue": "__modules__.query.Get(__params__.model, 'ps', vert_)[pythonList(0, __modules__.query.Get(__params__.model, 'ps', vert_).length)]", "usedVars": ["vert"]}], "variable": "posi", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~5", "ID": "prod-u66oxxgrq98", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Calculating normals that are in the direction of extrusion of the louvres"}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~5", "ID": "prod-vq5k7cneovl", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "posi@norm", "jsValue": "posi_@norm", "usedVars": ["posi"]}, {"name": "value", "value": "vecNorm(vecAdd(normal_a, normal_b))", "jsValue": "vecNorm(__debug__, vecAdd(__debug__, normal_a_, normal_b_))", "usedVars": ["normal_a", "normal_b"]}], "variable": null, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~5", "ID": "prod-2a1hlkrzdct", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Adding the normals to the list & excluding the normals at the corners of the core base pline"}], "selectGeom": false}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~5", "ID": "prod-c48xdhof6jk", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "posi@norm[0] < 1", "usedVars": ["posi"], "jsValue": "__modules__.attrib.Get(__params__.model, posi_, ['norm', 0])< 1"}], "children": [{"type": 13, "ID": "prod-yge4f1rcmr", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~5~children~12", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~5~children~12", "ID": "prod-n6h6og0o4xe", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "lst2", "usedVars": ["lst2"], "jsValue": "lst2_"}, {"name": "item", "value": "posi@norm", "usedVars": ["posi"], "jsValue": "__modules__.attrib.Get(__params__.model, posi_, 'norm')"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~5", "ID": "prod-yv8k1ze3ab", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Visualising the normal (lines can be disabled)"}], "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~5", "ID": "prod-q19ijh3p0ye", "enabled": false, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "ray", "jsValue": "ray_"}, {"name": "value", "value": "rayMake(posi@xyz , posi@norm )", "usedVars": ["posi"], "jsValue": "rayMake(__debug__,  __modules__.attrib.Get(__params__.model, posi_, 'xyz'),  __modules__.attrib.Get(__params__.model, posi_, 'norm'))"}], "variable": "ray", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~5", "ID": "prod-nllwz013amn", "enabled": false, "print": false, "meta": {"module": "visualize", "name": "Ray"}, "argCount": 4, "args": [{"name": "var_name", "value": "visual", "jsValue": "visual_"}, {"name": "__model__"}, {"name": "rays", "value": "ray", "usedVars": ["ray"], "jsValue": "ray_"}, {"name": "scale", "value": "0.1", "usedVars": [], "jsValue": "0.1"}], "variable": "visual", "selectGeom": false}], "variable": "vert", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4"}, {"type": 0, "ID": "prod-dxyidxl5rnf", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "@normal", "jsValue": "@normal", "usedVars": []}, {"name": "value", "value": "lst2", "jsValue": "lst2_", "usedVars": ["lst2"]}], "variable": null, "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4"}, {"type": 0, "ID": "prod-357ip5mifzd", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "length", "jsValue": "length_"}, {"name": "value", "value": "len(lst2)", "usedVars": ["lst2"], "jsValue": "len(__debug__, lst2_)"}], "variable": "length", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4"}, {"type": 0, "ID": "prod-q3fit0j4wei", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "new_louvre_lines", "jsValue": "new_louvre_lines_"}, {"name": "value", "value": "#pl ?@type==\"new_louvre_lines\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pl', null), ['type', null], '==', \"new_louvre_lines\")"}], "variable": "new_louvre_lines", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4"}, {"type": 0, "ID": "prod-pjxaizm6b6c", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "louvres_lst", "jsValue": "louvres_lst_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "louvres_lst", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4", "ID": "prod-yjpnsbsciik", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "extrude_vec_lst", "jsValue": "extrude_vec_lst_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "extrude_vec_lst", "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4", "ID": "prod-z5uqgwzik3s", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Extruding the louvres"}], "selectGeom": false}, {"type": 4, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4", "ID": "prod-i4kse9q4vkq", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "i", "jsValue": "i_"}, {"name": "list", "value": "range(0, len(lst2) - 1)", "usedVars": ["lst2"], "jsValue": "range(__debug__, 0, len(__debug__, lst2_) - 1)"}], "children": [{"type": 13, "ID": "prod-i4kse9q4vkq-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~12", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~12", "ID": "prod-18s9t0xo2or", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "extrude_vec", "jsValue": "extrude_vec_"}, {"name": "value", "value": "vecSetLen(lst2[i], EXTRUSION_DIST)", "usedVars": ["EXTRUSION_DIST", "lst2", "i"], "jsValue": "vecSetLen(__debug__, lst2_[pythonList(i_, lst2_.length)], EXTRUSION_DIST_)"}], "variable": "extrude_vec", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~12", "ID": "prod-6i8yjdmhmrq", "enabled": true, "print": false, "meta": {"module": "make", "name": "Extrude"}, "argCount": 6, "args": [{"name": "var_name", "value": "extrude_pgon", "jsValue": "extrude_pgon_"}, {"name": "__model__"}, {"name": "entities", "value": "new_louvre_lines[i]", "jsValue": "new_louvre_lines_[pythonList(i_, new_louvre_lines_.length)]", "usedVars": ["new_louvre_lines", "i"]}, {"name": "distance", "value": "extrude_vec", "jsValue": "extrude_vec_", "usedVars": ["extrude_vec"]}, {"name": "divisions", "value": "1", "jsValue": "1", "usedVars": []}, {"name": "method", "value": "'quads'", "jsValue": "'quads'", "usedVars": []}], "variable": "extrude_pgon", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~12", "ID": "prod-w92iis4usw", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "louvres_lst", "usedVars": ["louvres_lst"], "jsValue": "louvres_lst_"}, {"name": "item", "value": "extrude_pgon", "usedVars": ["extrude_pgon"], "jsValue": "extrude_pgon_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false, "terminate": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4~children~12", "ID": "prod-v4bomlfwaes", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "extrude_vec_lst", "usedVars": ["extrude_vec_lst"], "jsValue": "extrude_vec_lst_"}, {"name": "item", "value": "extrude_vec", "usedVars": ["extrude_vec"], "jsValue": "extrude_vec_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false, "terminate": false}], "variable": "i"}, {"type": 0, "ID": "prod-figt30ljcyq", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "louvres_lst@type", "jsValue": "louvres_lst_@type", "usedVars": ["louvres_lst"]}, {"name": "value", "value": "\"louvre\"", "usedVars": [], "jsValue": "\"louvre\""}], "variable": null, "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~4"}]}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Colour & Materiality", "id": "node_04ds9d50g618", "position": {"x": 5340, "y": 5740}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-h60oblz5l88", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Assigning the colour black to the floor slabs"}], "selectGeom": false}, {"type": 0, "ID": "prod-o5vpiwxqpmp", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "floor_slabs", "jsValue": "floor_slabs_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "floor_slabs", "selectGeom": false}, {"type": 0, "ID": "prod-t8g3weq5ee", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "floors", "jsValue": "floors_"}, {"name": "value", "value": "#pg ?@type==\"floor\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"floor\")"}], "variable": "floors", "selectGeom": false}, {"type": 0, "ID": "prod-0g91qe0gzcga", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "extruded_floors", "jsValue": "extruded_floors_"}, {"name": "value", "value": "#pg ?@type==\"extruded_floors\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"extruded_floors\")"}], "variable": "extruded_floors", "selectGeom": false}, {"type": 8, "ID": "prod-6rfnti30tnc", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "floor_slabs", "usedVars": ["floor_slabs"], "jsValue": "floor_slabs_"}, {"name": "item", "value": "floors", "usedVars": ["floors"], "jsValue": "floors_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "ID": "prod-ncrw168a74", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "floor_slabs", "usedVars": ["floor_slabs"], "jsValue": "floor_slabs_"}, {"name": "item", "value": "extruded_floors", "usedVars": ["extruded_floors"], "jsValue": "extruded_floors_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 0, "ID": "prod-9z88ghpk79", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "floor_slabs@type", "jsValue": "floor_slabs_@type", "usedVars": ["floor_slabs"]}, {"name": "value", "value": "\"floor_planes\"", "usedVars": [], "jsValue": "\"floor_planes\""}], "variable": null, "selectGeom": false}, {"type": 8, "ID": "prod-mt21sld0w", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "floor_slabs", "usedVars": ["floor_slabs"], "jsValue": "floor_slabs_"}, {"name": "color", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}]}, {"type": 14, "ID": "prod-ae7kojqgdu8", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Assigning the colour black to the roof slabs"}], "selectGeom": false}, {"type": 0, "ID": "prod-8l7wof95z98", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_slabs", "jsValue": "roof_slabs_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "roof_slabs", "selectGeom": false}, {"type": 0, "ID": "prod-nury9eouo8l", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof", "jsValue": "roof_"}, {"name": "value", "value": "#pg ?@type==\"roof\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"roof\")"}], "variable": "roof", "selectGeom": false}, {"type": 0, "ID": "prod-l455g9rybh", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "extruded_roofs", "jsValue": "extruded_roofs_"}, {"name": "value", "value": "#pg ?@type==\"extruded_roofs\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"extruded_roofs\")"}], "variable": "extruded_roofs", "selectGeom": false}, {"type": 8, "ID": "prod-s9mfggscvos", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "roof_slabs", "usedVars": ["roof_slabs"], "jsValue": "roof_slabs_"}, {"name": "item", "value": "roof", "usedVars": ["roof"], "jsValue": "roof_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "ID": "prod-ku08dpnaf", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "roof_slabs", "usedVars": ["roof_slabs"], "jsValue": "roof_slabs_"}, {"name": "item", "value": "extruded_roofs", "usedVars": ["extruded_roofs"], "jsValue": "extruded_roofs_"}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 0, "ID": "prod-njlejqxzr", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "roof_slabs@type", "jsValue": "roof_slabs_@type", "usedVars": ["roof_slabs"]}, {"name": "value", "value": "\"roof_planes\"", "usedVars": [], "jsValue": "\"roof_planes\""}], "variable": null, "selectGeom": false}, {"type": 8, "ID": "prod-fxbabgbpwki", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "roof_slabs", "usedVars": ["roof_slabs"], "jsValue": "roof_slabs_"}, {"name": "color", "value": "[0, 0, 0]", "usedVars": [], "jsValue": "[0, 0, 0]"}], "selectGeom": false}, {"type": 14, "ID": "prod-qcxqorea78b", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Assigning glass material to the building core"}], "selectGeom": false}, {"type": 0, "ID": "prod-van8w1d2p2", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "new_core", "jsValue": "new_core_"}, {"name": "value", "value": "#pg ?@type==\"new_core\"", "usedVars": [], "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"new_core\")"}], "variable": "new_core"}, {"type": 8, "ID": "prod-nhi0dtz9lpb", "enabled": true, "print": false, "meta": {"module": "material", "name": "Glass"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "name", "value": "\"glass\"", "usedVars": [], "jsValue": "\"glass\""}, {"name": "opacity", "value": "0.7", "usedVars": [], "jsValue": "0.7"}]}, {"type": 8, "ID": "prod-zbjd89bpllg", "enabled": true, "print": false, "meta": {"module": "material", "name": "Set"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "new_core", "usedVars": ["new_core"], "jsValue": "new_core_"}, {"name": "material", "value": "\"glass\"", "usedVars": [], "jsValue": "\"glass\""}]}, {"type": 14, "ID": "prod-8j9bsixhvwg", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Assigning wood material to the louvres"}], "selectGeom": false}, {"type": 0, "ID": "prod-2nhy5oht0s8", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "louvres_lst", "jsValue": "louvres_lst_"}, {"name": "value", "value": "#pg ?@type==\"louvre\"", "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"louvre\")", "usedVars": []}], "variable": "louvres_lst", "selectGeom": false}, {"type": 8, "ID": "prod-6wa6znp4cl8", "enabled": true, "print": false, "meta": {"module": "material", "name": "MeshMat"}, "argCount": 7, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "name", "value": "\"wood\"", "usedVars": [], "jsValue": "\"wood\""}, {"name": "color", "value": "[193 / 255, 154 / 255, 107 / 255]", "usedVars": [], "jsValue": "[193 / 255, 154 / 255, 107 / 255]"}, {"name": "opacity", "value": "1", "usedVars": [], "jsValue": "1"}, {"name": "select_side", "value": "'both'", "jsValue": "'both'", "usedVars": []}, {"name": "select_vert_colors", "value": "'apply_rgb'", "jsValue": "'apply_rgb'", "usedVars": []}]}, {"type": 8, "ID": "prod-mm7rw3qzmio", "enabled": true, "print": false, "meta": {"module": "material", "name": "Set"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "louvres_lst", "usedVars": ["louvres_lst"], "jsValue": "louvres_lst_"}, {"name": "material", "value": "\"wood\"", "usedVars": [], "jsValue": "\"wood\""}], "selectGeom": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "Solar Response", "id": "node_pb8eaj6jhc", "position": {"x": 5340, "y": 5900}, "enabled": true, "type": "", "procedure": [{"type": 13, "ID": "main_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "ID": "prod-1fodv0pbyk9", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Creating a sun model"}]}, {"type": 0, "ID": "prod-s9qzfsllh5r", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "sun_pline_lst", "jsValue": "sun_pline_lst_"}, {"name": "value", "value": "[]", "jsValue": "[]", "usedVars": []}], "variable": "sun_pline_lst", "selectGeom": false}, {"type": 0, "ID": "prod-y6cnfi8ahh", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "sun_posi", "jsValue": "sun_posi_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "sun_posi", "selectGeom": false}, {"type": 0, "ID": "prod-i5k4iwlwoqq", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "sun_divs", "jsValue": "sun_divs_"}, {"name": "value", "value": "20", "jsValue": "20", "usedVars": []}], "variable": "sun_divs", "selectGeom": false}, {"type": 0, "ID": "prod-g88kuynn3w7", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "sun_rad", "jsValue": "sun_rad_"}, {"name": "value", "value": "10", "jsValue": "10", "usedVars": []}], "variable": "sun_rad", "selectGeom": false}, {"type": 14, "ID": "prod-53hr1gqcobd", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Creating the polylines for the sun model"}], "selectGeom": false}, {"type": 4, "ID": "prod-0s3ncqdbhn8", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "i", "jsValue": "i_"}, {"name": "list", "value": "range(-(sun_divs + 1), sun_divs + 1)", "jsValue": "range(__debug__, -(sun_divs_ + 1), sun_divs_ + 1)", "usedVars": ["sun_divs"]}], "children": [{"type": 13, "ID": "prod-6p46n2afvpr", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7", "ID": "prod-m55tya36icg", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Creating the positions for the sun and move the created positions upwards according to increasing i-value"}], "selectGeom": false}, {"type": 8, "ID": "prod-udh3uc7ucia", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "sun_posi", "jsValue": "sun_posi_"}, {"name": "__model__"}, {"name": "origin", "value": "[0, 0, 0 + (sun_rad * sin(PI / 2 / sun_divs * i))]", "jsValue": "[0, 0, 0 + (sun_rad_ * sin(__debug__, JSON.parse(JSON.stringify(PI)) / 2 / sun_divs_ * i_))]", "usedVars": ["sun_divs", "sun_rad", "i"]}, {"name": "radius", "value": "sun_rad * cos(PI / 2 / sun_divs * i)", "jsValue": "sun_rad_ * cos(__debug__, JSON.parse(JSON.stringify(PI)) / 2 / sun_divs_ * i_)", "usedVars": ["sun_divs", "sun_rad", "i"]}, {"name": "num_positions", "value": "sun_divs", "jsValue": "sun_divs_", "usedVars": ["sun_divs"]}, {"name": "arc_angle", "value": "null", "jsValue": "null", "usedVars": []}], "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7", "variable": "sun_posi"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7", "ID": "prod-3i56upccg09", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Creating polylines for the sun"}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7", "ID": "prod-c3an06bmxcr", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "sun_pline", "jsValue": "sun_pline_"}, {"name": "__model__"}, {"name": "entities", "value": "sun_posi", "jsValue": "sun_posi_", "usedVars": ["sun_posi"]}, {"name": "close", "value": "'close'", "jsValue": "'close'", "usedVars": []}], "variable": "sun_pline", "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7", "ID": "prod-ziuihmlafyh", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "sun_posi", "jsValue": "sun_posi_", "usedVars": ["sun_posi"]}, {"name": "item", "value": "sun_posi", "jsValue": "sun_posi_", "usedVars": ["sun_posi"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~7", "ID": "prod-lw2f9surrp", "enabled": true, "print": false, "meta": {"module": "list", "name": "Add"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "list", "value": "sun_pline_lst", "jsValue": "sun_pline_lst_", "usedVars": ["sun_pline_lst"]}, {"name": "item", "value": "sun_pline", "jsValue": "sun_pline_", "usedVars": ["sun_pline"]}, {"name": "method", "value": "'to_end'", "jsValue": "'to_end'", "usedVars": []}], "selectGeom": false}], "variable": "i", "selectGeom": false}, {"type": 14, "ID": "prod-o9mfft7dz8", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Creating the surface of the sun model "}], "selectGeom": false}, {"type": 8, "ID": "prod-4pnywu2p3i", "enabled": true, "print": false, "meta": {"module": "make", "name": "Loft"}, "argCount": 5, "args": [{"name": "var_name", "value": "sun", "jsValue": "sun_"}, {"name": "__model__"}, {"name": "entities", "value": "sun_pline_lst", "jsValue": "sun_pline_lst_", "usedVars": ["sun_pline_lst"]}, {"name": "divisions", "value": "1", "jsValue": "1", "usedVars": []}, {"name": "method", "value": "'open_quads'", "jsValue": "'open_quads'", "usedVars": []}], "variable": "sun", "selectGeom": false}, {"type": 14, "ID": "prod-g07d92unc9o", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Assigning the colour yellow to the sun"}], "selectGeom": false}, {"type": 8, "ID": "prod-cv3s54p9pqp", "enabled": true, "print": false, "meta": {"module": "visualize", "name": "Color"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "sun", "usedVars": ["sun"], "jsValue": "sun_"}, {"name": "color", "value": "[1, 0.95, 0.1]", "usedVars": [], "jsValue": "[1, 0.95, 0.1]"}], "selectGeom": false}, {"type": 14, "ID": "prod-jtvufpj69m", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Creating an arc for the sun path"}], "selectGeom": false}, {"type": 8, "ID": "prod-w87cjk9gga", "enabled": true, "print": false, "meta": {"module": "pattern", "name": "Arc"}, "argCount": 6, "args": [{"name": "var_name", "value": "sun_arc", "jsValue": "sun_arc_"}, {"name": "__model__"}, {"name": "origin", "value": "YZ", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(YZ))"}, {"name": "radius", "value": "300", "usedVars": [], "jsValue": "300"}, {"name": "num_positions", "value": "14", "usedVars": [], "jsValue": "14"}, {"name": "arc_angle", "value": "PI", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(PI))"}], "variable": "sun_arc", "selectGeom": false}, {"type": 8, "ID": "prod-kkpm44ph1i", "enabled": true, "print": false, "meta": {"module": "make", "name": "Polyline"}, "argCount": 4, "args": [{"name": "var_name", "value": "sun_arc_pline", "jsValue": "sun_arc_pline_"}, {"name": "__model__"}, {"name": "entities", "value": "sun_arc", "usedVars": ["sun_arc"], "jsValue": "sun_arc_"}, {"name": "close", "value": "'open'", "jsValue": "'open'", "usedVars": []}], "variable": "sun_arc_pline", "selectGeom": false}, {"type": 8, "ID": "prod-jsu5yzue5c", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "sun_arc_pline", "usedVars": ["sun_arc_pline"], "jsValue": "sun_arc_pline_"}, {"name": "ray", "value": "XZ", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XZ))"}, {"name": "angle", "value": "PI / 6", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(PI)) / 6"}], "selectGeom": false}, {"type": 14, "ID": "prod-oclrwcltwx", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Moving the sun along the path with the parameter POSI_OF_SUN"}], "selectGeom": false}, {"type": 8, "ID": "prod-x2cnq92c6ce", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Move"}, "argCount": 4, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "sun", "usedVars": ["sun"], "jsValue": "sun_"}, {"name": "vectors", "value": "[0, 300, 0]", "usedVars": [], "jsValue": "[0, 300, 0]"}], "selectGeom": false}, {"type": 8, "ID": "prod-jseriay0i9", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "sun", "usedVars": ["sun"], "jsValue": "sun_"}, {"name": "ray", "value": "YZ", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(YZ))"}, {"name": "angle", "value": "PI * POSI_OF_SUN / 13", "usedVars": ["POSI_OF_SUN"], "jsValue": "JSON.parse(JSON.stringify(PI)) * POSI_OF_SUN_ / 13"}], "selectGeom": false}, {"type": 8, "ID": "prod-yvy6kxxbgz", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "sun", "usedVars": ["sun"], "jsValue": "sun_"}, {"name": "ray", "value": "XZ", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(XZ))"}, {"name": "angle", "value": "PI / 6", "usedVars": [], "jsValue": "JSON.parse(JSON.stringify(PI)) / 6"}], "selectGeom": false}, {"type": 14, "ID": "prod-v42j7xu2beb", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Getting & assigning the coordinates for each POSI_OF_SUN  "}]}, {"type": 0, "ID": "prod-i9lcmb7qnyk", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "sun_coord", "jsValue": "sun_coord_"}, {"name": "value", "value": "[]", "usedVars": [], "jsValue": "[]"}], "variable": "sun_coord"}, {"type": 0, "ID": "prod-78clkrnmgwc", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "sun_coord", "jsValue": "sun_coord_"}, {"name": "value", "value": "sun_arc@xyz", "usedVars": ["sun_arc"], "jsValue": "__modules__.attrib.Get(__params__.model, sun_arc_, 'xyz')"}], "variable": "sun_coord"}, {"type": 0, "ID": "prod-xrocwm2nqn", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "position_sun", "jsValue": "position_sun_"}, {"name": "value", "value": "sun_coord[POSI_OF_SUN]", "usedVars": ["POSI_OF_SUN", "sun_coord"], "jsValue": "sun_coord_[pythonList(POSI_OF_SUN_, sun_coord_.length)]"}], "variable": "position_sun", "terminate": false}, {"type": 14, "ID": "prod-rlyioyzc1la", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Solar response of louvres"}], "selectGeom": false}, {"type": 0, "ID": "prod-sdhn0pvqe3i", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "louvres_lst", "jsValue": "louvres_lst_"}, {"name": "value", "value": "#pg ?@type==\"louvre\"", "jsValue": "__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"louvre\")", "usedVars": []}], "variable": "louvres_lst", "selectGeom": false}, {"type": 0, "ID": "prod-gnhpzpayixv", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "dot_list", "jsValue": "dot_list_"}, {"name": "value", "value": "[]", "jsValue": "[]", "usedVars": []}], "variable": "dot_list", "selectGeom": false}, {"type": 14, "ID": "prod-0ycf0vmtmb2", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Calculating the angle which the sun rays hit the centre of the louvres"}]}, {"type": 4, "ID": "prod-li28wvl9ld", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "item", "value": "louvre", "jsValue": "louvre_"}, {"name": "list", "value": "louvres_lst", "usedVars": ["louvres_lst"], "jsValue": "louvres_lst_"}], "children": [{"type": 13, "ID": "prod-li28wvl9ld-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "ID": "prod-wk40xk2mjvm", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Centroid"}, "argCount": 4, "args": [{"name": "var_name", "value": "louvre_cen", "jsValue": "louvre_cen_"}, {"name": "__model__"}, {"name": "entities", "value": "louvre", "usedVars": ["louvre"], "jsValue": "louvre_"}, {"name": "method", "value": "'ps_average'", "jsValue": "'ps_average'", "usedVars": []}], "variable": "louvre_cen", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28"}, {"type": 8, "ID": "prod-8gjc7bdjnnk", "enabled": true, "print": false, "meta": {"module": "calc", "name": "Normal"}, "argCount": 4, "args": [{"name": "var_name", "value": "louvre_norm", "jsValue": "louvre_norm_"}, {"name": "__model__"}, {"name": "entities", "value": "louvre", "usedVars": ["louvre"], "jsValue": "louvre_"}, {"name": "scale", "value": "1", "usedVars": [], "jsValue": "1"}], "variable": "louvre_norm", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28"}, {"type": 0, "ID": "prod-f27gwbzthg", "enabled": false, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "ray", "jsValue": "ray_"}, {"name": "value", "value": "rayMake(louvre_cen, louvre_norm)", "usedVars": ["louvre_cen", "louvre_norm"], "jsValue": "rayMake(__debug__, louvre_cen_, louvre_norm_)"}], "variable": "ray", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28"}, {"type": 8, "ID": "prod-2367jve234f", "enabled": false, "print": false, "meta": {"module": "visualize", "name": "Ray"}, "argCount": 4, "args": [{"name": "var_name", "value": "visualise_ray", "jsValue": "visualise_ray_"}, {"name": "__model__"}, {"name": "rays", "value": "ray", "usedVars": ["ray"], "jsValue": "ray_"}, {"name": "scale", "value": "1", "usedVars": [], "jsValue": "1"}], "variable": "visualise_ray", "selectGeom": false, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "ID": "prod-8ugdih1dkpb", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "vec_to_sun", "jsValue": "vec_to_sun_"}, {"name": "value", "value": "vecFromTo(louvre_cen, position_sun)", "usedVars": ["louvre_cen", "position_sun"], "jsValue": "vecFromTo(__debug__, louvre_cen_, position_sun_)"}], "variable": "vec_to_sun"}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "ID": "prod-majz8x4d9g", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "vec_to_sun[2]", "jsValue": "vec_to_sun_[pythonList(2, vec_to_sun_.length)]", "usedVars": ["vec_to_sun"]}, {"name": "value", "value": "0", "usedVars": [], "jsValue": "0"}], "variable": null}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "ID": "prod-u5il0sng0sf", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "angle", "jsValue": "angle_"}, {"name": "value", "value": "vecAng2(louvre_norm, vec_to_sun, [0, 0, 1])", "usedVars": ["louvre_norm", "vec_to_sun"], "jsValue": "vecAng2(__debug__, louvre_norm_, vec_to_sun_, [0, 0, 1])"}], "variable": "angle"}, {"type": 14, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "ID": "prod-bn2e5c49kce", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "comment", "value": "Angle of rotation of the louvres limited to be max PI.To face the other direction if angle is greater than PI. "}]}, {"type": 1, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28", "ID": "prod-zlyim8gnsy9", "enabled": true, "print": false, "argCount": 1, "args": [{"name": "condition", "value": "angle < PI", "usedVars": ["angle"], "jsValue": "angle_ < JSON.parse(JSON.stringify(PI))"}], "children": [{"type": 13, "ID": "prod-zlyim8gnsy9-blank", "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28~children~9", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 8, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28~children~9", "ID": "prod-lipfcky0wsf", "enabled": true, "print": false, "meta": {"module": "modify", "name": "Rotate"}, "argCount": 5, "args": [{"name": "__none__"}, {"name": "__model__"}, {"name": "entities", "value": "louvre", "usedVars": ["louvre"], "jsValue": "louvre_"}, {"name": "ray", "value": "louvre_cen", "usedVars": ["louvre_cen"], "jsValue": "louvre_cen_"}, {"name": "angle", "value": "angle", "usedVars": ["angle"], "jsValue": "angle_"}]}, {"type": 0, "parent": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~28~children~9", "ID": "prod-39lgdso1ww9", "enabled": true, "print": false, "argCount": 2, "args": [{"name": "var_name", "value": "dot", "jsValue": "dot_"}, {"name": "value", "value": "0", "usedVars": [], "jsValue": "0"}], "variable": "dot"}]}], "variable": "louvre"}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [{"source": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output", "target": {"name": "input", "type": 0, "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "meta": {"mode": 0, "opts": {}}, "parentNode": {"name": "End", "id": "node_g0ni9fu012b", "position": {"x": 5340, "y": 6100}, "enabled": true, "type": "end", "procedure": [{"type": 13, "ID": "", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}, {"type": 11, "ID": "Return", "meta": {"name": "", "module": ""}, "argCount": 2, "args": [{"name": "__model__", "value": "", "jsValue": ""}, {"name": "value", "value": "", "jsValue": "", "usedVars": []}], "print": false, "enabled": true, "terminate": false}], "localFunc": [{"type": 13, "ID": "local_func_blank", "meta": {"name": "", "module": ""}, "argCount": 0, "args": [], "print": false, "enabled": true, "selectGeom": false}], "state": {"procedure": [], "show_code": true, "show_func": true}, "input": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target", "output": {"name": "output", "type": 1, "edges": [], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 10}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 9}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 8}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 7}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 6}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 4}}, "selected": false}, "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0"], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0~output~edges~0~target~parentNode"}, "hasError": false, "hasExecuted": true, "model": 3}}, "selected": false}], "meta": {"mode": 0}, "parentNode": "~flowchart~nodes~0"}, "hasError": false, "hasExecuted": true, "model": 2}, "~flowchart~nodes~0~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"], "edges": ["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0", "~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"], "functions": [], "ordered": true, "last_updated": "2021-03-25T07:19:40.423Z"}, "version": "0.7.5", "settings": "{\"normals\":{\"show\":false,\"size\":5},\"axes\":{\"show\":true,\"size\":50},\"grid\":{\"show\":true,\"size\":500,\"pos_x\":0,\"pos_y\":0,\"pos_z\":0,\"pos\":{\"x\":0,\"y\":0,\"z\":0}},\"background\":{\"show\":true,\"background_set\":2},\"positions\":{\"show\":false,\"size\":0.5},\"tjs_summary\":{\"show\":false},\"gi_summary\":{\"show\":true},\"wireframe\":{\"show\":false},\"camera\":{\"pos\":{\"x\":90.22396088460025,\"y\":-57.81415969853442,\"z\":89.22789191746791},\"target\":{\"x\":-59.213359318464086,\"y\":57.6443857011515,\"z\":1.1123919267878342e-16},\"ortho\":false},\"colors\":{\"viewer_bg\":\"#E6E6E6\",\"position\":\"#000000\",\"position_s\":\"#0033FF\",\"vertex_s\":\"#FFCC00\",\"face_f\":\"#FFFFFF\",\"face_f_s\":\"#4949BD\",\"face_b\":\"#DDDDDD\",\"face_b_s\":\"#00006D\"},\"ambient_light\":{\"show\":true,\"color\":\"#FFFFFF\",\"intensity\":0.15},\"hemisphere_light\":{\"show\":true,\"helper\":false,\"skyColor\":\"#FFFFFF\",\"groundColor\":\"#FFFFFF\",\"intensity\":0.15},\"directional_light\":{\"show\":true,\"helper\":false,\"color\":\"#FFFFFF\",\"intensity\":0.78,\"shadow\":true,\"azimuth\":90,\"altitude\":45,\"distance\":10,\"type\":\"directional\",\"shadowSize\":2560},\"ground\":{\"show\":true,\"width\":0,\"length\":400,\"height\":0,\"color\":\"#FFFFFF\",\"shininess\":0},\"select\":{\"selector\":{\"id\":7,\"name\":\"Polygons\"},\"tab\":0,\"enabledselector\":{\"ps\":true,\"_v\":true,\"_e\":true,\"_w\":true,\"_f\":true,\"pt\":true,\"pl\":true,\"pg\":true,\"co\":true}},\"version\":\"0.5.12\",\"geo\":{\"imagery\":{\"layer\":\"Open Street Map\",\"terrain\":\"Ellipsoid\",\"apiKey\":{\"here\":\"7vMRjLNCpcOAUQXU61eUp6EFbWCy7WLNmy9qLHO-1Bw\"}},\"camera\":{\"pos\":{\"x\":-1527170.4564504684,\"y\":6191377.229851589,\"z\":142492.86697965642},\"direction\":{\"x\":0,\"y\":0,\"z\":0},\"up\":{\"x\":0,\"y\":0,\"z\":0},\"right\":{\"x\":0,\"y\":0,\"z\":0},\"rot\":{\"x\":-2.8946890807177175,\"y\":0.03332128705035884,\"z\":2.8868931928931136}},\"time\":{\"date\":\"2021-01-27T16:00\"},\"model\":{\"polygonEdge\":false},\"updated\":true}}"}